ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"inv_mpu.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "DMP/driver/eMPL/inv_mpu.c"
  20              		.section	.text.set_int_enable,"ax",%progbits
  21              		.align	1
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	set_int_enable:
  27              	.LVL0:
  28              	.LFB167:
   1:DMP/driver/eMPL/inv_mpu.c **** /*
   2:DMP/driver/eMPL/inv_mpu.c ****  $License:
   3:DMP/driver/eMPL/inv_mpu.c ****     Copyright (C) 2011-2012 InvenSense Corporation, All Rights Reserved.
   4:DMP/driver/eMPL/inv_mpu.c ****     See included License.txt for License information.
   5:DMP/driver/eMPL/inv_mpu.c ****  $
   6:DMP/driver/eMPL/inv_mpu.c ****  */
   7:DMP/driver/eMPL/inv_mpu.c **** /**
   8:DMP/driver/eMPL/inv_mpu.c ****  *  @addtogroup  DRIVERS Sensor Driver Layer
   9:DMP/driver/eMPL/inv_mpu.c ****  *  @brief       Hardware drivers to communicate with sensors via I2C.
  10:DMP/driver/eMPL/inv_mpu.c ****  *
  11:DMP/driver/eMPL/inv_mpu.c ****  *  @{
  12:DMP/driver/eMPL/inv_mpu.c ****  *      @file       inv_mpu.c
  13:DMP/driver/eMPL/inv_mpu.c ****  *      @brief      An I2C-based driver for Invensense gyroscopes.
  14:DMP/driver/eMPL/inv_mpu.c ****  *      @details    This driver currently works for the following devices:
  15:DMP/driver/eMPL/inv_mpu.c ****  *                  MPU6050
  16:DMP/driver/eMPL/inv_mpu.c ****  *                  MPU6500
  17:DMP/driver/eMPL/inv_mpu.c ****  *                  MPU9150 (or MPU6050 w/ AK8975 on the auxiliary bus)
  18:DMP/driver/eMPL/inv_mpu.c ****  *                  MPU9250 (or MPU6500 w/ AK8963 on the auxiliary bus)
  19:DMP/driver/eMPL/inv_mpu.c ****  */
  20:DMP/driver/eMPL/inv_mpu.c **** #include <stdio.h>
  21:DMP/driver/eMPL/inv_mpu.c **** #include <stdint.h>
  22:DMP/driver/eMPL/inv_mpu.c **** #include <stdlib.h>
  23:DMP/driver/eMPL/inv_mpu.c **** #include <string.h>
  24:DMP/driver/eMPL/inv_mpu.c **** #include <math.h>
  25:DMP/driver/eMPL/inv_mpu.c **** #include "inv_mpu.h"
  26:DMP/driver/eMPL/inv_mpu.c **** #include "mpl.h"
  27:DMP/driver/eMPL/inv_mpu.c **** #include "invensense.h"
  28:DMP/driver/eMPL/inv_mpu.c **** #include "invensense_adv.h"
  29:DMP/driver/eMPL/inv_mpu.c **** #include "data_builder.h"
  30:DMP/driver/eMPL/inv_mpu.c **** #include "eMPL_outputs.h"
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 2


  31:DMP/driver/eMPL/inv_mpu.c **** #include "mltypes.h"
  32:DMP/driver/eMPL/inv_mpu.c **** #include "mpu.h"
  33:DMP/driver/eMPL/inv_mpu.c **** #include "log.h"
  34:DMP/driver/eMPL/inv_mpu.c **** #include "packet.h"
  35:DMP/driver/eMPL/inv_mpu.c **** #include "inv_mpu_dmp_motion_driver.h"
  36:DMP/driver/eMPL/inv_mpu.c **** #include "mpu9250.h"
  37:DMP/driver/eMPL/inv_mpu.c **** 
  38:DMP/driver/eMPL/inv_mpu.c **** /* The following functions must be defined for this platform:
  39:DMP/driver/eMPL/inv_mpu.c ****  * i2c_write(unsigned char slave_addr, unsigned char reg_addr,
  40:DMP/driver/eMPL/inv_mpu.c ****  *      unsigned char length, unsigned char const *data)
  41:DMP/driver/eMPL/inv_mpu.c ****  * i2c_read(unsigned char slave_addr, unsigned char reg_addr,
  42:DMP/driver/eMPL/inv_mpu.c ****  *      unsigned char length, unsigned char *data)
  43:DMP/driver/eMPL/inv_mpu.c ****  * delay_ms(unsigned long num_ms)
  44:DMP/driver/eMPL/inv_mpu.c ****  * get_ms(unsigned long *count)
  45:DMP/driver/eMPL/inv_mpu.c ****  * reg_int_cb(void (*cb)(void), unsigned char port, unsigned char pin)
  46:DMP/driver/eMPL/inv_mpu.c ****  * labs(long x)
  47:DMP/driver/eMPL/inv_mpu.c ****  * fabsf(float x)
  48:DMP/driver/eMPL/inv_mpu.c ****  * min(int a, int b)
  49:DMP/driver/eMPL/inv_mpu.c ****  */
  50:DMP/driver/eMPL/inv_mpu.c **** #if defined EMPL_TARGET_STM32F4
  51:DMP/driver/eMPL/inv_mpu.c **** //#include "main.h"
  52:DMP/driver/eMPL/inv_mpu.c **** #include "log.h"
  53:DMP/driver/eMPL/inv_mpu.c **** unsigned char *mpl_key = (unsigned char*)"eMPL 5.1";
  54:DMP/driver/eMPL/inv_mpu.c **** 
  55:DMP/driver/eMPL/inv_mpu.c **** #define i2c_write   MPU_Write_Len
  56:DMP/driver/eMPL/inv_mpu.c **** #define i2c_read    MPU_Read_Len
  57:DMP/driver/eMPL/inv_mpu.c **** #define delay_ms    HAL_Delay
  58:DMP/driver/eMPL/inv_mpu.c **** #define get_ms      mget_ms
  59:DMP/driver/eMPL/inv_mpu.c **** 
  60:DMP/driver/eMPL/inv_mpu.c **** #define log_i       printf  //打印信息
  61:DMP/driver/eMPL/inv_mpu.c **** #define log_e       printf  //打印信息
  62:DMP/driver/eMPL/inv_mpu.c **** #define min(a,b) ((a<b)?a:b)
  63:DMP/driver/eMPL/inv_mpu.c ****    
  64:DMP/driver/eMPL/inv_mpu.c **** #elif defined MOTION_DRIVER_TARGET_MSP430
  65:DMP/driver/eMPL/inv_mpu.c **** #include "msp430.h"
  66:DMP/driver/eMPL/inv_mpu.c **** #include "msp430_i2c.h"
  67:DMP/driver/eMPL/inv_mpu.c **** #include "msp430_clock.h"
  68:DMP/driver/eMPL/inv_mpu.c **** #include "msp430_interrupt.h"
  69:DMP/driver/eMPL/inv_mpu.c **** #define i2c_write   msp430_i2c_write
  70:DMP/driver/eMPL/inv_mpu.c **** #define i2c_read    msp430_i2c_read
  71:DMP/driver/eMPL/inv_mpu.c **** #define delay_ms    msp430_delay_ms
  72:DMP/driver/eMPL/inv_mpu.c **** #define get_ms      msp430_get_clock_ms
  73:DMP/driver/eMPL/inv_mpu.c **** static inline int reg_int_cb(struct int_param_s *int_param)
  74:DMP/driver/eMPL/inv_mpu.c **** {
  75:DMP/driver/eMPL/inv_mpu.c ****     return msp430_reg_int_cb(int_param->cb, int_param->pin, int_param->lp_exit,
  76:DMP/driver/eMPL/inv_mpu.c ****         int_param->active_low);
  77:DMP/driver/eMPL/inv_mpu.c **** }
  78:DMP/driver/eMPL/inv_mpu.c **** #define log_i(...)     do {} while (0)
  79:DMP/driver/eMPL/inv_mpu.c **** #define log_e(...)     do {} while (0)
  80:DMP/driver/eMPL/inv_mpu.c **** /* labs is already defined by TI's toolchain. */
  81:DMP/driver/eMPL/inv_mpu.c **** /* fabs is for doubles. fabsf is for floats. */
  82:DMP/driver/eMPL/inv_mpu.c **** #define fabs        fabsf
  83:DMP/driver/eMPL/inv_mpu.c **** #define min(a,b) ((a<b)?a:b)
  84:DMP/driver/eMPL/inv_mpu.c **** #elif defined EMPL_TARGET_MSP430
  85:DMP/driver/eMPL/inv_mpu.c **** #include "msp430.h"
  86:DMP/driver/eMPL/inv_mpu.c **** #include "msp430_i2c.h"
  87:DMP/driver/eMPL/inv_mpu.c **** #include "msp430_clock.h"
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 3


  88:DMP/driver/eMPL/inv_mpu.c **** #include "msp430_interrupt.h"
  89:DMP/driver/eMPL/inv_mpu.c **** #include "log.h"
  90:DMP/driver/eMPL/inv_mpu.c **** #define i2c_write   msp430_i2c_write
  91:DMP/driver/eMPL/inv_mpu.c **** #define i2c_read    msp430_i2c_read
  92:DMP/driver/eMPL/inv_mpu.c **** #define delay_ms    msp430_delay_ms
  93:DMP/driver/eMPL/inv_mpu.c **** #define get_ms      msp430_get_clock_ms
  94:DMP/driver/eMPL/inv_mpu.c **** static inline int reg_int_cb(struct int_param_s *int_param)
  95:DMP/driver/eMPL/inv_mpu.c **** {
  96:DMP/driver/eMPL/inv_mpu.c ****     return msp430_reg_int_cb(int_param->cb, int_param->pin, int_param->lp_exit,
  97:DMP/driver/eMPL/inv_mpu.c ****         int_param->active_low);
  98:DMP/driver/eMPL/inv_mpu.c **** }
  99:DMP/driver/eMPL/inv_mpu.c **** #define log_i       MPL_LOGI
 100:DMP/driver/eMPL/inv_mpu.c **** #define log_e       MPL_LOGE
 101:DMP/driver/eMPL/inv_mpu.c **** /* labs is already defined by TI's toolchain. */
 102:DMP/driver/eMPL/inv_mpu.c **** /* fabs is for doubles. fabsf is for floats. */
 103:DMP/driver/eMPL/inv_mpu.c **** #define fabs        fabsf
 104:DMP/driver/eMPL/inv_mpu.c **** #define min(a,b) ((a<b)?a:b)
 105:DMP/driver/eMPL/inv_mpu.c **** #elif defined EMPL_TARGET_UC3L0
 106:DMP/driver/eMPL/inv_mpu.c **** /* Instead of using the standard TWI driver from the ASF library, we're using
 107:DMP/driver/eMPL/inv_mpu.c ****  * a TWI driver that follows the slave address + register address convention.
 108:DMP/driver/eMPL/inv_mpu.c ****  */
 109:DMP/driver/eMPL/inv_mpu.c **** #include "twi.h"
 110:DMP/driver/eMPL/inv_mpu.c **** #include "delay.h"
 111:DMP/driver/eMPL/inv_mpu.c **** #include "sysclk.h"
 112:DMP/driver/eMPL/inv_mpu.c **** #include "log.h"
 113:DMP/driver/eMPL/inv_mpu.c **** #include "sensors_xplained.h"
 114:DMP/driver/eMPL/inv_mpu.c **** #include "uc3l0_clock.h"
 115:DMP/driver/eMPL/inv_mpu.c **** #define i2c_write(a, b, c, d)   twi_write(a, b, d, c)
 116:DMP/driver/eMPL/inv_mpu.c **** #define i2c_read(a, b, c, d)    twi_read(a, b, d, c)
 117:DMP/driver/eMPL/inv_mpu.c **** /* delay_ms is a function already defined in ASF. */
 118:DMP/driver/eMPL/inv_mpu.c **** #define get_ms  uc3l0_get_clock_ms
 119:DMP/driver/eMPL/inv_mpu.c **** static inline int reg_int_cb(struct int_param_s *int_param)
 120:DMP/driver/eMPL/inv_mpu.c **** {
 121:DMP/driver/eMPL/inv_mpu.c ****     sensor_board_irq_connect(int_param->pin, int_param->cb, int_param->arg);
 122:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 123:DMP/driver/eMPL/inv_mpu.c **** }
 124:DMP/driver/eMPL/inv_mpu.c **** #define log_i       MPL_LOGI
 125:DMP/driver/eMPL/inv_mpu.c **** #define log_e       MPL_LOGE
 126:DMP/driver/eMPL/inv_mpu.c **** /* UC3 is a 32-bit processor, so abs and labs are equivalent. */
 127:DMP/driver/eMPL/inv_mpu.c **** #define labs        abs
 128:DMP/driver/eMPL/inv_mpu.c **** #define fabs(x)     (((x)>0)?(x):-(x))
 129:DMP/driver/eMPL/inv_mpu.c **** #else
 130:DMP/driver/eMPL/inv_mpu.c **** #error  Gyro driver is missing the system layer implementations.
 131:DMP/driver/eMPL/inv_mpu.c **** #endif
 132:DMP/driver/eMPL/inv_mpu.c **** 
 133:DMP/driver/eMPL/inv_mpu.c **** #if !defined MPU6050 && !defined MPU9150 && !defined MPU6500 && !defined MPU9250
 134:DMP/driver/eMPL/inv_mpu.c **** #error  Which gyro are you using? Define MPUxxxx in your compiler options.
 135:DMP/driver/eMPL/inv_mpu.c **** #endif
 136:DMP/driver/eMPL/inv_mpu.c **** 
 137:DMP/driver/eMPL/inv_mpu.c **** /* Time for some messy macro work. =]
 138:DMP/driver/eMPL/inv_mpu.c ****  * #define MPU9150
 139:DMP/driver/eMPL/inv_mpu.c ****  * is equivalent to..
 140:DMP/driver/eMPL/inv_mpu.c ****  * #define MPU6050
 141:DMP/driver/eMPL/inv_mpu.c ****  * #define AK8975_SECONDARY
 142:DMP/driver/eMPL/inv_mpu.c ****  *
 143:DMP/driver/eMPL/inv_mpu.c ****  * #define MPU9250
 144:DMP/driver/eMPL/inv_mpu.c ****  * is equivalent to..
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 4


 145:DMP/driver/eMPL/inv_mpu.c ****  * #define MPU6500
 146:DMP/driver/eMPL/inv_mpu.c ****  * #define AK8963_SECONDARY
 147:DMP/driver/eMPL/inv_mpu.c ****  */
 148:DMP/driver/eMPL/inv_mpu.c **** #if defined MPU9150
 149:DMP/driver/eMPL/inv_mpu.c **** #ifndef MPU6050
 150:DMP/driver/eMPL/inv_mpu.c **** #define MPU6050
 151:DMP/driver/eMPL/inv_mpu.c **** #endif                          /* #ifndef MPU6050 */
 152:DMP/driver/eMPL/inv_mpu.c **** #if defined AK8963_SECONDARY
 153:DMP/driver/eMPL/inv_mpu.c **** #error "MPU9150 and AK8963_SECONDARY cannot both be defined."
 154:DMP/driver/eMPL/inv_mpu.c **** #elif !defined AK8975_SECONDARY /* #if defined AK8963_SECONDARY */
 155:DMP/driver/eMPL/inv_mpu.c **** #define AK8975_SECONDARY
 156:DMP/driver/eMPL/inv_mpu.c **** #endif                          /* #if defined AK8963_SECONDARY */
 157:DMP/driver/eMPL/inv_mpu.c **** #elif defined MPU9250           /* #if defined MPU9150 */
 158:DMP/driver/eMPL/inv_mpu.c **** #ifndef MPU6500
 159:DMP/driver/eMPL/inv_mpu.c **** #define MPU6500
 160:DMP/driver/eMPL/inv_mpu.c **** #endif                          /* #ifndef MPU6500 */
 161:DMP/driver/eMPL/inv_mpu.c **** #if defined AK8975_SECONDARY
 162:DMP/driver/eMPL/inv_mpu.c **** #error "MPU9250 and AK8975_SECONDARY cannot both be defined."
 163:DMP/driver/eMPL/inv_mpu.c **** #elif !defined AK8963_SECONDARY /* #if defined AK8975_SECONDARY */
 164:DMP/driver/eMPL/inv_mpu.c **** #define AK8963_SECONDARY
 165:DMP/driver/eMPL/inv_mpu.c **** #endif                          /* #if defined AK8975_SECONDARY */
 166:DMP/driver/eMPL/inv_mpu.c **** #endif                          /* #if defined MPU9150 */
 167:DMP/driver/eMPL/inv_mpu.c **** 
 168:DMP/driver/eMPL/inv_mpu.c **** #if defined AK8975_SECONDARY || defined AK8963_SECONDARY
 169:DMP/driver/eMPL/inv_mpu.c **** #define AK89xx_SECONDARY
 170:DMP/driver/eMPL/inv_mpu.c **** #else
 171:DMP/driver/eMPL/inv_mpu.c **** /* #warning "No compass = less profit for Invensense. Lame." */
 172:DMP/driver/eMPL/inv_mpu.c **** #endif
 173:DMP/driver/eMPL/inv_mpu.c **** 
 174:DMP/driver/eMPL/inv_mpu.c **** static int set_int_enable(unsigned char enable);
 175:DMP/driver/eMPL/inv_mpu.c **** 
 176:DMP/driver/eMPL/inv_mpu.c **** /* Hardware registers needed by driver. */
 177:DMP/driver/eMPL/inv_mpu.c **** struct gyro_reg_s {
 178:DMP/driver/eMPL/inv_mpu.c ****     unsigned char who_am_i;
 179:DMP/driver/eMPL/inv_mpu.c ****     unsigned char rate_div;
 180:DMP/driver/eMPL/inv_mpu.c ****     unsigned char lpf;
 181:DMP/driver/eMPL/inv_mpu.c ****     unsigned char prod_id;
 182:DMP/driver/eMPL/inv_mpu.c ****     unsigned char user_ctrl;
 183:DMP/driver/eMPL/inv_mpu.c ****     unsigned char fifo_en;
 184:DMP/driver/eMPL/inv_mpu.c ****     unsigned char gyro_cfg;
 185:DMP/driver/eMPL/inv_mpu.c ****     unsigned char accel_cfg;
 186:DMP/driver/eMPL/inv_mpu.c ****     unsigned char accel_cfg2;
 187:DMP/driver/eMPL/inv_mpu.c ****     unsigned char lp_accel_odr;
 188:DMP/driver/eMPL/inv_mpu.c ****     unsigned char motion_thr;
 189:DMP/driver/eMPL/inv_mpu.c ****     unsigned char motion_dur;
 190:DMP/driver/eMPL/inv_mpu.c ****     unsigned char fifo_count_h;
 191:DMP/driver/eMPL/inv_mpu.c ****     unsigned char fifo_r_w;
 192:DMP/driver/eMPL/inv_mpu.c ****     unsigned char raw_gyro;
 193:DMP/driver/eMPL/inv_mpu.c ****     unsigned char raw_accel;
 194:DMP/driver/eMPL/inv_mpu.c ****     unsigned char temp;
 195:DMP/driver/eMPL/inv_mpu.c ****     unsigned char int_enable;
 196:DMP/driver/eMPL/inv_mpu.c ****     unsigned char dmp_int_status;
 197:DMP/driver/eMPL/inv_mpu.c ****     unsigned char int_status;
 198:DMP/driver/eMPL/inv_mpu.c ****     unsigned char accel_intel;
 199:DMP/driver/eMPL/inv_mpu.c ****     unsigned char pwr_mgmt_1;
 200:DMP/driver/eMPL/inv_mpu.c ****     unsigned char pwr_mgmt_2;
 201:DMP/driver/eMPL/inv_mpu.c ****     unsigned char int_pin_cfg;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 5


 202:DMP/driver/eMPL/inv_mpu.c ****     unsigned char mem_r_w;
 203:DMP/driver/eMPL/inv_mpu.c ****     unsigned char accel_offs;
 204:DMP/driver/eMPL/inv_mpu.c ****     unsigned char i2c_mst;
 205:DMP/driver/eMPL/inv_mpu.c ****     unsigned char bank_sel;
 206:DMP/driver/eMPL/inv_mpu.c ****     unsigned char mem_start_addr;
 207:DMP/driver/eMPL/inv_mpu.c ****     unsigned char prgm_start_h;
 208:DMP/driver/eMPL/inv_mpu.c **** #if defined AK89xx_SECONDARY
 209:DMP/driver/eMPL/inv_mpu.c ****     unsigned char s0_addr;
 210:DMP/driver/eMPL/inv_mpu.c ****     unsigned char s0_reg;
 211:DMP/driver/eMPL/inv_mpu.c ****     unsigned char s0_ctrl;
 212:DMP/driver/eMPL/inv_mpu.c ****     unsigned char s1_addr;
 213:DMP/driver/eMPL/inv_mpu.c ****     unsigned char s1_reg;
 214:DMP/driver/eMPL/inv_mpu.c ****     unsigned char s1_ctrl;
 215:DMP/driver/eMPL/inv_mpu.c ****     unsigned char s4_ctrl;
 216:DMP/driver/eMPL/inv_mpu.c ****     unsigned char s0_do;
 217:DMP/driver/eMPL/inv_mpu.c ****     unsigned char s1_do;
 218:DMP/driver/eMPL/inv_mpu.c ****     unsigned char i2c_delay_ctrl;
 219:DMP/driver/eMPL/inv_mpu.c ****     unsigned char raw_compass;
 220:DMP/driver/eMPL/inv_mpu.c ****     /* The I2C_MST_VDDIO bit is in this register. */
 221:DMP/driver/eMPL/inv_mpu.c ****     unsigned char yg_offs_tc;
 222:DMP/driver/eMPL/inv_mpu.c **** #endif
 223:DMP/driver/eMPL/inv_mpu.c **** };
 224:DMP/driver/eMPL/inv_mpu.c **** 
 225:DMP/driver/eMPL/inv_mpu.c **** /* Information specific to a particular device. */
 226:DMP/driver/eMPL/inv_mpu.c **** struct hw_s {
 227:DMP/driver/eMPL/inv_mpu.c ****     unsigned char addr;
 228:DMP/driver/eMPL/inv_mpu.c ****     unsigned short max_fifo;
 229:DMP/driver/eMPL/inv_mpu.c ****     unsigned char num_reg;
 230:DMP/driver/eMPL/inv_mpu.c ****     unsigned short temp_sens;
 231:DMP/driver/eMPL/inv_mpu.c ****     short temp_offset;
 232:DMP/driver/eMPL/inv_mpu.c ****     unsigned short bank_size;
 233:DMP/driver/eMPL/inv_mpu.c **** #if defined AK89xx_SECONDARY
 234:DMP/driver/eMPL/inv_mpu.c ****     unsigned short compass_fsr;
 235:DMP/driver/eMPL/inv_mpu.c **** #endif
 236:DMP/driver/eMPL/inv_mpu.c **** };
 237:DMP/driver/eMPL/inv_mpu.c **** 
 238:DMP/driver/eMPL/inv_mpu.c **** /* When entering motion interrupt mode, the driver keeps track of the
 239:DMP/driver/eMPL/inv_mpu.c ****  * previous state so that it can be restored at a later time.
 240:DMP/driver/eMPL/inv_mpu.c ****  * TODO: This is tacky. Fix it.
 241:DMP/driver/eMPL/inv_mpu.c ****  */
 242:DMP/driver/eMPL/inv_mpu.c **** struct motion_int_cache_s {
 243:DMP/driver/eMPL/inv_mpu.c ****     unsigned short gyro_fsr;
 244:DMP/driver/eMPL/inv_mpu.c ****     unsigned char accel_fsr;
 245:DMP/driver/eMPL/inv_mpu.c ****     unsigned short lpf;
 246:DMP/driver/eMPL/inv_mpu.c ****     unsigned short sample_rate;
 247:DMP/driver/eMPL/inv_mpu.c ****     unsigned char sensors_on;
 248:DMP/driver/eMPL/inv_mpu.c ****     unsigned char fifo_sensors;
 249:DMP/driver/eMPL/inv_mpu.c ****     unsigned char dmp_on;
 250:DMP/driver/eMPL/inv_mpu.c **** };
 251:DMP/driver/eMPL/inv_mpu.c **** 
 252:DMP/driver/eMPL/inv_mpu.c **** /* Cached chip configuration data.
 253:DMP/driver/eMPL/inv_mpu.c ****  * TODO: A lot of these can be handled with a bitmask.
 254:DMP/driver/eMPL/inv_mpu.c ****  */
 255:DMP/driver/eMPL/inv_mpu.c **** struct chip_cfg_s {
 256:DMP/driver/eMPL/inv_mpu.c ****     /* Matches gyro_cfg >> 3 & 0x03 */
 257:DMP/driver/eMPL/inv_mpu.c ****     unsigned char gyro_fsr;
 258:DMP/driver/eMPL/inv_mpu.c ****     /* Matches accel_cfg >> 3 & 0x03 */
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 6


 259:DMP/driver/eMPL/inv_mpu.c ****     unsigned char accel_fsr;
 260:DMP/driver/eMPL/inv_mpu.c ****     /* Enabled sensors. Uses same masks as fifo_en, NOT pwr_mgmt_2. */
 261:DMP/driver/eMPL/inv_mpu.c ****     unsigned char sensors;
 262:DMP/driver/eMPL/inv_mpu.c ****     /* Matches config register. */
 263:DMP/driver/eMPL/inv_mpu.c ****     unsigned char lpf;
 264:DMP/driver/eMPL/inv_mpu.c ****     unsigned char clk_src;
 265:DMP/driver/eMPL/inv_mpu.c ****     /* Sample rate, NOT rate divider. */
 266:DMP/driver/eMPL/inv_mpu.c ****     unsigned short sample_rate;
 267:DMP/driver/eMPL/inv_mpu.c ****     /* Matches fifo_en register. */
 268:DMP/driver/eMPL/inv_mpu.c ****     unsigned char fifo_enable;
 269:DMP/driver/eMPL/inv_mpu.c ****     /* Matches int enable register. */
 270:DMP/driver/eMPL/inv_mpu.c ****     unsigned char int_enable;
 271:DMP/driver/eMPL/inv_mpu.c ****     /* 1 if devices on auxiliary I2C bus appear on the primary. */
 272:DMP/driver/eMPL/inv_mpu.c ****     unsigned char bypass_mode;
 273:DMP/driver/eMPL/inv_mpu.c ****     /* 1 if half-sensitivity.
 274:DMP/driver/eMPL/inv_mpu.c ****      * NOTE: This doesn't belong here, but everything else in hw_s is const,
 275:DMP/driver/eMPL/inv_mpu.c ****      * and this allows us to save some precious RAM.
 276:DMP/driver/eMPL/inv_mpu.c ****      */
 277:DMP/driver/eMPL/inv_mpu.c ****     unsigned char accel_half;
 278:DMP/driver/eMPL/inv_mpu.c ****     /* 1 if device in low-power accel-only mode. */
 279:DMP/driver/eMPL/inv_mpu.c ****     unsigned char lp_accel_mode;
 280:DMP/driver/eMPL/inv_mpu.c ****     /* 1 if interrupts are only triggered on motion events. */
 281:DMP/driver/eMPL/inv_mpu.c ****     unsigned char int_motion_only;
 282:DMP/driver/eMPL/inv_mpu.c ****     struct motion_int_cache_s cache;
 283:DMP/driver/eMPL/inv_mpu.c ****     /* 1 for active low interrupts. */
 284:DMP/driver/eMPL/inv_mpu.c ****     unsigned char active_low_int;
 285:DMP/driver/eMPL/inv_mpu.c ****     /* 1 for latched interrupts. */
 286:DMP/driver/eMPL/inv_mpu.c ****     unsigned char latched_int;
 287:DMP/driver/eMPL/inv_mpu.c ****     /* 1 if DMP is enabled. */
 288:DMP/driver/eMPL/inv_mpu.c ****     unsigned char dmp_on;
 289:DMP/driver/eMPL/inv_mpu.c ****     /* Ensures that DMP will only be loaded once. */
 290:DMP/driver/eMPL/inv_mpu.c ****     unsigned char dmp_loaded;
 291:DMP/driver/eMPL/inv_mpu.c ****     /* Sampling rate used when DMP is enabled. */
 292:DMP/driver/eMPL/inv_mpu.c ****     unsigned short dmp_sample_rate;
 293:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
 294:DMP/driver/eMPL/inv_mpu.c ****     /* Compass sample rate. */
 295:DMP/driver/eMPL/inv_mpu.c ****     unsigned short compass_sample_rate;
 296:DMP/driver/eMPL/inv_mpu.c ****     unsigned char compass_addr;
 297:DMP/driver/eMPL/inv_mpu.c ****     short mag_sens_adj[3];
 298:DMP/driver/eMPL/inv_mpu.c **** #endif
 299:DMP/driver/eMPL/inv_mpu.c **** };
 300:DMP/driver/eMPL/inv_mpu.c **** 
 301:DMP/driver/eMPL/inv_mpu.c **** /* Information for self-test. */
 302:DMP/driver/eMPL/inv_mpu.c **** struct test_s {
 303:DMP/driver/eMPL/inv_mpu.c ****     unsigned long gyro_sens;
 304:DMP/driver/eMPL/inv_mpu.c ****     unsigned long accel_sens;
 305:DMP/driver/eMPL/inv_mpu.c ****     unsigned char reg_rate_div;
 306:DMP/driver/eMPL/inv_mpu.c ****     unsigned char reg_lpf;
 307:DMP/driver/eMPL/inv_mpu.c ****     unsigned char reg_gyro_fsr;
 308:DMP/driver/eMPL/inv_mpu.c ****     unsigned char reg_accel_fsr;
 309:DMP/driver/eMPL/inv_mpu.c ****     unsigned short wait_ms;
 310:DMP/driver/eMPL/inv_mpu.c ****     unsigned char packet_thresh;
 311:DMP/driver/eMPL/inv_mpu.c ****     float min_dps;
 312:DMP/driver/eMPL/inv_mpu.c ****     float max_dps;
 313:DMP/driver/eMPL/inv_mpu.c ****     float max_gyro_var;
 314:DMP/driver/eMPL/inv_mpu.c ****     float min_g;
 315:DMP/driver/eMPL/inv_mpu.c ****     float max_g;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 7


 316:DMP/driver/eMPL/inv_mpu.c ****     float max_accel_var;
 317:DMP/driver/eMPL/inv_mpu.c **** #ifdef MPU6500
 318:DMP/driver/eMPL/inv_mpu.c ****     float max_g_offset;
 319:DMP/driver/eMPL/inv_mpu.c ****     unsigned short sample_wait_ms;
 320:DMP/driver/eMPL/inv_mpu.c **** #endif
 321:DMP/driver/eMPL/inv_mpu.c **** };
 322:DMP/driver/eMPL/inv_mpu.c **** 
 323:DMP/driver/eMPL/inv_mpu.c **** /* Gyro driver state variables. */
 324:DMP/driver/eMPL/inv_mpu.c **** struct gyro_state_s {
 325:DMP/driver/eMPL/inv_mpu.c ****     const struct gyro_reg_s *reg;
 326:DMP/driver/eMPL/inv_mpu.c ****     const struct hw_s *hw;
 327:DMP/driver/eMPL/inv_mpu.c ****     struct chip_cfg_s chip_cfg;
 328:DMP/driver/eMPL/inv_mpu.c ****     const struct test_s *test;
 329:DMP/driver/eMPL/inv_mpu.c **** };
 330:DMP/driver/eMPL/inv_mpu.c **** 
 331:DMP/driver/eMPL/inv_mpu.c **** /* Filter configurations. */
 332:DMP/driver/eMPL/inv_mpu.c **** enum lpf_e {
 333:DMP/driver/eMPL/inv_mpu.c ****     INV_FILTER_256HZ_NOLPF2 = 0,
 334:DMP/driver/eMPL/inv_mpu.c ****     INV_FILTER_188HZ,
 335:DMP/driver/eMPL/inv_mpu.c ****     INV_FILTER_98HZ,
 336:DMP/driver/eMPL/inv_mpu.c ****     INV_FILTER_42HZ,
 337:DMP/driver/eMPL/inv_mpu.c ****     INV_FILTER_20HZ,
 338:DMP/driver/eMPL/inv_mpu.c ****     INV_FILTER_10HZ,
 339:DMP/driver/eMPL/inv_mpu.c ****     INV_FILTER_5HZ,
 340:DMP/driver/eMPL/inv_mpu.c ****     INV_FILTER_2100HZ_NOLPF,
 341:DMP/driver/eMPL/inv_mpu.c ****     NUM_FILTER
 342:DMP/driver/eMPL/inv_mpu.c **** };
 343:DMP/driver/eMPL/inv_mpu.c **** 
 344:DMP/driver/eMPL/inv_mpu.c **** /* Full scale ranges. */
 345:DMP/driver/eMPL/inv_mpu.c **** enum gyro_fsr_e {
 346:DMP/driver/eMPL/inv_mpu.c ****     INV_FSR_250DPS = 0,
 347:DMP/driver/eMPL/inv_mpu.c ****     INV_FSR_500DPS,
 348:DMP/driver/eMPL/inv_mpu.c ****     INV_FSR_1000DPS,
 349:DMP/driver/eMPL/inv_mpu.c ****     INV_FSR_2000DPS,
 350:DMP/driver/eMPL/inv_mpu.c ****     NUM_GYRO_FSR
 351:DMP/driver/eMPL/inv_mpu.c **** };
 352:DMP/driver/eMPL/inv_mpu.c **** 
 353:DMP/driver/eMPL/inv_mpu.c **** /* Full scale ranges. */
 354:DMP/driver/eMPL/inv_mpu.c **** enum accel_fsr_e {
 355:DMP/driver/eMPL/inv_mpu.c ****     INV_FSR_2G = 0,
 356:DMP/driver/eMPL/inv_mpu.c ****     INV_FSR_4G,
 357:DMP/driver/eMPL/inv_mpu.c ****     INV_FSR_8G,
 358:DMP/driver/eMPL/inv_mpu.c ****     INV_FSR_16G,
 359:DMP/driver/eMPL/inv_mpu.c ****     NUM_ACCEL_FSR
 360:DMP/driver/eMPL/inv_mpu.c **** };
 361:DMP/driver/eMPL/inv_mpu.c **** 
 362:DMP/driver/eMPL/inv_mpu.c **** /* Clock sources. */
 363:DMP/driver/eMPL/inv_mpu.c **** enum clock_sel_e {
 364:DMP/driver/eMPL/inv_mpu.c ****     INV_CLK_INTERNAL = 0,
 365:DMP/driver/eMPL/inv_mpu.c ****     INV_CLK_PLL,
 366:DMP/driver/eMPL/inv_mpu.c ****     NUM_CLK
 367:DMP/driver/eMPL/inv_mpu.c **** };
 368:DMP/driver/eMPL/inv_mpu.c **** 
 369:DMP/driver/eMPL/inv_mpu.c **** /* Low-power accel wakeup rates. */
 370:DMP/driver/eMPL/inv_mpu.c **** enum lp_accel_rate_e {
 371:DMP/driver/eMPL/inv_mpu.c **** #if defined MPU6050
 372:DMP/driver/eMPL/inv_mpu.c ****     INV_LPA_1_25HZ,
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 8


 373:DMP/driver/eMPL/inv_mpu.c ****     INV_LPA_5HZ,
 374:DMP/driver/eMPL/inv_mpu.c ****     INV_LPA_20HZ,
 375:DMP/driver/eMPL/inv_mpu.c ****     INV_LPA_40HZ
 376:DMP/driver/eMPL/inv_mpu.c **** #elif defined MPU6500
 377:DMP/driver/eMPL/inv_mpu.c ****     INV_LPA_0_3125HZ,
 378:DMP/driver/eMPL/inv_mpu.c ****     INV_LPA_0_625HZ,
 379:DMP/driver/eMPL/inv_mpu.c ****     INV_LPA_1_25HZ,
 380:DMP/driver/eMPL/inv_mpu.c ****     INV_LPA_2_5HZ,
 381:DMP/driver/eMPL/inv_mpu.c ****     INV_LPA_5HZ,
 382:DMP/driver/eMPL/inv_mpu.c ****     INV_LPA_10HZ,
 383:DMP/driver/eMPL/inv_mpu.c ****     INV_LPA_20HZ,
 384:DMP/driver/eMPL/inv_mpu.c ****     INV_LPA_40HZ,
 385:DMP/driver/eMPL/inv_mpu.c ****     INV_LPA_80HZ,
 386:DMP/driver/eMPL/inv_mpu.c ****     INV_LPA_160HZ,
 387:DMP/driver/eMPL/inv_mpu.c ****     INV_LPA_320HZ,
 388:DMP/driver/eMPL/inv_mpu.c ****     INV_LPA_640HZ
 389:DMP/driver/eMPL/inv_mpu.c **** #endif
 390:DMP/driver/eMPL/inv_mpu.c **** };
 391:DMP/driver/eMPL/inv_mpu.c **** 
 392:DMP/driver/eMPL/inv_mpu.c **** #define BIT_I2C_MST_VDDIO   (0x80)
 393:DMP/driver/eMPL/inv_mpu.c **** #define BIT_FIFO_EN         (0x40)
 394:DMP/driver/eMPL/inv_mpu.c **** #define BIT_DMP_EN          (0x80)
 395:DMP/driver/eMPL/inv_mpu.c **** #define BIT_FIFO_RST        (0x04)
 396:DMP/driver/eMPL/inv_mpu.c **** #define BIT_DMP_RST         (0x08)
 397:DMP/driver/eMPL/inv_mpu.c **** #define BIT_FIFO_OVERFLOW   (0x10)
 398:DMP/driver/eMPL/inv_mpu.c **** #define BIT_DATA_RDY_EN     (0x01)
 399:DMP/driver/eMPL/inv_mpu.c **** #define BIT_DMP_INT_EN      (0x02)
 400:DMP/driver/eMPL/inv_mpu.c **** #define BIT_MOT_INT_EN      (0x40)
 401:DMP/driver/eMPL/inv_mpu.c **** #define BITS_FSR            (0x18)
 402:DMP/driver/eMPL/inv_mpu.c **** #define BITS_LPF            (0x07)
 403:DMP/driver/eMPL/inv_mpu.c **** #define BITS_HPF            (0x07)
 404:DMP/driver/eMPL/inv_mpu.c **** #define BITS_CLK            (0x07)
 405:DMP/driver/eMPL/inv_mpu.c **** #define BIT_FIFO_SIZE_1024  (0x40)
 406:DMP/driver/eMPL/inv_mpu.c **** #define BIT_FIFO_SIZE_2048  (0x80)
 407:DMP/driver/eMPL/inv_mpu.c **** #define BIT_FIFO_SIZE_4096  (0xC0)
 408:DMP/driver/eMPL/inv_mpu.c **** #define BIT_RESET           (0x80)
 409:DMP/driver/eMPL/inv_mpu.c **** #define BIT_SLEEP           (0x40)
 410:DMP/driver/eMPL/inv_mpu.c **** #define BIT_S0_DELAY_EN     (0x01)
 411:DMP/driver/eMPL/inv_mpu.c **** #define BIT_S2_DELAY_EN     (0x04)
 412:DMP/driver/eMPL/inv_mpu.c **** #define BITS_SLAVE_LENGTH   (0x0F)
 413:DMP/driver/eMPL/inv_mpu.c **** #define BIT_SLAVE_BYTE_SW   (0x40)
 414:DMP/driver/eMPL/inv_mpu.c **** #define BIT_SLAVE_GROUP     (0x10)
 415:DMP/driver/eMPL/inv_mpu.c **** #define BIT_SLAVE_EN        (0x80)
 416:DMP/driver/eMPL/inv_mpu.c **** #define BIT_I2C_READ        (0x80)
 417:DMP/driver/eMPL/inv_mpu.c **** #define BITS_I2C_MASTER_DLY (0x1F)
 418:DMP/driver/eMPL/inv_mpu.c **** #define BIT_AUX_IF_EN       (0x20)
 419:DMP/driver/eMPL/inv_mpu.c **** #define BIT_ACTL            (0x80)
 420:DMP/driver/eMPL/inv_mpu.c **** #define BIT_LATCH_EN        (0x20)
 421:DMP/driver/eMPL/inv_mpu.c **** #define BIT_ANY_RD_CLR      (0x10)
 422:DMP/driver/eMPL/inv_mpu.c **** #define BIT_BYPASS_EN       (0x02)
 423:DMP/driver/eMPL/inv_mpu.c **** #define BITS_WOM_EN         (0xC0)
 424:DMP/driver/eMPL/inv_mpu.c **** #define BIT_LPA_CYCLE       (0x20)
 425:DMP/driver/eMPL/inv_mpu.c **** #define BIT_STBY_XA         (0x20)
 426:DMP/driver/eMPL/inv_mpu.c **** #define BIT_STBY_YA         (0x10)
 427:DMP/driver/eMPL/inv_mpu.c **** #define BIT_STBY_ZA         (0x08)
 428:DMP/driver/eMPL/inv_mpu.c **** #define BIT_STBY_XG         (0x04)
 429:DMP/driver/eMPL/inv_mpu.c **** #define BIT_STBY_YG         (0x02)
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 9


 430:DMP/driver/eMPL/inv_mpu.c **** #define BIT_STBY_ZG         (0x01)
 431:DMP/driver/eMPL/inv_mpu.c **** #define BIT_STBY_XYZA       (BIT_STBY_XA | BIT_STBY_YA | BIT_STBY_ZA)
 432:DMP/driver/eMPL/inv_mpu.c **** #define BIT_STBY_XYZG       (BIT_STBY_XG | BIT_STBY_YG | BIT_STBY_ZG)
 433:DMP/driver/eMPL/inv_mpu.c **** 
 434:DMP/driver/eMPL/inv_mpu.c **** #if defined AK8975_SECONDARY
 435:DMP/driver/eMPL/inv_mpu.c **** #define SUPPORTS_AK89xx_HIGH_SENS   (0x00)
 436:DMP/driver/eMPL/inv_mpu.c **** #define AK89xx_FSR                  (9830)
 437:DMP/driver/eMPL/inv_mpu.c **** #elif defined AK8963_SECONDARY
 438:DMP/driver/eMPL/inv_mpu.c **** #define SUPPORTS_AK89xx_HIGH_SENS   (0x10)
 439:DMP/driver/eMPL/inv_mpu.c **** #define AK89xx_FSR                  (4915)
 440:DMP/driver/eMPL/inv_mpu.c **** #endif
 441:DMP/driver/eMPL/inv_mpu.c **** 
 442:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
 443:DMP/driver/eMPL/inv_mpu.c **** #define AKM_REG_WHOAMI      (0x00)
 444:DMP/driver/eMPL/inv_mpu.c **** 
 445:DMP/driver/eMPL/inv_mpu.c **** #define AKM_REG_ST1         (0x02)
 446:DMP/driver/eMPL/inv_mpu.c **** #define AKM_REG_HXL         (0x03)
 447:DMP/driver/eMPL/inv_mpu.c **** #define AKM_REG_ST2         (0x09)
 448:DMP/driver/eMPL/inv_mpu.c **** 
 449:DMP/driver/eMPL/inv_mpu.c **** #define AKM_REG_CNTL        (0x0A)
 450:DMP/driver/eMPL/inv_mpu.c **** #define AKM_REG_ASTC        (0x0C)
 451:DMP/driver/eMPL/inv_mpu.c **** #define AKM_REG_ASAX        (0x10)
 452:DMP/driver/eMPL/inv_mpu.c **** #define AKM_REG_ASAY        (0x11)
 453:DMP/driver/eMPL/inv_mpu.c **** #define AKM_REG_ASAZ        (0x12)
 454:DMP/driver/eMPL/inv_mpu.c **** 
 455:DMP/driver/eMPL/inv_mpu.c **** #define AKM_DATA_READY      (0x01)
 456:DMP/driver/eMPL/inv_mpu.c **** #define AKM_DATA_OVERRUN    (0x02)
 457:DMP/driver/eMPL/inv_mpu.c **** #define AKM_OVERFLOW        (0x80)
 458:DMP/driver/eMPL/inv_mpu.c **** #define AKM_DATA_ERROR      (0x40)
 459:DMP/driver/eMPL/inv_mpu.c **** 
 460:DMP/driver/eMPL/inv_mpu.c **** #define AKM_BIT_SELF_TEST   (0x40)
 461:DMP/driver/eMPL/inv_mpu.c **** 
 462:DMP/driver/eMPL/inv_mpu.c **** #define AKM_POWER_DOWN          (0x00 | SUPPORTS_AK89xx_HIGH_SENS)
 463:DMP/driver/eMPL/inv_mpu.c **** #define AKM_SINGLE_MEASUREMENT  (0x01 | SUPPORTS_AK89xx_HIGH_SENS)
 464:DMP/driver/eMPL/inv_mpu.c **** #define AKM_FUSE_ROM_ACCESS     (0x0F | SUPPORTS_AK89xx_HIGH_SENS)
 465:DMP/driver/eMPL/inv_mpu.c **** #define AKM_MODE_SELF_TEST      (0x08 | SUPPORTS_AK89xx_HIGH_SENS)
 466:DMP/driver/eMPL/inv_mpu.c **** 
 467:DMP/driver/eMPL/inv_mpu.c **** #define AKM_WHOAMI      (0x48)
 468:DMP/driver/eMPL/inv_mpu.c **** #endif
 469:DMP/driver/eMPL/inv_mpu.c **** 
 470:DMP/driver/eMPL/inv_mpu.c **** #if defined MPU6050
 471:DMP/driver/eMPL/inv_mpu.c **** const struct gyro_reg_s reg = {
 472:DMP/driver/eMPL/inv_mpu.c ****     .who_am_i       = 0x75,
 473:DMP/driver/eMPL/inv_mpu.c ****     .rate_div       = 0x19,
 474:DMP/driver/eMPL/inv_mpu.c ****     .lpf            = 0x1A,
 475:DMP/driver/eMPL/inv_mpu.c ****     .prod_id        = 0x0C,
 476:DMP/driver/eMPL/inv_mpu.c ****     .user_ctrl      = 0x6A,
 477:DMP/driver/eMPL/inv_mpu.c ****     .fifo_en        = 0x23,
 478:DMP/driver/eMPL/inv_mpu.c ****     .gyro_cfg       = 0x1B,
 479:DMP/driver/eMPL/inv_mpu.c ****     .accel_cfg      = 0x1C,
 480:DMP/driver/eMPL/inv_mpu.c ****     .motion_thr     = 0x1F,
 481:DMP/driver/eMPL/inv_mpu.c ****     .motion_dur     = 0x20,
 482:DMP/driver/eMPL/inv_mpu.c ****     .fifo_count_h   = 0x72,
 483:DMP/driver/eMPL/inv_mpu.c ****     .fifo_r_w       = 0x74,
 484:DMP/driver/eMPL/inv_mpu.c ****     .raw_gyro       = 0x43,
 485:DMP/driver/eMPL/inv_mpu.c ****     .raw_accel      = 0x3B,
 486:DMP/driver/eMPL/inv_mpu.c ****     .temp           = 0x41,
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 10


 487:DMP/driver/eMPL/inv_mpu.c ****     .int_enable     = 0x38,
 488:DMP/driver/eMPL/inv_mpu.c ****     .dmp_int_status = 0x39,
 489:DMP/driver/eMPL/inv_mpu.c ****     .int_status     = 0x3A,
 490:DMP/driver/eMPL/inv_mpu.c ****     .pwr_mgmt_1     = 0x6B,
 491:DMP/driver/eMPL/inv_mpu.c ****     .pwr_mgmt_2     = 0x6C,
 492:DMP/driver/eMPL/inv_mpu.c ****     .int_pin_cfg    = 0x37,
 493:DMP/driver/eMPL/inv_mpu.c ****     .mem_r_w        = 0x6F,
 494:DMP/driver/eMPL/inv_mpu.c ****     .accel_offs     = 0x06,
 495:DMP/driver/eMPL/inv_mpu.c ****     .i2c_mst        = 0x24,
 496:DMP/driver/eMPL/inv_mpu.c ****     .bank_sel       = 0x6D,
 497:DMP/driver/eMPL/inv_mpu.c ****     .mem_start_addr = 0x6E,
 498:DMP/driver/eMPL/inv_mpu.c ****     .prgm_start_h   = 0x70
 499:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
 500:DMP/driver/eMPL/inv_mpu.c ****     ,.raw_compass   = 0x49,
 501:DMP/driver/eMPL/inv_mpu.c ****     .yg_offs_tc     = 0x01,
 502:DMP/driver/eMPL/inv_mpu.c ****     .s0_addr        = 0x25,
 503:DMP/driver/eMPL/inv_mpu.c ****     .s0_reg         = 0x26,
 504:DMP/driver/eMPL/inv_mpu.c ****     .s0_ctrl        = 0x27,
 505:DMP/driver/eMPL/inv_mpu.c ****     .s1_addr        = 0x28,
 506:DMP/driver/eMPL/inv_mpu.c ****     .s1_reg         = 0x29,
 507:DMP/driver/eMPL/inv_mpu.c ****     .s1_ctrl        = 0x2A,
 508:DMP/driver/eMPL/inv_mpu.c ****     .s4_ctrl        = 0x34,
 509:DMP/driver/eMPL/inv_mpu.c ****     .s0_do          = 0x63,
 510:DMP/driver/eMPL/inv_mpu.c ****     .s1_do          = 0x64,
 511:DMP/driver/eMPL/inv_mpu.c ****     .i2c_delay_ctrl = 0x67
 512:DMP/driver/eMPL/inv_mpu.c **** #endif
 513:DMP/driver/eMPL/inv_mpu.c **** };
 514:DMP/driver/eMPL/inv_mpu.c **** const struct hw_s hw = {
 515:DMP/driver/eMPL/inv_mpu.c ****     .addr           = 0x68,
 516:DMP/driver/eMPL/inv_mpu.c ****     .max_fifo       = 1024,
 517:DMP/driver/eMPL/inv_mpu.c ****     .num_reg        = 118,
 518:DMP/driver/eMPL/inv_mpu.c ****     .temp_sens      = 340,
 519:DMP/driver/eMPL/inv_mpu.c ****     .temp_offset    = -521,
 520:DMP/driver/eMPL/inv_mpu.c ****     .bank_size      = 256
 521:DMP/driver/eMPL/inv_mpu.c **** #if defined AK89xx_SECONDARY
 522:DMP/driver/eMPL/inv_mpu.c ****     ,.compass_fsr    = AK89xx_FSR
 523:DMP/driver/eMPL/inv_mpu.c **** #endif
 524:DMP/driver/eMPL/inv_mpu.c **** };
 525:DMP/driver/eMPL/inv_mpu.c **** 
 526:DMP/driver/eMPL/inv_mpu.c **** const struct test_s test = {
 527:DMP/driver/eMPL/inv_mpu.c ****     .gyro_sens      = 32768/250,
 528:DMP/driver/eMPL/inv_mpu.c ****     .accel_sens     = 32768/16,
 529:DMP/driver/eMPL/inv_mpu.c ****     .reg_rate_div   = 0,    /* 1kHz. */
 530:DMP/driver/eMPL/inv_mpu.c ****     .reg_lpf        = 1,    /* 188Hz. */
 531:DMP/driver/eMPL/inv_mpu.c ****     .reg_gyro_fsr   = 0,    /* 250dps. */
 532:DMP/driver/eMPL/inv_mpu.c ****     .reg_accel_fsr  = 0x18, /* 16g. */
 533:DMP/driver/eMPL/inv_mpu.c ****     .wait_ms        = 50,
 534:DMP/driver/eMPL/inv_mpu.c ****     .packet_thresh  = 5,    /* 5% */
 535:DMP/driver/eMPL/inv_mpu.c ****     .min_dps        = 10.f,
 536:DMP/driver/eMPL/inv_mpu.c ****     .max_dps        = 105.f,
 537:DMP/driver/eMPL/inv_mpu.c ****     .max_gyro_var   = 0.14f,
 538:DMP/driver/eMPL/inv_mpu.c ****     .min_g          = 0.3f,
 539:DMP/driver/eMPL/inv_mpu.c ****     .max_g          = 0.95f,
 540:DMP/driver/eMPL/inv_mpu.c ****     .max_accel_var  = 0.14f
 541:DMP/driver/eMPL/inv_mpu.c **** };
 542:DMP/driver/eMPL/inv_mpu.c **** 
 543:DMP/driver/eMPL/inv_mpu.c **** static struct gyro_state_s st = {
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 11


 544:DMP/driver/eMPL/inv_mpu.c ****     .reg = &reg,
 545:DMP/driver/eMPL/inv_mpu.c ****     .hw = &hw,
 546:DMP/driver/eMPL/inv_mpu.c ****     .test = &test
 547:DMP/driver/eMPL/inv_mpu.c **** };
 548:DMP/driver/eMPL/inv_mpu.c **** #elif defined MPU6500
 549:DMP/driver/eMPL/inv_mpu.c **** const struct gyro_reg_s reg = {
 550:DMP/driver/eMPL/inv_mpu.c ****     .who_am_i       = 0x75,
 551:DMP/driver/eMPL/inv_mpu.c ****     .rate_div       = 0x19,
 552:DMP/driver/eMPL/inv_mpu.c ****     .lpf            = 0x1A,
 553:DMP/driver/eMPL/inv_mpu.c ****     .prod_id        = 0x0C,
 554:DMP/driver/eMPL/inv_mpu.c ****     .user_ctrl      = 0x6A,
 555:DMP/driver/eMPL/inv_mpu.c ****     .fifo_en        = 0x23,
 556:DMP/driver/eMPL/inv_mpu.c ****     .gyro_cfg       = 0x1B,
 557:DMP/driver/eMPL/inv_mpu.c ****     .accel_cfg      = 0x1C,
 558:DMP/driver/eMPL/inv_mpu.c ****     .accel_cfg2     = 0x1D,
 559:DMP/driver/eMPL/inv_mpu.c ****     .lp_accel_odr   = 0x1E,
 560:DMP/driver/eMPL/inv_mpu.c ****     .motion_thr     = 0x1F,
 561:DMP/driver/eMPL/inv_mpu.c ****     .motion_dur     = 0x20,
 562:DMP/driver/eMPL/inv_mpu.c ****     .fifo_count_h   = 0x72,
 563:DMP/driver/eMPL/inv_mpu.c ****     .fifo_r_w       = 0x74,
 564:DMP/driver/eMPL/inv_mpu.c ****     .raw_gyro       = 0x43,
 565:DMP/driver/eMPL/inv_mpu.c ****     .raw_accel      = 0x3B,
 566:DMP/driver/eMPL/inv_mpu.c ****     .temp           = 0x41,
 567:DMP/driver/eMPL/inv_mpu.c ****     .int_enable     = 0x38,
 568:DMP/driver/eMPL/inv_mpu.c ****     .dmp_int_status = 0x39,
 569:DMP/driver/eMPL/inv_mpu.c ****     .int_status     = 0x3A,
 570:DMP/driver/eMPL/inv_mpu.c ****     .accel_intel    = 0x69,
 571:DMP/driver/eMPL/inv_mpu.c ****     .pwr_mgmt_1     = 0x6B,
 572:DMP/driver/eMPL/inv_mpu.c ****     .pwr_mgmt_2     = 0x6C,
 573:DMP/driver/eMPL/inv_mpu.c ****     .int_pin_cfg    = 0x37,
 574:DMP/driver/eMPL/inv_mpu.c ****     .mem_r_w        = 0x6F,
 575:DMP/driver/eMPL/inv_mpu.c ****     .accel_offs     = 0x77,
 576:DMP/driver/eMPL/inv_mpu.c ****     .i2c_mst        = 0x24,
 577:DMP/driver/eMPL/inv_mpu.c ****     .bank_sel       = 0x6D,
 578:DMP/driver/eMPL/inv_mpu.c ****     .mem_start_addr = 0x6E,
 579:DMP/driver/eMPL/inv_mpu.c ****     .prgm_start_h   = 0x70
 580:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
 581:DMP/driver/eMPL/inv_mpu.c ****     ,.raw_compass   = 0x49,
 582:DMP/driver/eMPL/inv_mpu.c ****     .s0_addr        = 0x25,
 583:DMP/driver/eMPL/inv_mpu.c ****     .s0_reg         = 0x26,
 584:DMP/driver/eMPL/inv_mpu.c ****     .s0_ctrl        = 0x27,
 585:DMP/driver/eMPL/inv_mpu.c ****     .s1_addr        = 0x28,
 586:DMP/driver/eMPL/inv_mpu.c ****     .s1_reg         = 0x29,
 587:DMP/driver/eMPL/inv_mpu.c ****     .s1_ctrl        = 0x2A,
 588:DMP/driver/eMPL/inv_mpu.c ****     .s4_ctrl        = 0x34,
 589:DMP/driver/eMPL/inv_mpu.c ****     .s0_do          = 0x63,
 590:DMP/driver/eMPL/inv_mpu.c ****     .s1_do          = 0x64,
 591:DMP/driver/eMPL/inv_mpu.c ****     .i2c_delay_ctrl = 0x67
 592:DMP/driver/eMPL/inv_mpu.c **** #endif
 593:DMP/driver/eMPL/inv_mpu.c **** };
 594:DMP/driver/eMPL/inv_mpu.c **** const struct hw_s hw = {
 595:DMP/driver/eMPL/inv_mpu.c ****     .addr           = 0x68,
 596:DMP/driver/eMPL/inv_mpu.c ****     .max_fifo       = 1024,
 597:DMP/driver/eMPL/inv_mpu.c ****     .num_reg        = 128,
 598:DMP/driver/eMPL/inv_mpu.c ****     .temp_sens      = 321,
 599:DMP/driver/eMPL/inv_mpu.c ****     .temp_offset    = 0,
 600:DMP/driver/eMPL/inv_mpu.c ****     .bank_size      = 256
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 12


 601:DMP/driver/eMPL/inv_mpu.c **** #if defined AK89xx_SECONDARY
 602:DMP/driver/eMPL/inv_mpu.c ****     ,.compass_fsr    = AK89xx_FSR
 603:DMP/driver/eMPL/inv_mpu.c **** #endif
 604:DMP/driver/eMPL/inv_mpu.c **** };
 605:DMP/driver/eMPL/inv_mpu.c **** 
 606:DMP/driver/eMPL/inv_mpu.c **** const struct test_s test = {
 607:DMP/driver/eMPL/inv_mpu.c ****     .gyro_sens      = 32768/250,
 608:DMP/driver/eMPL/inv_mpu.c ****     .accel_sens     = 32768/2,  //FSR = +-2G = 16384 LSB/G
 609:DMP/driver/eMPL/inv_mpu.c ****     .reg_rate_div   = 0,    /* 1kHz. */
 610:DMP/driver/eMPL/inv_mpu.c ****     .reg_lpf        = 2,    /* 92Hz low pass filter*/
 611:DMP/driver/eMPL/inv_mpu.c ****     .reg_gyro_fsr   = 0,    /* 250dps. */
 612:DMP/driver/eMPL/inv_mpu.c ****     .reg_accel_fsr  = 0x0,  /* Accel FSR setting = 2g. */
 613:DMP/driver/eMPL/inv_mpu.c ****     .wait_ms        = 200,   //200ms stabilization time
 614:DMP/driver/eMPL/inv_mpu.c ****     .packet_thresh  = 200,    /* 200 samples */
 615:DMP/driver/eMPL/inv_mpu.c ****     .min_dps        = 20.f,  //20 dps for Gyro Criteria C
 616:DMP/driver/eMPL/inv_mpu.c ****     .max_dps        = 60.f, //Must exceed 60 dps threshold for Gyro Criteria B
 617:DMP/driver/eMPL/inv_mpu.c ****     .max_gyro_var   = .5f, //Must exceed +50% variation for Gyro Criteria A
 618:DMP/driver/eMPL/inv_mpu.c ****     .min_g          = .225f, //Accel must exceed Min 225 mg for Criteria B
 619:DMP/driver/eMPL/inv_mpu.c ****     .max_g          = .675f, //Accel cannot exceed Max 675 mg for Criteria B
 620:DMP/driver/eMPL/inv_mpu.c ****     .max_accel_var  = .5f,  //Accel must be within 50% variation for Criteria A
 621:DMP/driver/eMPL/inv_mpu.c ****     .max_g_offset   = .5f,   //500 mg for Accel Criteria C
 622:DMP/driver/eMPL/inv_mpu.c ****     .sample_wait_ms = 10    //10ms sample time wait
 623:DMP/driver/eMPL/inv_mpu.c **** };
 624:DMP/driver/eMPL/inv_mpu.c **** 
 625:DMP/driver/eMPL/inv_mpu.c **** static struct gyro_state_s st = {
 626:DMP/driver/eMPL/inv_mpu.c ****     .reg = &reg,
 627:DMP/driver/eMPL/inv_mpu.c ****     .hw = &hw,
 628:DMP/driver/eMPL/inv_mpu.c ****     .test = &test
 629:DMP/driver/eMPL/inv_mpu.c **** };
 630:DMP/driver/eMPL/inv_mpu.c **** #endif
 631:DMP/driver/eMPL/inv_mpu.c **** 
 632:DMP/driver/eMPL/inv_mpu.c **** #define MAX_PACKET_LENGTH (12)
 633:DMP/driver/eMPL/inv_mpu.c **** #ifdef MPU6500
 634:DMP/driver/eMPL/inv_mpu.c **** #define HWST_MAX_PACKET_LENGTH (512)
 635:DMP/driver/eMPL/inv_mpu.c **** #endif
 636:DMP/driver/eMPL/inv_mpu.c **** 
 637:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
 638:DMP/driver/eMPL/inv_mpu.c **** static int setup_compass(void);
 639:DMP/driver/eMPL/inv_mpu.c **** #define MAX_COMPASS_SAMPLE_RATE (100)
 640:DMP/driver/eMPL/inv_mpu.c **** #endif
 641:DMP/driver/eMPL/inv_mpu.c **** 
 642:DMP/driver/eMPL/inv_mpu.c **** /**
 643:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Enable/disable data ready interrupt.
 644:DMP/driver/eMPL/inv_mpu.c ****  *  If the DMP is on, the DMP interrupt is enabled. Otherwise, the data ready
 645:DMP/driver/eMPL/inv_mpu.c ****  *  interrupt is used.
 646:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  enable      1 to enable interrupt.
 647:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
 648:DMP/driver/eMPL/inv_mpu.c ****  */
 649:DMP/driver/eMPL/inv_mpu.c **** static int set_int_enable(unsigned char enable)
 650:DMP/driver/eMPL/inv_mpu.c **** {
  29              		.loc 1 650 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 8
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		.loc 1 650 1 is_stmt 0 view .LVU1
  34 0000 00B5     		push	{lr}
  35              	.LCFI0:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 13


  36              		.cfi_def_cfa_offset 4
  37              		.cfi_offset 14, -4
  38 0002 83B0     		sub	sp, sp, #12
  39              	.LCFI1:
  40              		.cfi_def_cfa_offset 16
 651:DMP/driver/eMPL/inv_mpu.c ****     unsigned char tmp;
  41              		.loc 1 651 5 is_stmt 1 view .LVU2
 652:DMP/driver/eMPL/inv_mpu.c **** 
 653:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.dmp_on) {
  42              		.loc 1 653 5 view .LVU3
  43              		.loc 1 653 20 is_stmt 0 view .LVU4
  44 0004 234B     		ldr	r3, .L13
  45 0006 93F82430 		ldrb	r3, [r3, #36]	@ zero_extendqisi2
  46              		.loc 1 653 8 view .LVU5
  47 000a CBB1     		cbz	r3, .L2
 654:DMP/driver/eMPL/inv_mpu.c ****         if (enable)
  48              		.loc 1 654 9 is_stmt 1 view .LVU6
  49              		.loc 1 654 12 is_stmt 0 view .LVU7
  50 000c A0B1     		cbz	r0, .L3
 655:DMP/driver/eMPL/inv_mpu.c ****             tmp = BIT_DMP_INT_EN;
  51              		.loc 1 655 13 is_stmt 1 view .LVU8
  52              		.loc 1 655 17 is_stmt 0 view .LVU9
  53 000e 0223     		movs	r3, #2
  54 0010 8DF80730 		strb	r3, [sp, #7]
  55              	.L4:
 656:DMP/driver/eMPL/inv_mpu.c ****         else
 657:DMP/driver/eMPL/inv_mpu.c ****             tmp = 0x00;
 658:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->int_enable, 1, &tmp))
  56              		.loc 1 658 9 is_stmt 1 view .LVU10
  57              		.loc 1 658 25 is_stmt 0 view .LVU11
  58 0014 1F4B     		ldr	r3, .L13
  59 0016 5868     		ldr	r0, [r3, #4]
  60              	.LVL1:
  61              		.loc 1 658 38 view .LVU12
  62 0018 1968     		ldr	r1, [r3]
  63              		.loc 1 658 13 view .LVU13
  64 001a 0DF10703 		add	r3, sp, #7
  65 001e 0122     		movs	r2, #1
  66 0020 497C     		ldrb	r1, [r1, #17]	@ zero_extendqisi2
  67 0022 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
  68 0024 FFF7FEFF 		bl	MPU_Write_Len
  69              	.LVL2:
  70              		.loc 1 658 12 view .LVU14
  71 0028 40BB     		cbnz	r0, .L8
 659:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 660:DMP/driver/eMPL/inv_mpu.c ****         st.chip_cfg.int_enable = tmp;
  72              		.loc 1 660 9 is_stmt 1 view .LVU15
  73              		.loc 1 660 32 is_stmt 0 view .LVU16
  74 002a 9DF80720 		ldrb	r2, [sp, #7]	@ zero_extendqisi2
  75 002e 194B     		ldr	r3, .L13
  76 0030 5A74     		strb	r2, [r3, #17]
  77              	.L1:
 661:DMP/driver/eMPL/inv_mpu.c ****     } else {
 662:DMP/driver/eMPL/inv_mpu.c ****         if (!st.chip_cfg.sensors)
 663:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 664:DMP/driver/eMPL/inv_mpu.c ****         if (enable && st.chip_cfg.int_enable)
 665:DMP/driver/eMPL/inv_mpu.c ****             return 0;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 14


 666:DMP/driver/eMPL/inv_mpu.c ****         if (enable)
 667:DMP/driver/eMPL/inv_mpu.c ****             tmp = BIT_DATA_RDY_EN;
 668:DMP/driver/eMPL/inv_mpu.c ****         else
 669:DMP/driver/eMPL/inv_mpu.c ****             tmp = 0x00;
 670:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->int_enable, 1, &tmp))
 671:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 672:DMP/driver/eMPL/inv_mpu.c ****         st.chip_cfg.int_enable = tmp;
 673:DMP/driver/eMPL/inv_mpu.c ****     }
 674:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 675:DMP/driver/eMPL/inv_mpu.c **** }
  78              		.loc 1 675 1 view .LVU17
  79 0032 03B0     		add	sp, sp, #12
  80              	.LCFI2:
  81              		.cfi_remember_state
  82              		.cfi_def_cfa_offset 4
  83              		@ sp needed
  84 0034 5DF804FB 		ldr	pc, [sp], #4
  85              	.LVL3:
  86              	.L3:
  87              	.LCFI3:
  88              		.cfi_restore_state
 657:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->int_enable, 1, &tmp))
  89              		.loc 1 657 13 is_stmt 1 view .LVU18
 657:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->int_enable, 1, &tmp))
  90              		.loc 1 657 17 is_stmt 0 view .LVU19
  91 0038 0023     		movs	r3, #0
  92 003a 8DF80730 		strb	r3, [sp, #7]
  93 003e E9E7     		b	.L4
  94              	.L2:
 662:DMP/driver/eMPL/inv_mpu.c ****             return -1;
  95              		.loc 1 662 9 is_stmt 1 view .LVU20
 662:DMP/driver/eMPL/inv_mpu.c ****             return -1;
  96              		.loc 1 662 25 is_stmt 0 view .LVU21
  97 0040 144B     		ldr	r3, .L13
  98 0042 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 662:DMP/driver/eMPL/inv_mpu.c ****             return -1;
  99              		.loc 1 662 12 view .LVU22
 100 0044 EBB1     		cbz	r3, .L9
 664:DMP/driver/eMPL/inv_mpu.c ****             return 0;
 101              		.loc 1 664 9 is_stmt 1 view .LVU23
 664:DMP/driver/eMPL/inv_mpu.c ****             return 0;
 102              		.loc 1 664 12 is_stmt 0 view .LVU24
 103 0046 30B1     		cbz	r0, .L6
 664:DMP/driver/eMPL/inv_mpu.c ****             return 0;
 104              		.loc 1 664 34 discriminator 1 view .LVU25
 105 0048 124B     		ldr	r3, .L13
 106 004a 5B7C     		ldrb	r3, [r3, #17]	@ zero_extendqisi2
 664:DMP/driver/eMPL/inv_mpu.c ****             return 0;
 107              		.loc 1 664 20 discriminator 1 view .LVU26
 108 004c E3B9     		cbnz	r3, .L10
 666:DMP/driver/eMPL/inv_mpu.c ****             tmp = BIT_DATA_RDY_EN;
 109              		.loc 1 666 9 is_stmt 1 view .LVU27
 667:DMP/driver/eMPL/inv_mpu.c ****         else
 110              		.loc 1 667 13 view .LVU28
 667:DMP/driver/eMPL/inv_mpu.c ****         else
 111              		.loc 1 667 17 is_stmt 0 view .LVU29
 112 004e 0123     		movs	r3, #1
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 15


 113 0050 8DF80730 		strb	r3, [sp, #7]
 114 0054 02E0     		b	.L7
 115              	.L6:
 669:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->int_enable, 1, &tmp))
 116              		.loc 1 669 13 is_stmt 1 view .LVU30
 669:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->int_enable, 1, &tmp))
 117              		.loc 1 669 17 is_stmt 0 view .LVU31
 118 0056 0023     		movs	r3, #0
 119 0058 8DF80730 		strb	r3, [sp, #7]
 120              	.L7:
 670:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 121              		.loc 1 670 9 is_stmt 1 view .LVU32
 670:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 122              		.loc 1 670 25 is_stmt 0 view .LVU33
 123 005c 0D4B     		ldr	r3, .L13
 124 005e 5868     		ldr	r0, [r3, #4]
 125              	.LVL4:
 670:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 126              		.loc 1 670 38 view .LVU34
 127 0060 1968     		ldr	r1, [r3]
 670:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 128              		.loc 1 670 13 view .LVU35
 129 0062 0DF10703 		add	r3, sp, #7
 130 0066 0122     		movs	r2, #1
 131 0068 497C     		ldrb	r1, [r1, #17]	@ zero_extendqisi2
 132 006a 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 133 006c FFF7FEFF 		bl	MPU_Write_Len
 134              	.LVL5:
 670:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 135              		.loc 1 670 12 view .LVU36
 136 0070 60B9     		cbnz	r0, .L11
 672:DMP/driver/eMPL/inv_mpu.c ****     }
 137              		.loc 1 672 9 is_stmt 1 view .LVU37
 672:DMP/driver/eMPL/inv_mpu.c ****     }
 138              		.loc 1 672 32 is_stmt 0 view .LVU38
 139 0072 9DF80720 		ldrb	r2, [sp, #7]	@ zero_extendqisi2
 140 0076 074B     		ldr	r3, .L13
 141 0078 5A74     		strb	r2, [r3, #17]
 142 007a DAE7     		b	.L1
 143              	.L8:
 659:DMP/driver/eMPL/inv_mpu.c ****         st.chip_cfg.int_enable = tmp;
 144              		.loc 1 659 20 view .LVU39
 145 007c 4FF0FF30 		mov	r0, #-1
 146 0080 D7E7     		b	.L1
 147              	.LVL6:
 148              	.L9:
 663:DMP/driver/eMPL/inv_mpu.c ****         if (enable && st.chip_cfg.int_enable)
 149              		.loc 1 663 20 view .LVU40
 150 0082 4FF0FF30 		mov	r0, #-1
 151              	.LVL7:
 663:DMP/driver/eMPL/inv_mpu.c ****         if (enable && st.chip_cfg.int_enable)
 152              		.loc 1 663 20 view .LVU41
 153 0086 D4E7     		b	.L1
 154              	.LVL8:
 155              	.L10:
 665:DMP/driver/eMPL/inv_mpu.c ****         if (enable)
 156              		.loc 1 665 20 view .LVU42
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 16


 157 0088 0020     		movs	r0, #0
 158              	.LVL9:
 665:DMP/driver/eMPL/inv_mpu.c ****         if (enable)
 159              		.loc 1 665 20 view .LVU43
 160 008a D2E7     		b	.L1
 161              	.L11:
 671:DMP/driver/eMPL/inv_mpu.c ****         st.chip_cfg.int_enable = tmp;
 162              		.loc 1 671 20 view .LVU44
 163 008c 4FF0FF30 		mov	r0, #-1
 164 0090 CFE7     		b	.L1
 165              	.L14:
 166 0092 00BF     		.align	2
 167              	.L13:
 168 0094 00000000 		.word	st
 169              		.cfi_endproc
 170              	.LFE167:
 172              		.global	__aeabi_ldivmod
 173              		.section	.text.get_st_biases,"ax",%progbits
 174              		.align	1
 175              		.syntax unified
 176              		.thumb
 177              		.thumb_func
 179              	get_st_biases:
 180              	.LVL10:
 181              	.LFB205:
 676:DMP/driver/eMPL/inv_mpu.c **** 
 677:DMP/driver/eMPL/inv_mpu.c **** /**
 678:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Register dump for testing.
 679:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
 680:DMP/driver/eMPL/inv_mpu.c ****  */
 681:DMP/driver/eMPL/inv_mpu.c **** int mpu_reg_dump(void)
 682:DMP/driver/eMPL/inv_mpu.c **** {
 683:DMP/driver/eMPL/inv_mpu.c ****     unsigned char ii;
 684:DMP/driver/eMPL/inv_mpu.c ****     unsigned char data;
 685:DMP/driver/eMPL/inv_mpu.c **** 
 686:DMP/driver/eMPL/inv_mpu.c ****     for (ii = 0; ii < st.hw->num_reg; ii++) {
 687:DMP/driver/eMPL/inv_mpu.c ****         if (ii == st.reg->fifo_r_w || ii == st.reg->mem_r_w)
 688:DMP/driver/eMPL/inv_mpu.c ****             continue;
 689:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_read(st.hw->addr, ii, 1, &data))
 690:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 691:DMP/driver/eMPL/inv_mpu.c ****         log_i("%#5x: %#5x\r\n", ii, data);
 692:DMP/driver/eMPL/inv_mpu.c ****     }
 693:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 694:DMP/driver/eMPL/inv_mpu.c **** }
 695:DMP/driver/eMPL/inv_mpu.c **** 
 696:DMP/driver/eMPL/inv_mpu.c **** /**
 697:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Read from a single register.
 698:DMP/driver/eMPL/inv_mpu.c ****  *  NOTE: The memory and FIFO read/write registers cannot be accessed.
 699:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  reg     Register address.
 700:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] data    Register data.
 701:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
 702:DMP/driver/eMPL/inv_mpu.c ****  */
 703:DMP/driver/eMPL/inv_mpu.c **** int mpu_read_reg(unsigned char reg, unsigned char *data)
 704:DMP/driver/eMPL/inv_mpu.c **** {
 705:DMP/driver/eMPL/inv_mpu.c ****     if (reg == st.reg->fifo_r_w || reg == st.reg->mem_r_w)
 706:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 707:DMP/driver/eMPL/inv_mpu.c ****     if (reg >= st.hw->num_reg)
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 17


 708:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 709:DMP/driver/eMPL/inv_mpu.c ****     return i2c_read(st.hw->addr, reg, 1, data);
 710:DMP/driver/eMPL/inv_mpu.c **** }
 711:DMP/driver/eMPL/inv_mpu.c **** 
 712:DMP/driver/eMPL/inv_mpu.c **** /**
 713:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Initialize hardware.
 714:DMP/driver/eMPL/inv_mpu.c ****  *  Initial configuration:\n
 715:DMP/driver/eMPL/inv_mpu.c ****  *  Gyro FSR: +/- 2000DPS\n
 716:DMP/driver/eMPL/inv_mpu.c ****  *  Accel FSR +/- 2G\n
 717:DMP/driver/eMPL/inv_mpu.c ****  *  DLPF: 42Hz\n
 718:DMP/driver/eMPL/inv_mpu.c ****  *  FIFO rate: 50Hz\n
 719:DMP/driver/eMPL/inv_mpu.c ****  *  Clock source: Gyro PLL\n
 720:DMP/driver/eMPL/inv_mpu.c ****  *  FIFO: Disabled.\n
 721:DMP/driver/eMPL/inv_mpu.c ****  *  Data ready interrupt: Disabled, active low, unlatched.
 722:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  int_param   Platform-specific parameters to interrupt API.
 723:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
 724:DMP/driver/eMPL/inv_mpu.c ****  */
 725:DMP/driver/eMPL/inv_mpu.c **** int mpu_init(struct int_param_s *int_param)
 726:DMP/driver/eMPL/inv_mpu.c **** {
 727:DMP/driver/eMPL/inv_mpu.c ****     unsigned char data[6];
 728:DMP/driver/eMPL/inv_mpu.c **** 
 729:DMP/driver/eMPL/inv_mpu.c ****     /* Reset device. */
 730:DMP/driver/eMPL/inv_mpu.c ****     data[0] = BIT_RESET;
 731:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 1, data))
 732:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 733:DMP/driver/eMPL/inv_mpu.c ****     delay_ms(100);
 734:DMP/driver/eMPL/inv_mpu.c **** 
 735:DMP/driver/eMPL/inv_mpu.c ****     /* Wake up chip. */
 736:DMP/driver/eMPL/inv_mpu.c ****     data[0] = 0x00;
 737:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 1, data))
 738:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 739:DMP/driver/eMPL/inv_mpu.c **** 
 740:DMP/driver/eMPL/inv_mpu.c ****    st.chip_cfg.accel_half = 0;
 741:DMP/driver/eMPL/inv_mpu.c **** 
 742:DMP/driver/eMPL/inv_mpu.c **** #ifdef MPU6500
 743:DMP/driver/eMPL/inv_mpu.c ****     /* MPU6500 shares 4kB of memory between the DMP and the FIFO. Since the
 744:DMP/driver/eMPL/inv_mpu.c ****      * first 3kB are needed by the DMP, we'll use the last 1kB for the FIFO.
 745:DMP/driver/eMPL/inv_mpu.c ****      */
 746:DMP/driver/eMPL/inv_mpu.c ****     data[0] = BIT_FIFO_SIZE_1024 | 0x8;
 747:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->accel_cfg2, 1, data))
 748:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 749:DMP/driver/eMPL/inv_mpu.c **** #endif
 750:DMP/driver/eMPL/inv_mpu.c **** 
 751:DMP/driver/eMPL/inv_mpu.c ****     /* Set to invalid values to ensure no I2C writes are skipped. */
 752:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.sensors = 0xFF;
 753:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.gyro_fsr = 0xFF;
 754:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.accel_fsr = 0xFF;
 755:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.lpf = 0xFF;
 756:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.sample_rate = 0xFFFF;
 757:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.fifo_enable = 0xFF;
 758:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.bypass_mode = 0xFF;
 759:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
 760:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.compass_sample_rate = 0xFFFF;
 761:DMP/driver/eMPL/inv_mpu.c **** #endif
 762:DMP/driver/eMPL/inv_mpu.c ****     /* mpu_set_sensors always preserves this setting. */
 763:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.clk_src = INV_CLK_PLL;
 764:DMP/driver/eMPL/inv_mpu.c ****     /* Handled in next call to mpu_set_bypass. */
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 18


 765:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.active_low_int = 1;
 766:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.latched_int = 0;
 767:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.int_motion_only = 0;
 768:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.lp_accel_mode = 0;
 769:DMP/driver/eMPL/inv_mpu.c ****     memset(&st.chip_cfg.cache, 0, sizeof(st.chip_cfg.cache));
 770:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.dmp_on = 0;
 771:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.dmp_loaded = 0;
 772:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.dmp_sample_rate = 0;
 773:DMP/driver/eMPL/inv_mpu.c **** 
 774:DMP/driver/eMPL/inv_mpu.c ****     if (mpu_set_gyro_fsr(2000))
 775:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 776:DMP/driver/eMPL/inv_mpu.c ****     if (mpu_set_accel_fsr(2))
 777:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 778:DMP/driver/eMPL/inv_mpu.c ****     if (mpu_set_lpf(42))
 779:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 780:DMP/driver/eMPL/inv_mpu.c ****     if (mpu_set_sample_rate(50))
 781:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 782:DMP/driver/eMPL/inv_mpu.c ****     if (mpu_configure_fifo(0))
 783:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 784:DMP/driver/eMPL/inv_mpu.c **** 
 785:DMP/driver/eMPL/inv_mpu.c **** #ifndef EMPL_TARGET_STM32F4    
 786:DMP/driver/eMPL/inv_mpu.c ****     if (int_param)
 787:DMP/driver/eMPL/inv_mpu.c ****         reg_int_cb(int_param);
 788:DMP/driver/eMPL/inv_mpu.c **** #endif
 789:DMP/driver/eMPL/inv_mpu.c **** 
 790:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
 791:DMP/driver/eMPL/inv_mpu.c ****     setup_compass();
 792:DMP/driver/eMPL/inv_mpu.c ****     if (mpu_set_compass_sample_rate(10))
 793:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 794:DMP/driver/eMPL/inv_mpu.c **** #else
 795:DMP/driver/eMPL/inv_mpu.c ****     /* Already disabled by setup_compass. */
 796:DMP/driver/eMPL/inv_mpu.c ****     if (mpu_set_bypass(0))
 797:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 798:DMP/driver/eMPL/inv_mpu.c **** #endif
 799:DMP/driver/eMPL/inv_mpu.c **** 
 800:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_sensors(0);
 801:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 802:DMP/driver/eMPL/inv_mpu.c **** }
 803:DMP/driver/eMPL/inv_mpu.c **** 
 804:DMP/driver/eMPL/inv_mpu.c **** /**
 805:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Enter low-power accel-only mode.
 806:DMP/driver/eMPL/inv_mpu.c ****  *  In low-power accel mode, the chip goes to sleep and only wakes up to sample
 807:DMP/driver/eMPL/inv_mpu.c ****  *  the accelerometer at one of the following frequencies:
 808:DMP/driver/eMPL/inv_mpu.c ****  *  \n MPU6050: 1.25Hz, 5Hz, 20Hz, 40Hz
 809:DMP/driver/eMPL/inv_mpu.c ****  *  \n MPU6500: 1.25Hz, 2.5Hz, 5Hz, 10Hz, 20Hz, 40Hz, 80Hz, 160Hz, 320Hz, 640Hz
 810:DMP/driver/eMPL/inv_mpu.c ****  *  \n If the requested rate is not one listed above, the device will be set to
 811:DMP/driver/eMPL/inv_mpu.c ****  *  the next highest rate. Requesting a rate above the maximum supported
 812:DMP/driver/eMPL/inv_mpu.c ****  *  frequency will result in an error.
 813:DMP/driver/eMPL/inv_mpu.c ****  *  \n To select a fractional wake-up frequency, round down the value passed to
 814:DMP/driver/eMPL/inv_mpu.c ****  *  @e rate.
 815:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  rate        Minimum sampling rate, or zero to disable LP
 816:DMP/driver/eMPL/inv_mpu.c ****  *                          accel mode.
 817:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
 818:DMP/driver/eMPL/inv_mpu.c ****  */
 819:DMP/driver/eMPL/inv_mpu.c **** int mpu_lp_accel_mode(unsigned short rate)
 820:DMP/driver/eMPL/inv_mpu.c **** {
 821:DMP/driver/eMPL/inv_mpu.c ****     unsigned char tmp[2];
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 19


 822:DMP/driver/eMPL/inv_mpu.c **** 
 823:DMP/driver/eMPL/inv_mpu.c ****     if (rate > 40)
 824:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 825:DMP/driver/eMPL/inv_mpu.c **** 
 826:DMP/driver/eMPL/inv_mpu.c ****     if (!rate) {
 827:DMP/driver/eMPL/inv_mpu.c ****         mpu_set_int_latched(0);
 828:DMP/driver/eMPL/inv_mpu.c ****         tmp[0] = 0;
 829:DMP/driver/eMPL/inv_mpu.c ****         tmp[1] = BIT_STBY_XYZG;
 830:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 2, tmp))
 831:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 832:DMP/driver/eMPL/inv_mpu.c ****         st.chip_cfg.lp_accel_mode = 0;
 833:DMP/driver/eMPL/inv_mpu.c ****         return 0;
 834:DMP/driver/eMPL/inv_mpu.c ****     }
 835:DMP/driver/eMPL/inv_mpu.c ****     /* For LP accel, we automatically configure the hardware to produce latched
 836:DMP/driver/eMPL/inv_mpu.c ****      * interrupts. In LP accel mode, the hardware cycles into sleep mode before
 837:DMP/driver/eMPL/inv_mpu.c ****      * it gets a chance to deassert the interrupt pin; therefore, we shift this
 838:DMP/driver/eMPL/inv_mpu.c ****      * responsibility over to the MCU.
 839:DMP/driver/eMPL/inv_mpu.c ****      *
 840:DMP/driver/eMPL/inv_mpu.c ****      * Any register read will clear the interrupt.
 841:DMP/driver/eMPL/inv_mpu.c ****      */
 842:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_int_latched(1);
 843:DMP/driver/eMPL/inv_mpu.c **** #if defined MPU6050
 844:DMP/driver/eMPL/inv_mpu.c ****     tmp[0] = BIT_LPA_CYCLE;
 845:DMP/driver/eMPL/inv_mpu.c ****     if (rate == 1) {
 846:DMP/driver/eMPL/inv_mpu.c ****         tmp[1] = INV_LPA_1_25HZ;
 847:DMP/driver/eMPL/inv_mpu.c ****         mpu_set_lpf(5);
 848:DMP/driver/eMPL/inv_mpu.c ****     } else if (rate <= 5) {
 849:DMP/driver/eMPL/inv_mpu.c ****         tmp[1] = INV_LPA_5HZ;
 850:DMP/driver/eMPL/inv_mpu.c ****         mpu_set_lpf(5);
 851:DMP/driver/eMPL/inv_mpu.c ****     } else if (rate <= 20) {
 852:DMP/driver/eMPL/inv_mpu.c ****         tmp[1] = INV_LPA_20HZ;
 853:DMP/driver/eMPL/inv_mpu.c ****         mpu_set_lpf(10);
 854:DMP/driver/eMPL/inv_mpu.c ****     } else {
 855:DMP/driver/eMPL/inv_mpu.c ****         tmp[1] = INV_LPA_40HZ;
 856:DMP/driver/eMPL/inv_mpu.c ****         mpu_set_lpf(20);
 857:DMP/driver/eMPL/inv_mpu.c ****     }
 858:DMP/driver/eMPL/inv_mpu.c ****     tmp[1] = (tmp[1] << 6) | BIT_STBY_XYZG;
 859:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 2, tmp))
 860:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 861:DMP/driver/eMPL/inv_mpu.c **** #elif defined MPU6500
 862:DMP/driver/eMPL/inv_mpu.c ****     /* Set wake frequency. */
 863:DMP/driver/eMPL/inv_mpu.c ****     if (rate == 1)
 864:DMP/driver/eMPL/inv_mpu.c ****         tmp[0] = INV_LPA_1_25HZ;
 865:DMP/driver/eMPL/inv_mpu.c ****     else if (rate == 2)
 866:DMP/driver/eMPL/inv_mpu.c ****         tmp[0] = INV_LPA_2_5HZ;
 867:DMP/driver/eMPL/inv_mpu.c ****     else if (rate <= 5)
 868:DMP/driver/eMPL/inv_mpu.c ****         tmp[0] = INV_LPA_5HZ;
 869:DMP/driver/eMPL/inv_mpu.c ****     else if (rate <= 10)
 870:DMP/driver/eMPL/inv_mpu.c ****         tmp[0] = INV_LPA_10HZ;
 871:DMP/driver/eMPL/inv_mpu.c ****     else if (rate <= 20)
 872:DMP/driver/eMPL/inv_mpu.c ****         tmp[0] = INV_LPA_20HZ;
 873:DMP/driver/eMPL/inv_mpu.c ****     else if (rate <= 40)
 874:DMP/driver/eMPL/inv_mpu.c ****         tmp[0] = INV_LPA_40HZ;
 875:DMP/driver/eMPL/inv_mpu.c ****     else if (rate <= 80)
 876:DMP/driver/eMPL/inv_mpu.c ****         tmp[0] = INV_LPA_80HZ;
 877:DMP/driver/eMPL/inv_mpu.c ****     else if (rate <= 160)
 878:DMP/driver/eMPL/inv_mpu.c ****         tmp[0] = INV_LPA_160HZ;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 20


 879:DMP/driver/eMPL/inv_mpu.c ****     else if (rate <= 320)
 880:DMP/driver/eMPL/inv_mpu.c ****         tmp[0] = INV_LPA_320HZ;
 881:DMP/driver/eMPL/inv_mpu.c ****     else
 882:DMP/driver/eMPL/inv_mpu.c ****         tmp[0] = INV_LPA_640HZ;
 883:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->lp_accel_odr, 1, tmp))
 884:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 885:DMP/driver/eMPL/inv_mpu.c ****     tmp[0] = BIT_LPA_CYCLE;
 886:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 1, tmp))
 887:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 888:DMP/driver/eMPL/inv_mpu.c **** #endif
 889:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.sensors = INV_XYZ_ACCEL;
 890:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.clk_src = 0;
 891:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.lp_accel_mode = 1;
 892:DMP/driver/eMPL/inv_mpu.c ****     mpu_configure_fifo(0);
 893:DMP/driver/eMPL/inv_mpu.c **** 
 894:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 895:DMP/driver/eMPL/inv_mpu.c **** }
 896:DMP/driver/eMPL/inv_mpu.c **** 
 897:DMP/driver/eMPL/inv_mpu.c **** /**
 898:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Read raw gyro data directly from the registers.
 899:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] data        Raw data in hardware units.
 900:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] timestamp   Timestamp in milliseconds. Null if not needed.
 901:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
 902:DMP/driver/eMPL/inv_mpu.c ****  */
 903:DMP/driver/eMPL/inv_mpu.c **** int mpu_get_gyro_reg(short *data, unsigned long *timestamp)
 904:DMP/driver/eMPL/inv_mpu.c **** {
 905:DMP/driver/eMPL/inv_mpu.c ****     unsigned char tmp[6];
 906:DMP/driver/eMPL/inv_mpu.c **** 
 907:DMP/driver/eMPL/inv_mpu.c ****     if (!(st.chip_cfg.sensors & INV_XYZ_GYRO))
 908:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 909:DMP/driver/eMPL/inv_mpu.c **** 
 910:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_read(st.hw->addr, st.reg->raw_gyro, 6, tmp))
 911:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 912:DMP/driver/eMPL/inv_mpu.c ****     data[0] = (tmp[0] << 8) | tmp[1];
 913:DMP/driver/eMPL/inv_mpu.c ****     data[1] = (tmp[2] << 8) | tmp[3];
 914:DMP/driver/eMPL/inv_mpu.c ****     data[2] = (tmp[4] << 8) | tmp[5];
 915:DMP/driver/eMPL/inv_mpu.c ****     if (timestamp)
 916:DMP/driver/eMPL/inv_mpu.c ****         get_ms(timestamp);
 917:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 918:DMP/driver/eMPL/inv_mpu.c **** }
 919:DMP/driver/eMPL/inv_mpu.c **** 
 920:DMP/driver/eMPL/inv_mpu.c **** /**
 921:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Read raw accel data directly from the registers.
 922:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] data        Raw data in hardware units.
 923:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] timestamp   Timestamp in milliseconds. Null if not needed.
 924:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
 925:DMP/driver/eMPL/inv_mpu.c ****  */
 926:DMP/driver/eMPL/inv_mpu.c **** int mpu_get_accel_reg(short *data, unsigned long *timestamp)
 927:DMP/driver/eMPL/inv_mpu.c **** {
 928:DMP/driver/eMPL/inv_mpu.c ****     unsigned char tmp[6];
 929:DMP/driver/eMPL/inv_mpu.c **** 
 930:DMP/driver/eMPL/inv_mpu.c ****     if (!(st.chip_cfg.sensors & INV_XYZ_ACCEL))
 931:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 932:DMP/driver/eMPL/inv_mpu.c **** 
 933:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_read(st.hw->addr, st.reg->raw_accel, 6, tmp))
 934:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 935:DMP/driver/eMPL/inv_mpu.c ****     data[0] = (tmp[0] << 8) | tmp[1];
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 21


 936:DMP/driver/eMPL/inv_mpu.c ****     data[1] = (tmp[2] << 8) | tmp[3];
 937:DMP/driver/eMPL/inv_mpu.c ****     data[2] = (tmp[4] << 8) | tmp[5];
 938:DMP/driver/eMPL/inv_mpu.c ****     if (timestamp)
 939:DMP/driver/eMPL/inv_mpu.c ****         get_ms(timestamp);
 940:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 941:DMP/driver/eMPL/inv_mpu.c **** }
 942:DMP/driver/eMPL/inv_mpu.c **** 
 943:DMP/driver/eMPL/inv_mpu.c **** /**
 944:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Read temperature data directly from the registers.
 945:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] data        Data in q16 format.
 946:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] timestamp   Timestamp in milliseconds. Null if not needed.
 947:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
 948:DMP/driver/eMPL/inv_mpu.c ****  */
 949:DMP/driver/eMPL/inv_mpu.c **** int mpu_get_temperature(long *data, unsigned long *timestamp)
 950:DMP/driver/eMPL/inv_mpu.c **** {
 951:DMP/driver/eMPL/inv_mpu.c ****     unsigned char tmp[2];
 952:DMP/driver/eMPL/inv_mpu.c ****     short raw;
 953:DMP/driver/eMPL/inv_mpu.c **** 
 954:DMP/driver/eMPL/inv_mpu.c ****     if (!(st.chip_cfg.sensors))
 955:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 956:DMP/driver/eMPL/inv_mpu.c **** 
 957:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_read(st.hw->addr, st.reg->temp, 2, tmp))
 958:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 959:DMP/driver/eMPL/inv_mpu.c ****     raw = (tmp[0] << 8) | tmp[1];
 960:DMP/driver/eMPL/inv_mpu.c ****     if (timestamp)
 961:DMP/driver/eMPL/inv_mpu.c ****         get_ms(timestamp);
 962:DMP/driver/eMPL/inv_mpu.c **** 
 963:DMP/driver/eMPL/inv_mpu.c ****     data[0] = (long)((35 + ((raw - (float)st.hw->temp_offset) / st.hw->temp_sens)) * 65536L);
 964:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 965:DMP/driver/eMPL/inv_mpu.c **** }
 966:DMP/driver/eMPL/inv_mpu.c **** 
 967:DMP/driver/eMPL/inv_mpu.c **** /**
 968:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Read biases to the accel bias 6500 registers.
 969:DMP/driver/eMPL/inv_mpu.c ****  *  This function reads from the MPU6500 accel offset cancellations registers.
 970:DMP/driver/eMPL/inv_mpu.c ****  *  The format are G in +-8G format. The register is initialized with OTP 
 971:DMP/driver/eMPL/inv_mpu.c ****  *  factory trim values.
 972:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  accel_bias  returned structure with the accel bias
 973:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
 974:DMP/driver/eMPL/inv_mpu.c ****  */
 975:DMP/driver/eMPL/inv_mpu.c **** int mpu_read_6500_accel_bias(long *accel_bias) {
 976:DMP/driver/eMPL/inv_mpu.c **** 	unsigned char data[6];
 977:DMP/driver/eMPL/inv_mpu.c **** 	if (i2c_read(st.hw->addr, 0x77, 2, &data[0]))
 978:DMP/driver/eMPL/inv_mpu.c **** 		return -1;
 979:DMP/driver/eMPL/inv_mpu.c **** 	if (i2c_read(st.hw->addr, 0x7A, 2, &data[2]))
 980:DMP/driver/eMPL/inv_mpu.c **** 		return -1;
 981:DMP/driver/eMPL/inv_mpu.c **** 	if (i2c_read(st.hw->addr, 0x7D, 2, &data[4]))
 982:DMP/driver/eMPL/inv_mpu.c **** 		return -1;
 983:DMP/driver/eMPL/inv_mpu.c **** 	accel_bias[0] = ((long)data[0]<<8) | data[1];
 984:DMP/driver/eMPL/inv_mpu.c **** 	accel_bias[1] = ((long)data[2]<<8) | data[3];
 985:DMP/driver/eMPL/inv_mpu.c **** 	accel_bias[2] = ((long)data[4]<<8) | data[5];
 986:DMP/driver/eMPL/inv_mpu.c **** 	return 0;
 987:DMP/driver/eMPL/inv_mpu.c **** }
 988:DMP/driver/eMPL/inv_mpu.c **** 
 989:DMP/driver/eMPL/inv_mpu.c **** /**
 990:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Read biases to the accel bias 6050 registers.
 991:DMP/driver/eMPL/inv_mpu.c ****  *  This function reads from the MPU6050 accel offset cancellations registers.
 992:DMP/driver/eMPL/inv_mpu.c ****  *  The format are G in +-8G format. The register is initialized with OTP 
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 22


 993:DMP/driver/eMPL/inv_mpu.c ****  *  factory trim values.
 994:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  accel_bias  returned structure with the accel bias
 995:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
 996:DMP/driver/eMPL/inv_mpu.c ****  */
 997:DMP/driver/eMPL/inv_mpu.c **** int mpu_read_6050_accel_bias(long *accel_bias) {
 998:DMP/driver/eMPL/inv_mpu.c **** 	unsigned char data[6];
 999:DMP/driver/eMPL/inv_mpu.c **** 	if (i2c_read(st.hw->addr, 0x06, 2, &data[0]))
1000:DMP/driver/eMPL/inv_mpu.c **** 		return -1;
1001:DMP/driver/eMPL/inv_mpu.c **** 	if (i2c_read(st.hw->addr, 0x08, 2, &data[2]))
1002:DMP/driver/eMPL/inv_mpu.c **** 		return -1;
1003:DMP/driver/eMPL/inv_mpu.c **** 	if (i2c_read(st.hw->addr, 0x0A, 2, &data[4]))
1004:DMP/driver/eMPL/inv_mpu.c **** 		return -1;
1005:DMP/driver/eMPL/inv_mpu.c **** 	accel_bias[0] = ((long)data[0]<<8) | data[1];
1006:DMP/driver/eMPL/inv_mpu.c **** 	accel_bias[1] = ((long)data[2]<<8) | data[3];
1007:DMP/driver/eMPL/inv_mpu.c **** 	accel_bias[2] = ((long)data[4]<<8) | data[5];
1008:DMP/driver/eMPL/inv_mpu.c **** 	return 0;
1009:DMP/driver/eMPL/inv_mpu.c **** }
1010:DMP/driver/eMPL/inv_mpu.c **** 
1011:DMP/driver/eMPL/inv_mpu.c **** int mpu_read_6500_gyro_bias(long *gyro_bias) {
1012:DMP/driver/eMPL/inv_mpu.c **** 	unsigned char data[6];
1013:DMP/driver/eMPL/inv_mpu.c **** 	if (i2c_read(st.hw->addr, 0x13, 2, &data[0]))
1014:DMP/driver/eMPL/inv_mpu.c **** 		return -1;
1015:DMP/driver/eMPL/inv_mpu.c **** 	if (i2c_read(st.hw->addr, 0x15, 2, &data[2]))
1016:DMP/driver/eMPL/inv_mpu.c **** 		return -1;
1017:DMP/driver/eMPL/inv_mpu.c **** 	if (i2c_read(st.hw->addr, 0x17, 2, &data[4]))
1018:DMP/driver/eMPL/inv_mpu.c **** 		return -1;
1019:DMP/driver/eMPL/inv_mpu.c **** 	gyro_bias[0] = ((long)data[0]<<8) | data[1];
1020:DMP/driver/eMPL/inv_mpu.c **** 	gyro_bias[1] = ((long)data[2]<<8) | data[3];
1021:DMP/driver/eMPL/inv_mpu.c **** 	gyro_bias[2] = ((long)data[4]<<8) | data[5];
1022:DMP/driver/eMPL/inv_mpu.c **** 	return 0;
1023:DMP/driver/eMPL/inv_mpu.c **** }
1024:DMP/driver/eMPL/inv_mpu.c **** 
1025:DMP/driver/eMPL/inv_mpu.c **** /**
1026:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Push biases to the gyro bias 6500/6050 registers.
1027:DMP/driver/eMPL/inv_mpu.c ****  *  This function expects biases relative to the current sensor output, and
1028:DMP/driver/eMPL/inv_mpu.c ****  *  these biases will be added to the factory-supplied values. Bias inputs are LSB
1029:DMP/driver/eMPL/inv_mpu.c ****  *  in +-1000dps format.
1030:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  gyro_bias  New biases.
1031:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
1032:DMP/driver/eMPL/inv_mpu.c ****  */
1033:DMP/driver/eMPL/inv_mpu.c **** int mpu_set_gyro_bias_reg(long *gyro_bias)
1034:DMP/driver/eMPL/inv_mpu.c **** {
1035:DMP/driver/eMPL/inv_mpu.c ****     unsigned char data[6] = {0, 0, 0, 0, 0, 0};
1036:DMP/driver/eMPL/inv_mpu.c ****     int i=0;
1037:DMP/driver/eMPL/inv_mpu.c ****     for(i=0;i<3;i++) {
1038:DMP/driver/eMPL/inv_mpu.c ****     	gyro_bias[i]= (-gyro_bias[i]);
1039:DMP/driver/eMPL/inv_mpu.c ****     }
1040:DMP/driver/eMPL/inv_mpu.c ****     data[0] = (gyro_bias[0] >> 8) & 0xff;
1041:DMP/driver/eMPL/inv_mpu.c ****     data[1] = (gyro_bias[0]) & 0xff;
1042:DMP/driver/eMPL/inv_mpu.c ****     data[2] = (gyro_bias[1] >> 8) & 0xff;
1043:DMP/driver/eMPL/inv_mpu.c ****     data[3] = (gyro_bias[1]) & 0xff;
1044:DMP/driver/eMPL/inv_mpu.c ****     data[4] = (gyro_bias[2] >> 8) & 0xff;
1045:DMP/driver/eMPL/inv_mpu.c ****     data[5] = (gyro_bias[2]) & 0xff;
1046:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, 0x13, 2, &data[0]))
1047:DMP/driver/eMPL/inv_mpu.c ****         return -1;
1048:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, 0x15, 2, &data[2]))
1049:DMP/driver/eMPL/inv_mpu.c ****         return -1;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 23


1050:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, 0x17, 2, &data[4]))
1051:DMP/driver/eMPL/inv_mpu.c ****         return -1;
1052:DMP/driver/eMPL/inv_mpu.c ****     return 0;
1053:DMP/driver/eMPL/inv_mpu.c **** }
1054:DMP/driver/eMPL/inv_mpu.c **** 
1055:DMP/driver/eMPL/inv_mpu.c **** /**
1056:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Push biases to the accel bias 6050 registers.
1057:DMP/driver/eMPL/inv_mpu.c ****  *  This function expects biases relative to the current sensor output, and
1058:DMP/driver/eMPL/inv_mpu.c ****  *  these biases will be added to the factory-supplied values. Bias inputs are LSB
1059:DMP/driver/eMPL/inv_mpu.c ****  *  in +-16G format.
1060:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  accel_bias  New biases.
1061:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
1062:DMP/driver/eMPL/inv_mpu.c ****  */
1063:DMP/driver/eMPL/inv_mpu.c **** int mpu_set_accel_bias_6050_reg(const long *accel_bias) {
1064:DMP/driver/eMPL/inv_mpu.c ****     unsigned char data[6] = {0, 0, 0, 0, 0, 0};
1065:DMP/driver/eMPL/inv_mpu.c ****     long accel_reg_bias[3] = {0, 0, 0};
1066:DMP/driver/eMPL/inv_mpu.c **** 
1067:DMP/driver/eMPL/inv_mpu.c ****     if(mpu_read_6050_accel_bias(accel_reg_bias))
1068:DMP/driver/eMPL/inv_mpu.c ****         return -1;
1069:DMP/driver/eMPL/inv_mpu.c **** 
1070:DMP/driver/eMPL/inv_mpu.c ****     accel_reg_bias[0] -= (accel_bias[0] & ~1);
1071:DMP/driver/eMPL/inv_mpu.c ****     accel_reg_bias[1] -= (accel_bias[1] & ~1);
1072:DMP/driver/eMPL/inv_mpu.c ****     accel_reg_bias[2] -= (accel_bias[2] & ~1);
1073:DMP/driver/eMPL/inv_mpu.c **** 
1074:DMP/driver/eMPL/inv_mpu.c ****     data[0] = (accel_reg_bias[0] >> 8) & 0xff;
1075:DMP/driver/eMPL/inv_mpu.c ****     data[1] = (accel_reg_bias[0]) & 0xff;
1076:DMP/driver/eMPL/inv_mpu.c ****     data[2] = (accel_reg_bias[1] >> 8) & 0xff;
1077:DMP/driver/eMPL/inv_mpu.c ****     data[3] = (accel_reg_bias[1]) & 0xff;
1078:DMP/driver/eMPL/inv_mpu.c ****     data[4] = (accel_reg_bias[2] >> 8) & 0xff;
1079:DMP/driver/eMPL/inv_mpu.c ****     data[5] = (accel_reg_bias[2]) & 0xff;
1080:DMP/driver/eMPL/inv_mpu.c **** 
1081:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, 0x06, 2, &data[0]))
1082:DMP/driver/eMPL/inv_mpu.c ****         return -1;
1083:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, 0x08, 2, &data[2]))
1084:DMP/driver/eMPL/inv_mpu.c ****         return -1;
1085:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, 0x0A, 2, &data[4]))
1086:DMP/driver/eMPL/inv_mpu.c ****         return -1;
1087:DMP/driver/eMPL/inv_mpu.c **** 
1088:DMP/driver/eMPL/inv_mpu.c ****     return 0;
1089:DMP/driver/eMPL/inv_mpu.c **** }
1090:DMP/driver/eMPL/inv_mpu.c **** 
1091:DMP/driver/eMPL/inv_mpu.c **** 
1092:DMP/driver/eMPL/inv_mpu.c **** 
1093:DMP/driver/eMPL/inv_mpu.c **** /**
1094:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Push biases to the accel bias 6500 registers.
1095:DMP/driver/eMPL/inv_mpu.c ****  *  This function expects biases relative to the current sensor output, and
1096:DMP/driver/eMPL/inv_mpu.c ****  *  these biases will be added to the factory-supplied values. Bias inputs are LSB
1097:DMP/driver/eMPL/inv_mpu.c ****  *  in +-16G format.
1098:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  accel_bias  New biases.
1099:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
1100:DMP/driver/eMPL/inv_mpu.c ****  */
1101:DMP/driver/eMPL/inv_mpu.c **** int mpu_set_accel_bias_6500_reg(const long *accel_bias) {
1102:DMP/driver/eMPL/inv_mpu.c ****     unsigned char data[6] = {0, 0, 0, 0, 0, 0};
1103:DMP/driver/eMPL/inv_mpu.c ****     long accel_reg_bias[3] = {0, 0, 0};
1104:DMP/driver/eMPL/inv_mpu.c **** 
1105:DMP/driver/eMPL/inv_mpu.c ****     if(mpu_read_6500_accel_bias(accel_reg_bias))
1106:DMP/driver/eMPL/inv_mpu.c ****         return -1;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 24


1107:DMP/driver/eMPL/inv_mpu.c **** 
1108:DMP/driver/eMPL/inv_mpu.c ****     // Preserve bit 0 of factory value (for temperature compensation)
1109:DMP/driver/eMPL/inv_mpu.c ****     accel_reg_bias[0] -= (accel_bias[0] & ~1);
1110:DMP/driver/eMPL/inv_mpu.c ****     accel_reg_bias[1] -= (accel_bias[1] & ~1);
1111:DMP/driver/eMPL/inv_mpu.c ****     accel_reg_bias[2] -= (accel_bias[2] & ~1);
1112:DMP/driver/eMPL/inv_mpu.c **** 
1113:DMP/driver/eMPL/inv_mpu.c ****     data[0] = (accel_reg_bias[0] >> 8) & 0xff;
1114:DMP/driver/eMPL/inv_mpu.c ****     data[1] = (accel_reg_bias[0]) & 0xff;
1115:DMP/driver/eMPL/inv_mpu.c ****     data[2] = (accel_reg_bias[1] >> 8) & 0xff;
1116:DMP/driver/eMPL/inv_mpu.c ****     data[3] = (accel_reg_bias[1]) & 0xff;
1117:DMP/driver/eMPL/inv_mpu.c ****     data[4] = (accel_reg_bias[2] >> 8) & 0xff;
1118:DMP/driver/eMPL/inv_mpu.c ****     data[5] = (accel_reg_bias[2]) & 0xff;
1119:DMP/driver/eMPL/inv_mpu.c **** 
1120:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, 0x77, 2, &data[0]))
1121:DMP/driver/eMPL/inv_mpu.c ****         return -1;
1122:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, 0x7A, 2, &data[2]))
1123:DMP/driver/eMPL/inv_mpu.c ****         return -1;
1124:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, 0x7D, 2, &data[4]))
1125:DMP/driver/eMPL/inv_mpu.c ****         return -1;
1126:DMP/driver/eMPL/inv_mpu.c **** 
1127:DMP/driver/eMPL/inv_mpu.c ****     return 0;
1128:DMP/driver/eMPL/inv_mpu.c **** }
1129:DMP/driver/eMPL/inv_mpu.c **** 
1130:DMP/driver/eMPL/inv_mpu.c **** 
1131:DMP/driver/eMPL/inv_mpu.c **** /**
1132:DMP/driver/eMPL/inv_mpu.c ****  *  @brief  Reset FIFO read/write pointers.
1133:DMP/driver/eMPL/inv_mpu.c ****  *  @return 0 if successful.
1134:DMP/driver/eMPL/inv_mpu.c ****  */
1135:DMP/driver/eMPL/inv_mpu.c **** int mpu_reset_fifo(void)
1136:DMP/driver/eMPL/inv_mpu.c **** {
1137:DMP/driver/eMPL/inv_mpu.c ****     unsigned char data;
1138:DMP/driver/eMPL/inv_mpu.c **** 
1139:DMP/driver/eMPL/inv_mpu.c ****     if (!(st.chip_cfg.sensors))
1140:DMP/driver/eMPL/inv_mpu.c ****         return -1;
1141:DMP/driver/eMPL/inv_mpu.c **** 
1142:DMP/driver/eMPL/inv_mpu.c ****     data = 0;
1143:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->int_enable, 1, &data))
1144:DMP/driver/eMPL/inv_mpu.c ****         return -1;
1145:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->fifo_en, 1, &data))
1146:DMP/driver/eMPL/inv_mpu.c ****         return -1;
1147:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &data))
1148:DMP/driver/eMPL/inv_mpu.c ****         return -1;
1149:DMP/driver/eMPL/inv_mpu.c **** 
1150:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.dmp_on) {
1151:DMP/driver/eMPL/inv_mpu.c ****         data = BIT_FIFO_RST | BIT_DMP_RST;
1152:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &data))
1153:DMP/driver/eMPL/inv_mpu.c ****             return -1;
1154:DMP/driver/eMPL/inv_mpu.c ****         delay_ms(50);
1155:DMP/driver/eMPL/inv_mpu.c ****         data = BIT_DMP_EN | BIT_FIFO_EN;
1156:DMP/driver/eMPL/inv_mpu.c ****         if (st.chip_cfg.sensors & INV_XYZ_COMPASS)
1157:DMP/driver/eMPL/inv_mpu.c ****             data |= BIT_AUX_IF_EN;
1158:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &data))
1159:DMP/driver/eMPL/inv_mpu.c ****             return -1;
1160:DMP/driver/eMPL/inv_mpu.c ****         if (st.chip_cfg.int_enable)
1161:DMP/driver/eMPL/inv_mpu.c ****             data = BIT_DMP_INT_EN;
1162:DMP/driver/eMPL/inv_mpu.c ****         else
1163:DMP/driver/eMPL/inv_mpu.c ****             data = 0;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 25


1164:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->int_enable, 1, &data))
1165:DMP/driver/eMPL/inv_mpu.c ****             return -1;
1166:DMP/driver/eMPL/inv_mpu.c ****         data = 0;
1167:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->fifo_en, 1, &data))
1168:DMP/driver/eMPL/inv_mpu.c ****             return -1;
1169:DMP/driver/eMPL/inv_mpu.c ****     } else {
1170:DMP/driver/eMPL/inv_mpu.c ****         data = BIT_FIFO_RST;
1171:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &data))
1172:DMP/driver/eMPL/inv_mpu.c ****             return -1;
1173:DMP/driver/eMPL/inv_mpu.c ****         if (st.chip_cfg.bypass_mode || !(st.chip_cfg.sensors & INV_XYZ_COMPASS))
1174:DMP/driver/eMPL/inv_mpu.c ****             data = BIT_FIFO_EN;
1175:DMP/driver/eMPL/inv_mpu.c ****         else
1176:DMP/driver/eMPL/inv_mpu.c ****             data = BIT_FIFO_EN | BIT_AUX_IF_EN;
1177:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &data))
1178:DMP/driver/eMPL/inv_mpu.c ****             return -1;
1179:DMP/driver/eMPL/inv_mpu.c ****         delay_ms(50);
1180:DMP/driver/eMPL/inv_mpu.c ****         if (st.chip_cfg.int_enable)
1181:DMP/driver/eMPL/inv_mpu.c ****             data = BIT_DATA_RDY_EN;
1182:DMP/driver/eMPL/inv_mpu.c ****         else
1183:DMP/driver/eMPL/inv_mpu.c ****             data = 0;
1184:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->int_enable, 1, &data))
1185:DMP/driver/eMPL/inv_mpu.c ****             return -1;
1186:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->fifo_en, 1, &st.chip_cfg.fifo_enable))
1187:DMP/driver/eMPL/inv_mpu.c ****             return -1;
1188:DMP/driver/eMPL/inv_mpu.c ****     }
1189:DMP/driver/eMPL/inv_mpu.c ****     return 0;
1190:DMP/driver/eMPL/inv_mpu.c **** }
1191:DMP/driver/eMPL/inv_mpu.c **** 
1192:DMP/driver/eMPL/inv_mpu.c **** /**
1193:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Get the gyro full-scale range.
1194:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] fsr Current full-scale range.
1195:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
1196:DMP/driver/eMPL/inv_mpu.c ****  */
1197:DMP/driver/eMPL/inv_mpu.c **** int mpu_get_gyro_fsr(unsigned short *fsr)
1198:DMP/driver/eMPL/inv_mpu.c **** {
1199:DMP/driver/eMPL/inv_mpu.c ****     switch (st.chip_cfg.gyro_fsr) {
1200:DMP/driver/eMPL/inv_mpu.c ****     case INV_FSR_250DPS:
1201:DMP/driver/eMPL/inv_mpu.c ****         fsr[0] = 250;
1202:DMP/driver/eMPL/inv_mpu.c ****         break;
1203:DMP/driver/eMPL/inv_mpu.c ****     case INV_FSR_500DPS:
1204:DMP/driver/eMPL/inv_mpu.c ****         fsr[0] = 500;
1205:DMP/driver/eMPL/inv_mpu.c ****         break;
1206:DMP/driver/eMPL/inv_mpu.c ****     case INV_FSR_1000DPS:
1207:DMP/driver/eMPL/inv_mpu.c ****         fsr[0] = 1000;
1208:DMP/driver/eMPL/inv_mpu.c ****         break;
1209:DMP/driver/eMPL/inv_mpu.c ****     case INV_FSR_2000DPS:
1210:DMP/driver/eMPL/inv_mpu.c ****         fsr[0] = 2000;
1211:DMP/driver/eMPL/inv_mpu.c ****         break;
1212:DMP/driver/eMPL/inv_mpu.c ****     default:
1213:DMP/driver/eMPL/inv_mpu.c ****         fsr[0] = 0;
1214:DMP/driver/eMPL/inv_mpu.c ****         break;
1215:DMP/driver/eMPL/inv_mpu.c ****     }
1216:DMP/driver/eMPL/inv_mpu.c ****     return 0;
1217:DMP/driver/eMPL/inv_mpu.c **** }
1218:DMP/driver/eMPL/inv_mpu.c **** 
1219:DMP/driver/eMPL/inv_mpu.c **** /**
1220:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Set the gyro full-scale range.
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 26


1221:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  fsr Desired full-scale range.
1222:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
1223:DMP/driver/eMPL/inv_mpu.c ****  */
1224:DMP/driver/eMPL/inv_mpu.c **** int mpu_set_gyro_fsr(unsigned short fsr)
1225:DMP/driver/eMPL/inv_mpu.c **** {
1226:DMP/driver/eMPL/inv_mpu.c ****     unsigned char data;
1227:DMP/driver/eMPL/inv_mpu.c **** 
1228:DMP/driver/eMPL/inv_mpu.c ****     if (!(st.chip_cfg.sensors))
1229:DMP/driver/eMPL/inv_mpu.c ****         return -1;
1230:DMP/driver/eMPL/inv_mpu.c **** 
1231:DMP/driver/eMPL/inv_mpu.c ****     switch (fsr) {
1232:DMP/driver/eMPL/inv_mpu.c ****     case 250:
1233:DMP/driver/eMPL/inv_mpu.c ****         data = INV_FSR_250DPS << 3;
1234:DMP/driver/eMPL/inv_mpu.c ****         break;
1235:DMP/driver/eMPL/inv_mpu.c ****     case 500:
1236:DMP/driver/eMPL/inv_mpu.c ****         data = INV_FSR_500DPS << 3;
1237:DMP/driver/eMPL/inv_mpu.c ****         break;
1238:DMP/driver/eMPL/inv_mpu.c ****     case 1000:
1239:DMP/driver/eMPL/inv_mpu.c ****         data = INV_FSR_1000DPS << 3;
1240:DMP/driver/eMPL/inv_mpu.c ****         break;
1241:DMP/driver/eMPL/inv_mpu.c ****     case 2000:
1242:DMP/driver/eMPL/inv_mpu.c ****         data = INV_FSR_2000DPS << 3;
1243:DMP/driver/eMPL/inv_mpu.c ****         break;
1244:DMP/driver/eMPL/inv_mpu.c ****     default:
1245:DMP/driver/eMPL/inv_mpu.c ****         return -1;
1246:DMP/driver/eMPL/inv_mpu.c ****     }
1247:DMP/driver/eMPL/inv_mpu.c **** 
1248:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.gyro_fsr == (data >> 3))
1249:DMP/driver/eMPL/inv_mpu.c ****         return 0;
1250:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->gyro_cfg, 1, &data))
1251:DMP/driver/eMPL/inv_mpu.c ****         return -1;
1252:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.gyro_fsr = data >> 3;
1253:DMP/driver/eMPL/inv_mpu.c ****     return 0;
1254:DMP/driver/eMPL/inv_mpu.c **** }
1255:DMP/driver/eMPL/inv_mpu.c **** 
1256:DMP/driver/eMPL/inv_mpu.c **** /**
1257:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Get the accel full-scale range.
1258:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] fsr Current full-scale range.
1259:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
1260:DMP/driver/eMPL/inv_mpu.c ****  */
1261:DMP/driver/eMPL/inv_mpu.c **** int mpu_get_accel_fsr(unsigned char *fsr)
1262:DMP/driver/eMPL/inv_mpu.c **** {
1263:DMP/driver/eMPL/inv_mpu.c ****     switch (st.chip_cfg.accel_fsr) {
1264:DMP/driver/eMPL/inv_mpu.c ****     case INV_FSR_2G:
1265:DMP/driver/eMPL/inv_mpu.c ****         fsr[0] = 2;
1266:DMP/driver/eMPL/inv_mpu.c ****         break;
1267:DMP/driver/eMPL/inv_mpu.c ****     case INV_FSR_4G:
1268:DMP/driver/eMPL/inv_mpu.c ****         fsr[0] = 4;
1269:DMP/driver/eMPL/inv_mpu.c ****         break;
1270:DMP/driver/eMPL/inv_mpu.c ****     case INV_FSR_8G:
1271:DMP/driver/eMPL/inv_mpu.c ****         fsr[0] = 8;
1272:DMP/driver/eMPL/inv_mpu.c ****         break;
1273:DMP/driver/eMPL/inv_mpu.c ****     case INV_FSR_16G:
1274:DMP/driver/eMPL/inv_mpu.c ****         fsr[0] = 16;
1275:DMP/driver/eMPL/inv_mpu.c ****         break;
1276:DMP/driver/eMPL/inv_mpu.c ****     default:
1277:DMP/driver/eMPL/inv_mpu.c ****         return -1;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 27


1278:DMP/driver/eMPL/inv_mpu.c ****     }
1279:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.accel_half)
1280:DMP/driver/eMPL/inv_mpu.c ****         fsr[0] <<= 1;
1281:DMP/driver/eMPL/inv_mpu.c ****     return 0;
1282:DMP/driver/eMPL/inv_mpu.c **** }
1283:DMP/driver/eMPL/inv_mpu.c **** 
1284:DMP/driver/eMPL/inv_mpu.c **** /**
1285:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Set the accel full-scale range.
1286:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  fsr Desired full-scale range.
1287:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
1288:DMP/driver/eMPL/inv_mpu.c ****  */
1289:DMP/driver/eMPL/inv_mpu.c **** int mpu_set_accel_fsr(unsigned char fsr)
1290:DMP/driver/eMPL/inv_mpu.c **** {
1291:DMP/driver/eMPL/inv_mpu.c ****     unsigned char data;
1292:DMP/driver/eMPL/inv_mpu.c **** 
1293:DMP/driver/eMPL/inv_mpu.c ****     if (!(st.chip_cfg.sensors))
1294:DMP/driver/eMPL/inv_mpu.c ****         return -1;
1295:DMP/driver/eMPL/inv_mpu.c **** 
1296:DMP/driver/eMPL/inv_mpu.c ****     switch (fsr) {
1297:DMP/driver/eMPL/inv_mpu.c ****     case 2:
1298:DMP/driver/eMPL/inv_mpu.c ****         data = INV_FSR_2G << 3;
1299:DMP/driver/eMPL/inv_mpu.c ****         break;
1300:DMP/driver/eMPL/inv_mpu.c ****     case 4:
1301:DMP/driver/eMPL/inv_mpu.c ****         data = INV_FSR_4G << 3;
1302:DMP/driver/eMPL/inv_mpu.c ****         break;
1303:DMP/driver/eMPL/inv_mpu.c ****     case 8:
1304:DMP/driver/eMPL/inv_mpu.c ****         data = INV_FSR_8G << 3;
1305:DMP/driver/eMPL/inv_mpu.c ****         break;
1306:DMP/driver/eMPL/inv_mpu.c ****     case 16:
1307:DMP/driver/eMPL/inv_mpu.c ****         data = INV_FSR_16G << 3;
1308:DMP/driver/eMPL/inv_mpu.c ****         break;
1309:DMP/driver/eMPL/inv_mpu.c ****     default:
1310:DMP/driver/eMPL/inv_mpu.c ****         return -1;
1311:DMP/driver/eMPL/inv_mpu.c ****     }
1312:DMP/driver/eMPL/inv_mpu.c **** 
1313:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.accel_fsr == (data >> 3))
1314:DMP/driver/eMPL/inv_mpu.c ****         return 0;
1315:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->accel_cfg, 1, &data))
1316:DMP/driver/eMPL/inv_mpu.c ****         return -1;
1317:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.accel_fsr = data >> 3;
1318:DMP/driver/eMPL/inv_mpu.c ****     return 0;
1319:DMP/driver/eMPL/inv_mpu.c **** }
1320:DMP/driver/eMPL/inv_mpu.c **** 
1321:DMP/driver/eMPL/inv_mpu.c **** /**
1322:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Get the current DLPF setting.
1323:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] lpf Current LPF setting.
1324:DMP/driver/eMPL/inv_mpu.c ****  *  0 if successful.
1325:DMP/driver/eMPL/inv_mpu.c ****  */
1326:DMP/driver/eMPL/inv_mpu.c **** int mpu_get_lpf(unsigned short *lpf)
1327:DMP/driver/eMPL/inv_mpu.c **** {
1328:DMP/driver/eMPL/inv_mpu.c ****     switch (st.chip_cfg.lpf) {
1329:DMP/driver/eMPL/inv_mpu.c ****     case INV_FILTER_188HZ:
1330:DMP/driver/eMPL/inv_mpu.c ****         lpf[0] = 188;
1331:DMP/driver/eMPL/inv_mpu.c ****         break;
1332:DMP/driver/eMPL/inv_mpu.c ****     case INV_FILTER_98HZ:
1333:DMP/driver/eMPL/inv_mpu.c ****         lpf[0] = 98;
1334:DMP/driver/eMPL/inv_mpu.c ****         break;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 28


1335:DMP/driver/eMPL/inv_mpu.c ****     case INV_FILTER_42HZ:
1336:DMP/driver/eMPL/inv_mpu.c ****         lpf[0] = 42;
1337:DMP/driver/eMPL/inv_mpu.c ****         break;
1338:DMP/driver/eMPL/inv_mpu.c ****     case INV_FILTER_20HZ:
1339:DMP/driver/eMPL/inv_mpu.c ****         lpf[0] = 20;
1340:DMP/driver/eMPL/inv_mpu.c ****         break;
1341:DMP/driver/eMPL/inv_mpu.c ****     case INV_FILTER_10HZ:
1342:DMP/driver/eMPL/inv_mpu.c ****         lpf[0] = 10;
1343:DMP/driver/eMPL/inv_mpu.c ****         break;
1344:DMP/driver/eMPL/inv_mpu.c ****     case INV_FILTER_5HZ:
1345:DMP/driver/eMPL/inv_mpu.c ****         lpf[0] = 5;
1346:DMP/driver/eMPL/inv_mpu.c ****         break;
1347:DMP/driver/eMPL/inv_mpu.c ****     case INV_FILTER_256HZ_NOLPF2:
1348:DMP/driver/eMPL/inv_mpu.c ****     case INV_FILTER_2100HZ_NOLPF:
1349:DMP/driver/eMPL/inv_mpu.c ****     default:
1350:DMP/driver/eMPL/inv_mpu.c ****         lpf[0] = 0;
1351:DMP/driver/eMPL/inv_mpu.c ****         break;
1352:DMP/driver/eMPL/inv_mpu.c ****     }
1353:DMP/driver/eMPL/inv_mpu.c ****     return 0;
1354:DMP/driver/eMPL/inv_mpu.c **** }
1355:DMP/driver/eMPL/inv_mpu.c **** 
1356:DMP/driver/eMPL/inv_mpu.c **** /**
1357:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Set digital low pass filter.
1358:DMP/driver/eMPL/inv_mpu.c ****  *  The following LPF settings are supported: 188, 98, 42, 20, 10, 5.
1359:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  lpf Desired LPF setting.
1360:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
1361:DMP/driver/eMPL/inv_mpu.c ****  */
1362:DMP/driver/eMPL/inv_mpu.c **** int mpu_set_lpf(unsigned short lpf)
1363:DMP/driver/eMPL/inv_mpu.c **** {
1364:DMP/driver/eMPL/inv_mpu.c ****     unsigned char data;
1365:DMP/driver/eMPL/inv_mpu.c **** 
1366:DMP/driver/eMPL/inv_mpu.c ****     if (!(st.chip_cfg.sensors))
1367:DMP/driver/eMPL/inv_mpu.c ****         return -1;
1368:DMP/driver/eMPL/inv_mpu.c **** 
1369:DMP/driver/eMPL/inv_mpu.c ****     if (lpf >= 188)
1370:DMP/driver/eMPL/inv_mpu.c ****         data = INV_FILTER_188HZ;
1371:DMP/driver/eMPL/inv_mpu.c ****     else if (lpf >= 98)
1372:DMP/driver/eMPL/inv_mpu.c ****         data = INV_FILTER_98HZ;
1373:DMP/driver/eMPL/inv_mpu.c ****     else if (lpf >= 42)
1374:DMP/driver/eMPL/inv_mpu.c ****         data = INV_FILTER_42HZ;
1375:DMP/driver/eMPL/inv_mpu.c ****     else if (lpf >= 20)
1376:DMP/driver/eMPL/inv_mpu.c ****         data = INV_FILTER_20HZ;
1377:DMP/driver/eMPL/inv_mpu.c ****     else if (lpf >= 10)
1378:DMP/driver/eMPL/inv_mpu.c ****         data = INV_FILTER_10HZ;
1379:DMP/driver/eMPL/inv_mpu.c ****     else
1380:DMP/driver/eMPL/inv_mpu.c ****         data = INV_FILTER_5HZ;
1381:DMP/driver/eMPL/inv_mpu.c **** 
1382:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.lpf == data)
1383:DMP/driver/eMPL/inv_mpu.c ****         return 0;
1384:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->lpf, 1, &data))
1385:DMP/driver/eMPL/inv_mpu.c ****         return -1;
1386:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.lpf = data;
1387:DMP/driver/eMPL/inv_mpu.c ****     return 0;
1388:DMP/driver/eMPL/inv_mpu.c **** }
1389:DMP/driver/eMPL/inv_mpu.c **** 
1390:DMP/driver/eMPL/inv_mpu.c **** /**
1391:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Get sampling rate.
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 29


1392:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] rate    Current sampling rate (Hz).
1393:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
1394:DMP/driver/eMPL/inv_mpu.c ****  */
1395:DMP/driver/eMPL/inv_mpu.c **** int mpu_get_sample_rate(unsigned short *rate)
1396:DMP/driver/eMPL/inv_mpu.c **** {
1397:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.dmp_on)
1398:DMP/driver/eMPL/inv_mpu.c ****         return -1;
1399:DMP/driver/eMPL/inv_mpu.c ****     else
1400:DMP/driver/eMPL/inv_mpu.c ****         rate[0] = st.chip_cfg.sample_rate;
1401:DMP/driver/eMPL/inv_mpu.c ****     return 0;
1402:DMP/driver/eMPL/inv_mpu.c **** }
1403:DMP/driver/eMPL/inv_mpu.c **** 
1404:DMP/driver/eMPL/inv_mpu.c **** /**
1405:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Set sampling rate.
1406:DMP/driver/eMPL/inv_mpu.c ****  *  Sampling rate must be between 4Hz and 1kHz.
1407:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  rate    Desired sampling rate (Hz).
1408:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
1409:DMP/driver/eMPL/inv_mpu.c ****  */
1410:DMP/driver/eMPL/inv_mpu.c **** int mpu_set_sample_rate(unsigned short rate)
1411:DMP/driver/eMPL/inv_mpu.c **** {
1412:DMP/driver/eMPL/inv_mpu.c ****     unsigned char data;
1413:DMP/driver/eMPL/inv_mpu.c **** 
1414:DMP/driver/eMPL/inv_mpu.c ****     if (!(st.chip_cfg.sensors))
1415:DMP/driver/eMPL/inv_mpu.c ****         return -1;
1416:DMP/driver/eMPL/inv_mpu.c **** 
1417:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.dmp_on)
1418:DMP/driver/eMPL/inv_mpu.c ****         return -1;
1419:DMP/driver/eMPL/inv_mpu.c ****     else {
1420:DMP/driver/eMPL/inv_mpu.c ****         if (st.chip_cfg.lp_accel_mode) {
1421:DMP/driver/eMPL/inv_mpu.c ****             if (rate && (rate <= 40)) {
1422:DMP/driver/eMPL/inv_mpu.c ****                 /* Just stay in low-power accel mode. */
1423:DMP/driver/eMPL/inv_mpu.c ****                 mpu_lp_accel_mode(rate);
1424:DMP/driver/eMPL/inv_mpu.c ****                 return 0;
1425:DMP/driver/eMPL/inv_mpu.c ****             }
1426:DMP/driver/eMPL/inv_mpu.c ****             /* Requested rate exceeds the allowed frequencies in LP accel mode,
1427:DMP/driver/eMPL/inv_mpu.c ****              * switch back to full-power mode.
1428:DMP/driver/eMPL/inv_mpu.c ****              */
1429:DMP/driver/eMPL/inv_mpu.c ****             mpu_lp_accel_mode(0);
1430:DMP/driver/eMPL/inv_mpu.c ****         }
1431:DMP/driver/eMPL/inv_mpu.c ****         if (rate < 4)
1432:DMP/driver/eMPL/inv_mpu.c ****             rate = 4;
1433:DMP/driver/eMPL/inv_mpu.c ****         else if (rate > 1000)
1434:DMP/driver/eMPL/inv_mpu.c ****             rate = 1000;
1435:DMP/driver/eMPL/inv_mpu.c **** 
1436:DMP/driver/eMPL/inv_mpu.c ****         data = 1000 / rate - 1;
1437:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->rate_div, 1, &data))
1438:DMP/driver/eMPL/inv_mpu.c ****             return -1;
1439:DMP/driver/eMPL/inv_mpu.c **** 
1440:DMP/driver/eMPL/inv_mpu.c ****         st.chip_cfg.sample_rate = 1000 / (1 + data);
1441:DMP/driver/eMPL/inv_mpu.c **** 
1442:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
1443:DMP/driver/eMPL/inv_mpu.c ****         mpu_set_compass_sample_rate(min(st.chip_cfg.compass_sample_rate, MAX_COMPASS_SAMPLE_RATE));
1444:DMP/driver/eMPL/inv_mpu.c **** #endif
1445:DMP/driver/eMPL/inv_mpu.c **** 
1446:DMP/driver/eMPL/inv_mpu.c ****         /* Automatically set LPF to 1/2 sampling rate. */
1447:DMP/driver/eMPL/inv_mpu.c ****         mpu_set_lpf(st.chip_cfg.sample_rate >> 1);
1448:DMP/driver/eMPL/inv_mpu.c ****         return 0;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 30


1449:DMP/driver/eMPL/inv_mpu.c ****     }
1450:DMP/driver/eMPL/inv_mpu.c **** }
1451:DMP/driver/eMPL/inv_mpu.c **** 
1452:DMP/driver/eMPL/inv_mpu.c **** /**
1453:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Get compass sampling rate.
1454:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] rate    Current compass sampling rate (Hz).
1455:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
1456:DMP/driver/eMPL/inv_mpu.c ****  */
1457:DMP/driver/eMPL/inv_mpu.c **** int mpu_get_compass_sample_rate(unsigned short *rate)
1458:DMP/driver/eMPL/inv_mpu.c **** {
1459:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
1460:DMP/driver/eMPL/inv_mpu.c ****     rate[0] = st.chip_cfg.compass_sample_rate;
1461:DMP/driver/eMPL/inv_mpu.c ****     return 0;
1462:DMP/driver/eMPL/inv_mpu.c **** #else
1463:DMP/driver/eMPL/inv_mpu.c ****     rate[0] = 0;
1464:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1465:DMP/driver/eMPL/inv_mpu.c **** #endif
1466:DMP/driver/eMPL/inv_mpu.c **** }
1467:DMP/driver/eMPL/inv_mpu.c **** 
1468:DMP/driver/eMPL/inv_mpu.c **** /**
1469:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Set compass sampling rate.
1470:DMP/driver/eMPL/inv_mpu.c ****  *  The compass on the auxiliary I2C bus is read by the MPU hardware at a
1471:DMP/driver/eMPL/inv_mpu.c ****  *  maximum of 100Hz. The actual rate can be set to a fraction of the gyro
1472:DMP/driver/eMPL/inv_mpu.c ****  *  sampling rate.
1473:DMP/driver/eMPL/inv_mpu.c ****  *
1474:DMP/driver/eMPL/inv_mpu.c ****  *  \n WARNING: The new rate may be different than what was requested. Call
1475:DMP/driver/eMPL/inv_mpu.c ****  *  mpu_get_compass_sample_rate to check the actual setting.
1476:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  rate    Desired compass sampling rate (Hz).
1477:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
1478:DMP/driver/eMPL/inv_mpu.c ****  */
1479:DMP/driver/eMPL/inv_mpu.c **** int mpu_set_compass_sample_rate(unsigned short rate)
1480:DMP/driver/eMPL/inv_mpu.c **** {
1481:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
1482:DMP/driver/eMPL/inv_mpu.c ****     unsigned char div;
1483:DMP/driver/eMPL/inv_mpu.c ****     if (!rate || rate > st.chip_cfg.sample_rate || rate > MAX_COMPASS_SAMPLE_RATE)
1484:DMP/driver/eMPL/inv_mpu.c ****         return -1;
1485:DMP/driver/eMPL/inv_mpu.c **** 
1486:DMP/driver/eMPL/inv_mpu.c ****     div = st.chip_cfg.sample_rate / rate - 1;
1487:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->s4_ctrl, 1, &div))
1488:DMP/driver/eMPL/inv_mpu.c ****         return -1;
1489:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.compass_sample_rate = st.chip_cfg.sample_rate / (div + 1);
1490:DMP/driver/eMPL/inv_mpu.c ****     return 0;
1491:DMP/driver/eMPL/inv_mpu.c **** #else
1492:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1493:DMP/driver/eMPL/inv_mpu.c **** #endif
1494:DMP/driver/eMPL/inv_mpu.c **** }
1495:DMP/driver/eMPL/inv_mpu.c **** 
1496:DMP/driver/eMPL/inv_mpu.c **** /**
1497:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Get gyro sensitivity scale factor.
1498:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] sens    Conversion from hardware units to dps.
1499:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
1500:DMP/driver/eMPL/inv_mpu.c ****  */
1501:DMP/driver/eMPL/inv_mpu.c **** int mpu_get_gyro_sens(float *sens)
1502:DMP/driver/eMPL/inv_mpu.c **** {
1503:DMP/driver/eMPL/inv_mpu.c ****     switch (st.chip_cfg.gyro_fsr) {
1504:DMP/driver/eMPL/inv_mpu.c ****     case INV_FSR_250DPS:
1505:DMP/driver/eMPL/inv_mpu.c ****         sens[0] = 131.f;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 31


1506:DMP/driver/eMPL/inv_mpu.c ****         break;
1507:DMP/driver/eMPL/inv_mpu.c ****     case INV_FSR_500DPS:
1508:DMP/driver/eMPL/inv_mpu.c ****         sens[0] = 65.5f;
1509:DMP/driver/eMPL/inv_mpu.c ****         break;
1510:DMP/driver/eMPL/inv_mpu.c ****     case INV_FSR_1000DPS:
1511:DMP/driver/eMPL/inv_mpu.c ****         sens[0] = 32.8f;
1512:DMP/driver/eMPL/inv_mpu.c ****         break;
1513:DMP/driver/eMPL/inv_mpu.c ****     case INV_FSR_2000DPS:
1514:DMP/driver/eMPL/inv_mpu.c ****         sens[0] = 16.4f;
1515:DMP/driver/eMPL/inv_mpu.c ****         break;
1516:DMP/driver/eMPL/inv_mpu.c ****     default:
1517:DMP/driver/eMPL/inv_mpu.c ****         return -1;
1518:DMP/driver/eMPL/inv_mpu.c ****     }
1519:DMP/driver/eMPL/inv_mpu.c ****     return 0;
1520:DMP/driver/eMPL/inv_mpu.c **** }
1521:DMP/driver/eMPL/inv_mpu.c **** 
1522:DMP/driver/eMPL/inv_mpu.c **** /**
1523:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Get accel sensitivity scale factor.
1524:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] sens    Conversion from hardware units to g's.
1525:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
1526:DMP/driver/eMPL/inv_mpu.c ****  */
1527:DMP/driver/eMPL/inv_mpu.c **** int mpu_get_accel_sens(unsigned short *sens)
1528:DMP/driver/eMPL/inv_mpu.c **** {
1529:DMP/driver/eMPL/inv_mpu.c ****     switch (st.chip_cfg.accel_fsr) {
1530:DMP/driver/eMPL/inv_mpu.c ****     case INV_FSR_2G:
1531:DMP/driver/eMPL/inv_mpu.c ****         sens[0] = 16384;
1532:DMP/driver/eMPL/inv_mpu.c ****         break;
1533:DMP/driver/eMPL/inv_mpu.c ****     case INV_FSR_4G:
1534:DMP/driver/eMPL/inv_mpu.c ****         sens[0] = 8192;
1535:DMP/driver/eMPL/inv_mpu.c ****         break;
1536:DMP/driver/eMPL/inv_mpu.c ****     case INV_FSR_8G:
1537:DMP/driver/eMPL/inv_mpu.c ****         sens[0] = 4096;
1538:DMP/driver/eMPL/inv_mpu.c ****         break;
1539:DMP/driver/eMPL/inv_mpu.c ****     case INV_FSR_16G:
1540:DMP/driver/eMPL/inv_mpu.c ****         sens[0] = 2048;
1541:DMP/driver/eMPL/inv_mpu.c ****         break;
1542:DMP/driver/eMPL/inv_mpu.c ****     default:
1543:DMP/driver/eMPL/inv_mpu.c ****         return -1;
1544:DMP/driver/eMPL/inv_mpu.c ****     }
1545:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.accel_half)
1546:DMP/driver/eMPL/inv_mpu.c ****         sens[0] >>= 1;
1547:DMP/driver/eMPL/inv_mpu.c ****     return 0;
1548:DMP/driver/eMPL/inv_mpu.c **** }
1549:DMP/driver/eMPL/inv_mpu.c **** 
1550:DMP/driver/eMPL/inv_mpu.c **** /**
1551:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Get current FIFO configuration.
1552:DMP/driver/eMPL/inv_mpu.c ****  *  @e sensors can contain a combination of the following flags:
1553:DMP/driver/eMPL/inv_mpu.c ****  *  \n INV_X_GYRO, INV_Y_GYRO, INV_Z_GYRO
1554:DMP/driver/eMPL/inv_mpu.c ****  *  \n INV_XYZ_GYRO
1555:DMP/driver/eMPL/inv_mpu.c ****  *  \n INV_XYZ_ACCEL
1556:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] sensors Mask of sensors in FIFO.
1557:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
1558:DMP/driver/eMPL/inv_mpu.c ****  */
1559:DMP/driver/eMPL/inv_mpu.c **** int mpu_get_fifo_config(unsigned char *sensors)
1560:DMP/driver/eMPL/inv_mpu.c **** {
1561:DMP/driver/eMPL/inv_mpu.c ****     sensors[0] = st.chip_cfg.fifo_enable;
1562:DMP/driver/eMPL/inv_mpu.c ****     return 0;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 32


1563:DMP/driver/eMPL/inv_mpu.c **** }
1564:DMP/driver/eMPL/inv_mpu.c **** 
1565:DMP/driver/eMPL/inv_mpu.c **** /**
1566:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Select which sensors are pushed to FIFO.
1567:DMP/driver/eMPL/inv_mpu.c ****  *  @e sensors can contain a combination of the following flags:
1568:DMP/driver/eMPL/inv_mpu.c ****  *  \n INV_X_GYRO, INV_Y_GYRO, INV_Z_GYRO
1569:DMP/driver/eMPL/inv_mpu.c ****  *  \n INV_XYZ_GYRO
1570:DMP/driver/eMPL/inv_mpu.c ****  *  \n INV_XYZ_ACCEL
1571:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  sensors Mask of sensors to push to FIFO.
1572:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
1573:DMP/driver/eMPL/inv_mpu.c ****  */
1574:DMP/driver/eMPL/inv_mpu.c **** int mpu_configure_fifo(unsigned char sensors)
1575:DMP/driver/eMPL/inv_mpu.c **** {
1576:DMP/driver/eMPL/inv_mpu.c ****     unsigned char prev;
1577:DMP/driver/eMPL/inv_mpu.c ****     int result = 0;
1578:DMP/driver/eMPL/inv_mpu.c **** 
1579:DMP/driver/eMPL/inv_mpu.c ****     /* Compass data isn't going into the FIFO. Stop trying. */
1580:DMP/driver/eMPL/inv_mpu.c ****     sensors &= ~INV_XYZ_COMPASS;
1581:DMP/driver/eMPL/inv_mpu.c **** 
1582:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.dmp_on)
1583:DMP/driver/eMPL/inv_mpu.c ****         return 0;
1584:DMP/driver/eMPL/inv_mpu.c ****     else {
1585:DMP/driver/eMPL/inv_mpu.c ****         if (!(st.chip_cfg.sensors))
1586:DMP/driver/eMPL/inv_mpu.c ****             return -1;
1587:DMP/driver/eMPL/inv_mpu.c ****         prev = st.chip_cfg.fifo_enable;
1588:DMP/driver/eMPL/inv_mpu.c ****         st.chip_cfg.fifo_enable = sensors & st.chip_cfg.sensors;
1589:DMP/driver/eMPL/inv_mpu.c ****         if (st.chip_cfg.fifo_enable != sensors)
1590:DMP/driver/eMPL/inv_mpu.c ****             /* You're not getting what you asked for. Some sensors are
1591:DMP/driver/eMPL/inv_mpu.c ****              * asleep.
1592:DMP/driver/eMPL/inv_mpu.c ****              */
1593:DMP/driver/eMPL/inv_mpu.c ****             result = -1;
1594:DMP/driver/eMPL/inv_mpu.c ****         else
1595:DMP/driver/eMPL/inv_mpu.c ****             result = 0;
1596:DMP/driver/eMPL/inv_mpu.c ****         if (sensors || st.chip_cfg.lp_accel_mode)
1597:DMP/driver/eMPL/inv_mpu.c ****             set_int_enable(1);
1598:DMP/driver/eMPL/inv_mpu.c ****         else
1599:DMP/driver/eMPL/inv_mpu.c ****             set_int_enable(0);
1600:DMP/driver/eMPL/inv_mpu.c ****         if (sensors) {
1601:DMP/driver/eMPL/inv_mpu.c ****             if (mpu_reset_fifo()) {
1602:DMP/driver/eMPL/inv_mpu.c ****                 st.chip_cfg.fifo_enable = prev;
1603:DMP/driver/eMPL/inv_mpu.c ****                 return -1;
1604:DMP/driver/eMPL/inv_mpu.c ****             }
1605:DMP/driver/eMPL/inv_mpu.c ****         }
1606:DMP/driver/eMPL/inv_mpu.c ****     }
1607:DMP/driver/eMPL/inv_mpu.c **** 
1608:DMP/driver/eMPL/inv_mpu.c ****     return result;
1609:DMP/driver/eMPL/inv_mpu.c **** }
1610:DMP/driver/eMPL/inv_mpu.c **** 
1611:DMP/driver/eMPL/inv_mpu.c **** /**
1612:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Get current power state.
1613:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  power_on    1 if turned on, 0 if suspended.
1614:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
1615:DMP/driver/eMPL/inv_mpu.c ****  */
1616:DMP/driver/eMPL/inv_mpu.c **** int mpu_get_power_state(unsigned char *power_on)
1617:DMP/driver/eMPL/inv_mpu.c **** {
1618:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.sensors)
1619:DMP/driver/eMPL/inv_mpu.c ****         power_on[0] = 1;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 33


1620:DMP/driver/eMPL/inv_mpu.c ****     else
1621:DMP/driver/eMPL/inv_mpu.c ****         power_on[0] = 0;
1622:DMP/driver/eMPL/inv_mpu.c ****     return 0;
1623:DMP/driver/eMPL/inv_mpu.c **** }
1624:DMP/driver/eMPL/inv_mpu.c **** 
1625:DMP/driver/eMPL/inv_mpu.c **** /**
1626:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Turn specific sensors on/off.
1627:DMP/driver/eMPL/inv_mpu.c ****  *  @e sensors can contain a combination of the following flags:
1628:DMP/driver/eMPL/inv_mpu.c ****  *  \n INV_X_GYRO, INV_Y_GYRO, INV_Z_GYRO
1629:DMP/driver/eMPL/inv_mpu.c ****  *  \n INV_XYZ_GYRO
1630:DMP/driver/eMPL/inv_mpu.c ****  *  \n INV_XYZ_ACCEL
1631:DMP/driver/eMPL/inv_mpu.c ****  *  \n INV_XYZ_COMPASS
1632:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  sensors    Mask of sensors to wake.
1633:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
1634:DMP/driver/eMPL/inv_mpu.c ****  */
1635:DMP/driver/eMPL/inv_mpu.c **** int mpu_set_sensors(unsigned char sensors)
1636:DMP/driver/eMPL/inv_mpu.c **** {
1637:DMP/driver/eMPL/inv_mpu.c ****     unsigned char data;
1638:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
1639:DMP/driver/eMPL/inv_mpu.c ****     unsigned char user_ctrl;
1640:DMP/driver/eMPL/inv_mpu.c **** #endif
1641:DMP/driver/eMPL/inv_mpu.c **** 
1642:DMP/driver/eMPL/inv_mpu.c ****     if (sensors & INV_XYZ_GYRO)
1643:DMP/driver/eMPL/inv_mpu.c ****         data = INV_CLK_PLL;
1644:DMP/driver/eMPL/inv_mpu.c ****     else if (sensors)
1645:DMP/driver/eMPL/inv_mpu.c ****         data = 0;
1646:DMP/driver/eMPL/inv_mpu.c ****     else
1647:DMP/driver/eMPL/inv_mpu.c ****         data = BIT_SLEEP;
1648:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 1, &data)) {
1649:DMP/driver/eMPL/inv_mpu.c ****         st.chip_cfg.sensors = 0;
1650:DMP/driver/eMPL/inv_mpu.c ****         return -1;
1651:DMP/driver/eMPL/inv_mpu.c ****     }
1652:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.clk_src = data & ~BIT_SLEEP;
1653:DMP/driver/eMPL/inv_mpu.c **** 
1654:DMP/driver/eMPL/inv_mpu.c ****     data = 0;
1655:DMP/driver/eMPL/inv_mpu.c ****     if (!(sensors & INV_X_GYRO))
1656:DMP/driver/eMPL/inv_mpu.c ****         data |= BIT_STBY_XG;
1657:DMP/driver/eMPL/inv_mpu.c ****     if (!(sensors & INV_Y_GYRO))
1658:DMP/driver/eMPL/inv_mpu.c ****         data |= BIT_STBY_YG;
1659:DMP/driver/eMPL/inv_mpu.c ****     if (!(sensors & INV_Z_GYRO))
1660:DMP/driver/eMPL/inv_mpu.c ****         data |= BIT_STBY_ZG;
1661:DMP/driver/eMPL/inv_mpu.c ****     if (!(sensors & INV_XYZ_ACCEL))
1662:DMP/driver/eMPL/inv_mpu.c ****         data |= BIT_STBY_XYZA;
1663:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_2, 1, &data)) {
1664:DMP/driver/eMPL/inv_mpu.c ****         st.chip_cfg.sensors = 0;
1665:DMP/driver/eMPL/inv_mpu.c ****         return -1;
1666:DMP/driver/eMPL/inv_mpu.c ****     }
1667:DMP/driver/eMPL/inv_mpu.c **** 
1668:DMP/driver/eMPL/inv_mpu.c ****     if (sensors && (sensors != INV_XYZ_ACCEL))
1669:DMP/driver/eMPL/inv_mpu.c ****         /* Latched interrupts only used in LP accel mode. */
1670:DMP/driver/eMPL/inv_mpu.c ****         mpu_set_int_latched(0);
1671:DMP/driver/eMPL/inv_mpu.c **** 
1672:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
1673:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_BYPASS
1674:DMP/driver/eMPL/inv_mpu.c ****     if (sensors & INV_XYZ_COMPASS)
1675:DMP/driver/eMPL/inv_mpu.c ****         mpu_set_bypass(1);
1676:DMP/driver/eMPL/inv_mpu.c ****     else
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 34


1677:DMP/driver/eMPL/inv_mpu.c ****         mpu_set_bypass(0);
1678:DMP/driver/eMPL/inv_mpu.c **** #else
1679:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_read(st.hw->addr, st.reg->user_ctrl, 1, &user_ctrl))
1680:DMP/driver/eMPL/inv_mpu.c ****         return -1;
1681:DMP/driver/eMPL/inv_mpu.c ****     /* Handle AKM power management. */
1682:DMP/driver/eMPL/inv_mpu.c ****     if (sensors & INV_XYZ_COMPASS) {
1683:DMP/driver/eMPL/inv_mpu.c ****         data = AKM_SINGLE_MEASUREMENT;
1684:DMP/driver/eMPL/inv_mpu.c ****         user_ctrl |= BIT_AUX_IF_EN;
1685:DMP/driver/eMPL/inv_mpu.c ****     } else {
1686:DMP/driver/eMPL/inv_mpu.c ****         data = AKM_POWER_DOWN;
1687:DMP/driver/eMPL/inv_mpu.c ****         user_ctrl &= ~BIT_AUX_IF_EN;
1688:DMP/driver/eMPL/inv_mpu.c ****     }
1689:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.dmp_on)
1690:DMP/driver/eMPL/inv_mpu.c ****         user_ctrl |= BIT_DMP_EN;
1691:DMP/driver/eMPL/inv_mpu.c ****     else
1692:DMP/driver/eMPL/inv_mpu.c ****         user_ctrl &= ~BIT_DMP_EN;
1693:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->s1_do, 1, &data))
1694:DMP/driver/eMPL/inv_mpu.c ****         return -1;
1695:DMP/driver/eMPL/inv_mpu.c ****     /* Enable/disable I2C master mode. */
1696:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &user_ctrl))
1697:DMP/driver/eMPL/inv_mpu.c ****         return -1;
1698:DMP/driver/eMPL/inv_mpu.c **** #endif
1699:DMP/driver/eMPL/inv_mpu.c **** #endif
1700:DMP/driver/eMPL/inv_mpu.c **** 
1701:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.sensors = sensors;
1702:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.lp_accel_mode = 0;
1703:DMP/driver/eMPL/inv_mpu.c ****     delay_ms(50);
1704:DMP/driver/eMPL/inv_mpu.c ****     return 0;
1705:DMP/driver/eMPL/inv_mpu.c **** }
1706:DMP/driver/eMPL/inv_mpu.c **** 
1707:DMP/driver/eMPL/inv_mpu.c **** /**
1708:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Read the MPU interrupt status registers.
1709:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] status  Mask of interrupt bits.
1710:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
1711:DMP/driver/eMPL/inv_mpu.c ****  */
1712:DMP/driver/eMPL/inv_mpu.c **** int mpu_get_int_status(short *status)
1713:DMP/driver/eMPL/inv_mpu.c **** {
1714:DMP/driver/eMPL/inv_mpu.c ****     unsigned char tmp[2];
1715:DMP/driver/eMPL/inv_mpu.c ****     if (!st.chip_cfg.sensors)
1716:DMP/driver/eMPL/inv_mpu.c ****         return -1;
1717:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_read(st.hw->addr, st.reg->dmp_int_status, 2, tmp))
1718:DMP/driver/eMPL/inv_mpu.c ****         return -1;
1719:DMP/driver/eMPL/inv_mpu.c ****     status[0] = (tmp[0] << 8) | tmp[1];
1720:DMP/driver/eMPL/inv_mpu.c ****     return 0;
1721:DMP/driver/eMPL/inv_mpu.c **** }
1722:DMP/driver/eMPL/inv_mpu.c **** 
1723:DMP/driver/eMPL/inv_mpu.c **** /**
1724:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Get one packet from the FIFO.
1725:DMP/driver/eMPL/inv_mpu.c ****  *  If @e sensors does not contain a particular sensor, disregard the data
1726:DMP/driver/eMPL/inv_mpu.c ****  *  returned to that pointer.
1727:DMP/driver/eMPL/inv_mpu.c ****  *  \n @e sensors can contain a combination of the following flags:
1728:DMP/driver/eMPL/inv_mpu.c ****  *  \n INV_X_GYRO, INV_Y_GYRO, INV_Z_GYRO
1729:DMP/driver/eMPL/inv_mpu.c ****  *  \n INV_XYZ_GYRO
1730:DMP/driver/eMPL/inv_mpu.c ****  *  \n INV_XYZ_ACCEL
1731:DMP/driver/eMPL/inv_mpu.c ****  *  \n If the FIFO has no new data, @e sensors will be zero.
1732:DMP/driver/eMPL/inv_mpu.c ****  *  \n If the FIFO is disabled, @e sensors will be zero and this function will
1733:DMP/driver/eMPL/inv_mpu.c ****  *  return a non-zero error code.
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 35


1734:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] gyro        Gyro data in hardware units.
1735:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] accel       Accel data in hardware units.
1736:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] timestamp   Timestamp in milliseconds.
1737:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] sensors     Mask of sensors read from FIFO.
1738:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] more        Number of remaining packets.
1739:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
1740:DMP/driver/eMPL/inv_mpu.c ****  */
1741:DMP/driver/eMPL/inv_mpu.c **** int mpu_read_fifo(short *gyro, short *accel, unsigned long *timestamp,
1742:DMP/driver/eMPL/inv_mpu.c ****         unsigned char *sensors, unsigned char *more)
1743:DMP/driver/eMPL/inv_mpu.c **** {
1744:DMP/driver/eMPL/inv_mpu.c ****     /* Assumes maximum packet size is gyro (6) + accel (6). */
1745:DMP/driver/eMPL/inv_mpu.c ****     unsigned char data[MAX_PACKET_LENGTH];
1746:DMP/driver/eMPL/inv_mpu.c ****     unsigned char packet_size = 0;
1747:DMP/driver/eMPL/inv_mpu.c ****     unsigned short fifo_count, index = 0;
1748:DMP/driver/eMPL/inv_mpu.c **** 
1749:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.dmp_on)
1750:DMP/driver/eMPL/inv_mpu.c ****         return -1;
1751:DMP/driver/eMPL/inv_mpu.c **** 
1752:DMP/driver/eMPL/inv_mpu.c ****     sensors[0] = 0;
1753:DMP/driver/eMPL/inv_mpu.c ****     if (!st.chip_cfg.sensors)
1754:DMP/driver/eMPL/inv_mpu.c ****         return -1;
1755:DMP/driver/eMPL/inv_mpu.c ****     if (!st.chip_cfg.fifo_enable)
1756:DMP/driver/eMPL/inv_mpu.c ****         return -1;
1757:DMP/driver/eMPL/inv_mpu.c **** 
1758:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.fifo_enable & INV_X_GYRO)
1759:DMP/driver/eMPL/inv_mpu.c ****         packet_size += 2;
1760:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.fifo_enable & INV_Y_GYRO)
1761:DMP/driver/eMPL/inv_mpu.c ****         packet_size += 2;
1762:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.fifo_enable & INV_Z_GYRO)
1763:DMP/driver/eMPL/inv_mpu.c ****         packet_size += 2;
1764:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.fifo_enable & INV_XYZ_ACCEL)
1765:DMP/driver/eMPL/inv_mpu.c ****         packet_size += 6;
1766:DMP/driver/eMPL/inv_mpu.c **** 
1767:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_read(st.hw->addr, st.reg->fifo_count_h, 2, data))
1768:DMP/driver/eMPL/inv_mpu.c ****         return -1;
1769:DMP/driver/eMPL/inv_mpu.c ****     fifo_count = (data[0] << 8) | data[1];
1770:DMP/driver/eMPL/inv_mpu.c ****     if (fifo_count < packet_size)
1771:DMP/driver/eMPL/inv_mpu.c ****         return 0;
1772:DMP/driver/eMPL/inv_mpu.c **** //    log_i("FIFO count: %hd\n", fifo_count);
1773:DMP/driver/eMPL/inv_mpu.c ****     if (fifo_count > (st.hw->max_fifo >> 1)) {
1774:DMP/driver/eMPL/inv_mpu.c ****         /* FIFO is 50% full, better check overflow bit. */
1775:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_read(st.hw->addr, st.reg->int_status, 1, data))
1776:DMP/driver/eMPL/inv_mpu.c ****             return -1;
1777:DMP/driver/eMPL/inv_mpu.c ****         if (data[0] & BIT_FIFO_OVERFLOW) {
1778:DMP/driver/eMPL/inv_mpu.c ****             mpu_reset_fifo();
1779:DMP/driver/eMPL/inv_mpu.c ****             return -2;
1780:DMP/driver/eMPL/inv_mpu.c ****         }
1781:DMP/driver/eMPL/inv_mpu.c ****     }
1782:DMP/driver/eMPL/inv_mpu.c ****     get_ms((unsigned long*)timestamp);
1783:DMP/driver/eMPL/inv_mpu.c **** 
1784:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_read(st.hw->addr, st.reg->fifo_r_w, packet_size, data))
1785:DMP/driver/eMPL/inv_mpu.c ****         return -1;
1786:DMP/driver/eMPL/inv_mpu.c ****     more[0] = fifo_count / packet_size - 1;
1787:DMP/driver/eMPL/inv_mpu.c ****     sensors[0] = 0;
1788:DMP/driver/eMPL/inv_mpu.c **** 
1789:DMP/driver/eMPL/inv_mpu.c ****     if ((index != packet_size) && st.chip_cfg.fifo_enable & INV_XYZ_ACCEL) {
1790:DMP/driver/eMPL/inv_mpu.c ****         accel[0] = (data[index+0] << 8) | data[index+1];
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 36


1791:DMP/driver/eMPL/inv_mpu.c ****         accel[1] = (data[index+2] << 8) | data[index+3];
1792:DMP/driver/eMPL/inv_mpu.c ****         accel[2] = (data[index+4] << 8) | data[index+5];
1793:DMP/driver/eMPL/inv_mpu.c ****         sensors[0] |= INV_XYZ_ACCEL;
1794:DMP/driver/eMPL/inv_mpu.c ****         index += 6;
1795:DMP/driver/eMPL/inv_mpu.c ****     }
1796:DMP/driver/eMPL/inv_mpu.c ****     if ((index != packet_size) && st.chip_cfg.fifo_enable & INV_X_GYRO) {
1797:DMP/driver/eMPL/inv_mpu.c ****         gyro[0] = (data[index+0] << 8) | data[index+1];
1798:DMP/driver/eMPL/inv_mpu.c ****         sensors[0] |= INV_X_GYRO;
1799:DMP/driver/eMPL/inv_mpu.c ****         index += 2;
1800:DMP/driver/eMPL/inv_mpu.c ****     }
1801:DMP/driver/eMPL/inv_mpu.c ****     if ((index != packet_size) && st.chip_cfg.fifo_enable & INV_Y_GYRO) {
1802:DMP/driver/eMPL/inv_mpu.c ****         gyro[1] = (data[index+0] << 8) | data[index+1];
1803:DMP/driver/eMPL/inv_mpu.c ****         sensors[0] |= INV_Y_GYRO;
1804:DMP/driver/eMPL/inv_mpu.c ****         index += 2;
1805:DMP/driver/eMPL/inv_mpu.c ****     }
1806:DMP/driver/eMPL/inv_mpu.c ****     if ((index != packet_size) && st.chip_cfg.fifo_enable & INV_Z_GYRO) {
1807:DMP/driver/eMPL/inv_mpu.c ****         gyro[2] = (data[index+0] << 8) | data[index+1];
1808:DMP/driver/eMPL/inv_mpu.c ****         sensors[0] |= INV_Z_GYRO;
1809:DMP/driver/eMPL/inv_mpu.c ****         index += 2;
1810:DMP/driver/eMPL/inv_mpu.c ****     }
1811:DMP/driver/eMPL/inv_mpu.c **** 
1812:DMP/driver/eMPL/inv_mpu.c ****     return 0;
1813:DMP/driver/eMPL/inv_mpu.c **** }
1814:DMP/driver/eMPL/inv_mpu.c **** 
1815:DMP/driver/eMPL/inv_mpu.c **** /**
1816:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Get one unparsed packet from the FIFO.
1817:DMP/driver/eMPL/inv_mpu.c ****  *  This function should be used if the packet is to be parsed elsewhere.
1818:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  length  Length of one FIFO packet.
1819:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  data    FIFO packet.
1820:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  more    Number of remaining packets.
1821:DMP/driver/eMPL/inv_mpu.c ****  */
1822:DMP/driver/eMPL/inv_mpu.c **** int mpu_read_fifo_stream(unsigned short length, unsigned char *data,
1823:DMP/driver/eMPL/inv_mpu.c ****     unsigned char *more)
1824:DMP/driver/eMPL/inv_mpu.c **** {
1825:DMP/driver/eMPL/inv_mpu.c ****     unsigned char tmp[2];
1826:DMP/driver/eMPL/inv_mpu.c ****     unsigned short fifo_count;
1827:DMP/driver/eMPL/inv_mpu.c ****     if (!st.chip_cfg.dmp_on)
1828:DMP/driver/eMPL/inv_mpu.c ****         return -1;
1829:DMP/driver/eMPL/inv_mpu.c ****     if (!st.chip_cfg.sensors)
1830:DMP/driver/eMPL/inv_mpu.c ****         return -1;
1831:DMP/driver/eMPL/inv_mpu.c **** 
1832:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_read(st.hw->addr, st.reg->fifo_count_h, 2, tmp))
1833:DMP/driver/eMPL/inv_mpu.c ****         return -1;
1834:DMP/driver/eMPL/inv_mpu.c ****     fifo_count = (tmp[0] << 8) | tmp[1];
1835:DMP/driver/eMPL/inv_mpu.c ****     if (fifo_count < length) {
1836:DMP/driver/eMPL/inv_mpu.c ****         more[0] = 0;
1837:DMP/driver/eMPL/inv_mpu.c ****         return -1;
1838:DMP/driver/eMPL/inv_mpu.c ****     }
1839:DMP/driver/eMPL/inv_mpu.c ****     if (fifo_count > (st.hw->max_fifo >> 1)) {
1840:DMP/driver/eMPL/inv_mpu.c ****         /* FIFO is 50% full, better check overflow bit. */
1841:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_read(st.hw->addr, st.reg->int_status, 1, tmp))
1842:DMP/driver/eMPL/inv_mpu.c ****             return -1;
1843:DMP/driver/eMPL/inv_mpu.c ****         if (tmp[0] & BIT_FIFO_OVERFLOW) {
1844:DMP/driver/eMPL/inv_mpu.c ****             mpu_reset_fifo();
1845:DMP/driver/eMPL/inv_mpu.c ****             return -2;
1846:DMP/driver/eMPL/inv_mpu.c ****         }
1847:DMP/driver/eMPL/inv_mpu.c ****     }
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 37


1848:DMP/driver/eMPL/inv_mpu.c **** 
1849:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_read(st.hw->addr, st.reg->fifo_r_w, length, data))
1850:DMP/driver/eMPL/inv_mpu.c ****         return -1;
1851:DMP/driver/eMPL/inv_mpu.c ****     more[0] = fifo_count / length - 1;
1852:DMP/driver/eMPL/inv_mpu.c ****     return 0;
1853:DMP/driver/eMPL/inv_mpu.c **** }
1854:DMP/driver/eMPL/inv_mpu.c **** 
1855:DMP/driver/eMPL/inv_mpu.c **** /**
1856:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Set device to bypass mode.
1857:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  bypass_on   1 to enable bypass mode.
1858:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
1859:DMP/driver/eMPL/inv_mpu.c ****  */
1860:DMP/driver/eMPL/inv_mpu.c **** int mpu_set_bypass(unsigned char bypass_on)
1861:DMP/driver/eMPL/inv_mpu.c **** {
1862:DMP/driver/eMPL/inv_mpu.c ****     unsigned char tmp;
1863:DMP/driver/eMPL/inv_mpu.c **** 
1864:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.bypass_mode == bypass_on)
1865:DMP/driver/eMPL/inv_mpu.c ****         return 0;
1866:DMP/driver/eMPL/inv_mpu.c **** 
1867:DMP/driver/eMPL/inv_mpu.c ****     if (bypass_on) {
1868:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_read(st.hw->addr, st.reg->user_ctrl, 1, &tmp))
1869:DMP/driver/eMPL/inv_mpu.c ****             return -1;
1870:DMP/driver/eMPL/inv_mpu.c ****         tmp &= ~BIT_AUX_IF_EN;
1871:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &tmp))
1872:DMP/driver/eMPL/inv_mpu.c ****             return -1;
1873:DMP/driver/eMPL/inv_mpu.c ****         delay_ms(3);
1874:DMP/driver/eMPL/inv_mpu.c ****         tmp = BIT_BYPASS_EN;
1875:DMP/driver/eMPL/inv_mpu.c ****         if (st.chip_cfg.active_low_int)
1876:DMP/driver/eMPL/inv_mpu.c ****             tmp |= BIT_ACTL;
1877:DMP/driver/eMPL/inv_mpu.c ****         if (st.chip_cfg.latched_int)
1878:DMP/driver/eMPL/inv_mpu.c ****             tmp |= BIT_LATCH_EN | BIT_ANY_RD_CLR;
1879:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->int_pin_cfg, 1, &tmp))
1880:DMP/driver/eMPL/inv_mpu.c ****             return -1;
1881:DMP/driver/eMPL/inv_mpu.c ****     } else {
1882:DMP/driver/eMPL/inv_mpu.c ****         /* Enable I2C master mode if compass is being used. */
1883:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_read(st.hw->addr, st.reg->user_ctrl, 1, &tmp))
1884:DMP/driver/eMPL/inv_mpu.c ****             return -1;
1885:DMP/driver/eMPL/inv_mpu.c ****         if (st.chip_cfg.sensors & INV_XYZ_COMPASS)
1886:DMP/driver/eMPL/inv_mpu.c ****             tmp |= BIT_AUX_IF_EN;
1887:DMP/driver/eMPL/inv_mpu.c ****         else
1888:DMP/driver/eMPL/inv_mpu.c ****             tmp &= ~BIT_AUX_IF_EN;
1889:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &tmp))
1890:DMP/driver/eMPL/inv_mpu.c ****             return -1;
1891:DMP/driver/eMPL/inv_mpu.c ****         delay_ms(3);
1892:DMP/driver/eMPL/inv_mpu.c ****         if (st.chip_cfg.active_low_int)
1893:DMP/driver/eMPL/inv_mpu.c ****             tmp = BIT_ACTL;
1894:DMP/driver/eMPL/inv_mpu.c ****         else
1895:DMP/driver/eMPL/inv_mpu.c ****             tmp = 0;
1896:DMP/driver/eMPL/inv_mpu.c ****         if (st.chip_cfg.latched_int)
1897:DMP/driver/eMPL/inv_mpu.c ****             tmp |= BIT_LATCH_EN | BIT_ANY_RD_CLR;
1898:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->int_pin_cfg, 1, &tmp))
1899:DMP/driver/eMPL/inv_mpu.c ****             return -1;
1900:DMP/driver/eMPL/inv_mpu.c ****     }
1901:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.bypass_mode = bypass_on;
1902:DMP/driver/eMPL/inv_mpu.c ****     return 0;
1903:DMP/driver/eMPL/inv_mpu.c **** }
1904:DMP/driver/eMPL/inv_mpu.c **** 
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 38


1905:DMP/driver/eMPL/inv_mpu.c **** /**
1906:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Set interrupt level.
1907:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  active_low  1 for active low, 0 for active high.
1908:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
1909:DMP/driver/eMPL/inv_mpu.c ****  */
1910:DMP/driver/eMPL/inv_mpu.c **** int mpu_set_int_level(unsigned char active_low)
1911:DMP/driver/eMPL/inv_mpu.c **** {
1912:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.active_low_int = active_low;
1913:DMP/driver/eMPL/inv_mpu.c ****     return 0;
1914:DMP/driver/eMPL/inv_mpu.c **** }
1915:DMP/driver/eMPL/inv_mpu.c **** 
1916:DMP/driver/eMPL/inv_mpu.c **** /**
1917:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Enable latched interrupts.
1918:DMP/driver/eMPL/inv_mpu.c ****  *  Any MPU register will clear the interrupt.
1919:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  enable  1 to enable, 0 to disable.
1920:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
1921:DMP/driver/eMPL/inv_mpu.c ****  */
1922:DMP/driver/eMPL/inv_mpu.c **** int mpu_set_int_latched(unsigned char enable)
1923:DMP/driver/eMPL/inv_mpu.c **** {
1924:DMP/driver/eMPL/inv_mpu.c ****     unsigned char tmp;
1925:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.latched_int == enable)
1926:DMP/driver/eMPL/inv_mpu.c ****         return 0;
1927:DMP/driver/eMPL/inv_mpu.c **** 
1928:DMP/driver/eMPL/inv_mpu.c ****     if (enable)
1929:DMP/driver/eMPL/inv_mpu.c ****         tmp = BIT_LATCH_EN | BIT_ANY_RD_CLR;
1930:DMP/driver/eMPL/inv_mpu.c ****     else
1931:DMP/driver/eMPL/inv_mpu.c ****         tmp = 0;
1932:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.bypass_mode)
1933:DMP/driver/eMPL/inv_mpu.c ****         tmp |= BIT_BYPASS_EN;
1934:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.active_low_int)
1935:DMP/driver/eMPL/inv_mpu.c ****         tmp |= BIT_ACTL;
1936:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->int_pin_cfg, 1, &tmp))
1937:DMP/driver/eMPL/inv_mpu.c ****         return -1;
1938:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.latched_int = enable;
1939:DMP/driver/eMPL/inv_mpu.c ****     return 0;
1940:DMP/driver/eMPL/inv_mpu.c **** }
1941:DMP/driver/eMPL/inv_mpu.c **** 
1942:DMP/driver/eMPL/inv_mpu.c **** #ifdef MPU6050
1943:DMP/driver/eMPL/inv_mpu.c **** static int get_accel_prod_shift(float *st_shift)
1944:DMP/driver/eMPL/inv_mpu.c **** {
1945:DMP/driver/eMPL/inv_mpu.c ****     unsigned char tmp[4], shift_code[3], ii;
1946:DMP/driver/eMPL/inv_mpu.c **** 
1947:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_read(st.hw->addr, 0x0D, 4, tmp))
1948:DMP/driver/eMPL/inv_mpu.c ****         return 0x07;
1949:DMP/driver/eMPL/inv_mpu.c **** 
1950:DMP/driver/eMPL/inv_mpu.c ****     shift_code[0] = ((tmp[0] & 0xE0) >> 3) | ((tmp[3] & 0x30) >> 4);
1951:DMP/driver/eMPL/inv_mpu.c ****     shift_code[1] = ((tmp[1] & 0xE0) >> 3) | ((tmp[3] & 0x0C) >> 2);
1952:DMP/driver/eMPL/inv_mpu.c ****     shift_code[2] = ((tmp[2] & 0xE0) >> 3) | (tmp[3] & 0x03);
1953:DMP/driver/eMPL/inv_mpu.c ****     for (ii = 0; ii < 3; ii++) {
1954:DMP/driver/eMPL/inv_mpu.c ****         if (!shift_code[ii]) {
1955:DMP/driver/eMPL/inv_mpu.c ****             st_shift[ii] = 0.f;
1956:DMP/driver/eMPL/inv_mpu.c ****             continue;
1957:DMP/driver/eMPL/inv_mpu.c ****         }
1958:DMP/driver/eMPL/inv_mpu.c ****         /* Equivalent to..
1959:DMP/driver/eMPL/inv_mpu.c ****          * st_shift[ii] = 0.34f * powf(0.92f/0.34f, (shift_code[ii]-1) / 30.f)
1960:DMP/driver/eMPL/inv_mpu.c ****          */
1961:DMP/driver/eMPL/inv_mpu.c ****         st_shift[ii] = 0.34f;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 39


1962:DMP/driver/eMPL/inv_mpu.c ****         while (--shift_code[ii])
1963:DMP/driver/eMPL/inv_mpu.c ****             st_shift[ii] *= 1.034f;
1964:DMP/driver/eMPL/inv_mpu.c ****     }
1965:DMP/driver/eMPL/inv_mpu.c ****     return 0;
1966:DMP/driver/eMPL/inv_mpu.c **** }
1967:DMP/driver/eMPL/inv_mpu.c **** 
1968:DMP/driver/eMPL/inv_mpu.c **** static int accel_self_test(long *bias_regular, long *bias_st)
1969:DMP/driver/eMPL/inv_mpu.c **** {
1970:DMP/driver/eMPL/inv_mpu.c ****     int jj, result = 0;
1971:DMP/driver/eMPL/inv_mpu.c ****     float st_shift[3], st_shift_cust, st_shift_var;
1972:DMP/driver/eMPL/inv_mpu.c **** 
1973:DMP/driver/eMPL/inv_mpu.c ****     get_accel_prod_shift(st_shift);
1974:DMP/driver/eMPL/inv_mpu.c ****     for(jj = 0; jj < 3; jj++) {
1975:DMP/driver/eMPL/inv_mpu.c ****         st_shift_cust = labs(bias_regular[jj] - bias_st[jj]) / 65536.f;
1976:DMP/driver/eMPL/inv_mpu.c ****         if (st_shift[jj]) {
1977:DMP/driver/eMPL/inv_mpu.c ****             st_shift_var = st_shift_cust / st_shift[jj] - 1.f;
1978:DMP/driver/eMPL/inv_mpu.c ****             if (fabs(st_shift_var) > test.max_accel_var)
1979:DMP/driver/eMPL/inv_mpu.c ****                 result |= 1 << jj;
1980:DMP/driver/eMPL/inv_mpu.c ****         } else if ((st_shift_cust < test.min_g) ||
1981:DMP/driver/eMPL/inv_mpu.c ****             (st_shift_cust > test.max_g))
1982:DMP/driver/eMPL/inv_mpu.c ****             result |= 1 << jj;
1983:DMP/driver/eMPL/inv_mpu.c ****     }
1984:DMP/driver/eMPL/inv_mpu.c **** 
1985:DMP/driver/eMPL/inv_mpu.c ****     return result;
1986:DMP/driver/eMPL/inv_mpu.c **** }
1987:DMP/driver/eMPL/inv_mpu.c **** 
1988:DMP/driver/eMPL/inv_mpu.c **** static int gyro_self_test(long *bias_regular, long *bias_st)
1989:DMP/driver/eMPL/inv_mpu.c **** {
1990:DMP/driver/eMPL/inv_mpu.c ****     int jj, result = 0;
1991:DMP/driver/eMPL/inv_mpu.c ****     unsigned char tmp[3];
1992:DMP/driver/eMPL/inv_mpu.c ****     float st_shift, st_shift_cust, st_shift_var;
1993:DMP/driver/eMPL/inv_mpu.c **** 
1994:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_read(st.hw->addr, 0x0D, 3, tmp))
1995:DMP/driver/eMPL/inv_mpu.c ****         return 0x07;
1996:DMP/driver/eMPL/inv_mpu.c **** 
1997:DMP/driver/eMPL/inv_mpu.c ****     tmp[0] &= 0x1F;
1998:DMP/driver/eMPL/inv_mpu.c ****     tmp[1] &= 0x1F;
1999:DMP/driver/eMPL/inv_mpu.c ****     tmp[2] &= 0x1F;
2000:DMP/driver/eMPL/inv_mpu.c **** 
2001:DMP/driver/eMPL/inv_mpu.c ****     for (jj = 0; jj < 3; jj++) {
2002:DMP/driver/eMPL/inv_mpu.c ****         st_shift_cust = labs(bias_regular[jj] - bias_st[jj]) / 65536.f;
2003:DMP/driver/eMPL/inv_mpu.c ****         if (tmp[jj]) {
2004:DMP/driver/eMPL/inv_mpu.c ****             st_shift = 3275.f / test.gyro_sens;
2005:DMP/driver/eMPL/inv_mpu.c ****             while (--tmp[jj])
2006:DMP/driver/eMPL/inv_mpu.c ****                 st_shift *= 1.046f;
2007:DMP/driver/eMPL/inv_mpu.c ****             st_shift_var = st_shift_cust / st_shift - 1.f;
2008:DMP/driver/eMPL/inv_mpu.c ****             if (fabs(st_shift_var) > test.max_gyro_var)
2009:DMP/driver/eMPL/inv_mpu.c ****                 result |= 1 << jj;
2010:DMP/driver/eMPL/inv_mpu.c ****         } else if ((st_shift_cust < test.min_dps) ||
2011:DMP/driver/eMPL/inv_mpu.c ****             (st_shift_cust > test.max_dps))
2012:DMP/driver/eMPL/inv_mpu.c ****             result |= 1 << jj;
2013:DMP/driver/eMPL/inv_mpu.c ****     }
2014:DMP/driver/eMPL/inv_mpu.c ****     return result;
2015:DMP/driver/eMPL/inv_mpu.c **** }
2016:DMP/driver/eMPL/inv_mpu.c **** 
2017:DMP/driver/eMPL/inv_mpu.c **** #endif 
2018:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 40


2019:DMP/driver/eMPL/inv_mpu.c **** static int compass_self_test(void)
2020:DMP/driver/eMPL/inv_mpu.c **** {
2021:DMP/driver/eMPL/inv_mpu.c ****     unsigned char tmp[6];
2022:DMP/driver/eMPL/inv_mpu.c ****     unsigned char tries = 10;
2023:DMP/driver/eMPL/inv_mpu.c ****     int result = 0x07;
2024:DMP/driver/eMPL/inv_mpu.c ****     short data;
2025:DMP/driver/eMPL/inv_mpu.c **** 
2026:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_bypass(1);
2027:DMP/driver/eMPL/inv_mpu.c **** 
2028:DMP/driver/eMPL/inv_mpu.c ****     tmp[0] = AKM_POWER_DOWN;
2029:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.chip_cfg.compass_addr, AKM_REG_CNTL, 1, tmp))
2030:DMP/driver/eMPL/inv_mpu.c ****         return 0x07;
2031:DMP/driver/eMPL/inv_mpu.c ****     tmp[0] = AKM_BIT_SELF_TEST;
2032:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.chip_cfg.compass_addr, AKM_REG_ASTC, 1, tmp))
2033:DMP/driver/eMPL/inv_mpu.c ****         goto AKM_restore;
2034:DMP/driver/eMPL/inv_mpu.c ****     tmp[0] = AKM_MODE_SELF_TEST;
2035:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.chip_cfg.compass_addr, AKM_REG_CNTL, 1, tmp))
2036:DMP/driver/eMPL/inv_mpu.c ****         goto AKM_restore;
2037:DMP/driver/eMPL/inv_mpu.c **** 
2038:DMP/driver/eMPL/inv_mpu.c ****     do {
2039:DMP/driver/eMPL/inv_mpu.c ****         delay_ms(10);
2040:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_read(st.chip_cfg.compass_addr, AKM_REG_ST1, 1, tmp))
2041:DMP/driver/eMPL/inv_mpu.c ****             goto AKM_restore;
2042:DMP/driver/eMPL/inv_mpu.c ****         if (tmp[0] & AKM_DATA_READY)
2043:DMP/driver/eMPL/inv_mpu.c ****             break;
2044:DMP/driver/eMPL/inv_mpu.c ****     } while (tries--);
2045:DMP/driver/eMPL/inv_mpu.c ****     if (!(tmp[0] & AKM_DATA_READY))
2046:DMP/driver/eMPL/inv_mpu.c ****         goto AKM_restore;
2047:DMP/driver/eMPL/inv_mpu.c **** 
2048:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_read(st.chip_cfg.compass_addr, AKM_REG_HXL, 6, tmp))
2049:DMP/driver/eMPL/inv_mpu.c ****         goto AKM_restore;
2050:DMP/driver/eMPL/inv_mpu.c **** 
2051:DMP/driver/eMPL/inv_mpu.c ****     result = 0;
2052:DMP/driver/eMPL/inv_mpu.c **** #if defined MPU9150
2053:DMP/driver/eMPL/inv_mpu.c ****     data = (short)(tmp[1] << 8) | tmp[0];
2054:DMP/driver/eMPL/inv_mpu.c ****     if ((data > 100) || (data < -100))
2055:DMP/driver/eMPL/inv_mpu.c ****         result |= 0x01;
2056:DMP/driver/eMPL/inv_mpu.c ****     data = (short)(tmp[3] << 8) | tmp[2];
2057:DMP/driver/eMPL/inv_mpu.c ****     if ((data > 100) || (data < -100))
2058:DMP/driver/eMPL/inv_mpu.c ****         result |= 0x02;
2059:DMP/driver/eMPL/inv_mpu.c ****     data = (short)(tmp[5] << 8) | tmp[4];
2060:DMP/driver/eMPL/inv_mpu.c ****     if ((data > -300) || (data < -1000))
2061:DMP/driver/eMPL/inv_mpu.c ****         result |= 0x04;
2062:DMP/driver/eMPL/inv_mpu.c **** #elif defined MPU9250
2063:DMP/driver/eMPL/inv_mpu.c ****     data = (short)(tmp[1] << 8) | tmp[0];
2064:DMP/driver/eMPL/inv_mpu.c ****     if ((data > 200) || (data < -200))  
2065:DMP/driver/eMPL/inv_mpu.c ****         result |= 0x01;
2066:DMP/driver/eMPL/inv_mpu.c ****     data = (short)(tmp[3] << 8) | tmp[2];
2067:DMP/driver/eMPL/inv_mpu.c ****     if ((data > 200) || (data < -200))  
2068:DMP/driver/eMPL/inv_mpu.c ****         result |= 0x02;
2069:DMP/driver/eMPL/inv_mpu.c ****     data = (short)(tmp[5] << 8) | tmp[4];
2070:DMP/driver/eMPL/inv_mpu.c ****     if ((data > -800) || (data < -3200))  
2071:DMP/driver/eMPL/inv_mpu.c ****         result |= 0x04;
2072:DMP/driver/eMPL/inv_mpu.c **** #endif
2073:DMP/driver/eMPL/inv_mpu.c **** AKM_restore:
2074:DMP/driver/eMPL/inv_mpu.c ****     tmp[0] = 0 | SUPPORTS_AK89xx_HIGH_SENS;
2075:DMP/driver/eMPL/inv_mpu.c ****     i2c_write(st.chip_cfg.compass_addr, AKM_REG_ASTC, 1, tmp);
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 41


2076:DMP/driver/eMPL/inv_mpu.c ****     tmp[0] = SUPPORTS_AK89xx_HIGH_SENS;
2077:DMP/driver/eMPL/inv_mpu.c ****     i2c_write(st.chip_cfg.compass_addr, AKM_REG_CNTL, 1, tmp);
2078:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_bypass(0);
2079:DMP/driver/eMPL/inv_mpu.c ****     return result;
2080:DMP/driver/eMPL/inv_mpu.c **** }
2081:DMP/driver/eMPL/inv_mpu.c **** #endif
2082:DMP/driver/eMPL/inv_mpu.c **** 
2083:DMP/driver/eMPL/inv_mpu.c **** static int get_st_biases(long *gyro, long *accel, unsigned char hw_test)
2084:DMP/driver/eMPL/inv_mpu.c **** {
 182              		.loc 1 2084 1 is_stmt 1 view -0
 183              		.cfi_startproc
 184              		@ args = 0, pretend = 0, frame = 32
 185              		@ frame_needed = 0, uses_anonymous_args = 0
 186              		.loc 1 2084 1 is_stmt 0 view .LVU46
 187 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 188              	.LCFI4:
 189              		.cfi_def_cfa_offset 20
 190              		.cfi_offset 4, -20
 191              		.cfi_offset 5, -16
 192              		.cfi_offset 6, -12
 193              		.cfi_offset 7, -8
 194              		.cfi_offset 14, -4
 195 0002 89B0     		sub	sp, sp, #36
 196              	.LCFI5:
 197              		.cfi_def_cfa_offset 56
 198 0004 0546     		mov	r5, r0
 199 0006 0C46     		mov	r4, r1
 200 0008 1646     		mov	r6, r2
2085:DMP/driver/eMPL/inv_mpu.c ****     unsigned char data[MAX_PACKET_LENGTH];
 201              		.loc 1 2085 5 is_stmt 1 view .LVU47
2086:DMP/driver/eMPL/inv_mpu.c ****     unsigned char packet_count, ii;
 202              		.loc 1 2086 5 view .LVU48
2087:DMP/driver/eMPL/inv_mpu.c ****     unsigned short fifo_count;
 203              		.loc 1 2087 5 view .LVU49
2088:DMP/driver/eMPL/inv_mpu.c **** 
2089:DMP/driver/eMPL/inv_mpu.c ****     data[0] = 0x01;
 204              		.loc 1 2089 5 view .LVU50
 205              		.loc 1 2089 13 is_stmt 0 view .LVU51
 206 000a 0123     		movs	r3, #1
 207 000c 8DF81430 		strb	r3, [sp, #20]
2090:DMP/driver/eMPL/inv_mpu.c ****     data[1] = 0;
 208              		.loc 1 2090 5 is_stmt 1 view .LVU52
 209              		.loc 1 2090 13 is_stmt 0 view .LVU53
 210 0010 0023     		movs	r3, #0
 211 0012 8DF81530 		strb	r3, [sp, #21]
2091:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 2, data))
 212              		.loc 1 2091 5 is_stmt 1 view .LVU54
 213              		.loc 1 2091 21 is_stmt 0 view .LVU55
 214 0016 854B     		ldr	r3, .L50
 215 0018 5868     		ldr	r0, [r3, #4]
 216              	.LVL11:
 217              		.loc 1 2091 34 view .LVU56
 218 001a 1968     		ldr	r1, [r3]
 219              	.LVL12:
 220              		.loc 1 2091 9 view .LVU57
 221 001c 05AB     		add	r3, sp, #20
 222 001e 0222     		movs	r2, #2
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 42


 223              	.LVL13:
 224              		.loc 1 2091 9 view .LVU58
 225 0020 497D     		ldrb	r1, [r1, #21]	@ zero_extendqisi2
 226 0022 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 227 0024 FFF7FEFF 		bl	MPU_Write_Len
 228              	.LVL14:
 229              		.loc 1 2091 8 view .LVU59
 230 0028 0028     		cmp	r0, #0
 231 002a 40F0CE81 		bne	.L29
2092:DMP/driver/eMPL/inv_mpu.c ****         return -1;
2093:DMP/driver/eMPL/inv_mpu.c ****     delay_ms(200);
 232              		.loc 1 2093 5 is_stmt 1 view .LVU60
 233 002e C820     		movs	r0, #200
 234 0030 FFF7FEFF 		bl	HAL_Delay
 235              	.LVL15:
2094:DMP/driver/eMPL/inv_mpu.c ****     data[0] = 0;
 236              		.loc 1 2094 5 view .LVU61
 237              		.loc 1 2094 13 is_stmt 0 view .LVU62
 238 0034 0023     		movs	r3, #0
 239 0036 8DF81430 		strb	r3, [sp, #20]
2095:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->int_enable, 1, data))
 240              		.loc 1 2095 5 is_stmt 1 view .LVU63
 241              		.loc 1 2095 21 is_stmt 0 view .LVU64
 242 003a 7C4B     		ldr	r3, .L50
 243 003c 5868     		ldr	r0, [r3, #4]
 244              		.loc 1 2095 34 view .LVU65
 245 003e 1968     		ldr	r1, [r3]
 246              		.loc 1 2095 9 view .LVU66
 247 0040 05AB     		add	r3, sp, #20
 248 0042 0122     		movs	r2, #1
 249 0044 497C     		ldrb	r1, [r1, #17]	@ zero_extendqisi2
 250 0046 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 251 0048 FFF7FEFF 		bl	MPU_Write_Len
 252              	.LVL16:
 253              		.loc 1 2095 8 view .LVU67
 254 004c 0028     		cmp	r0, #0
 255 004e 40F0BF81 		bne	.L30
2096:DMP/driver/eMPL/inv_mpu.c ****         return -1;
2097:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->fifo_en, 1, data))
 256              		.loc 1 2097 5 is_stmt 1 view .LVU68
 257              		.loc 1 2097 21 is_stmt 0 view .LVU69
 258 0052 764B     		ldr	r3, .L50
 259 0054 5868     		ldr	r0, [r3, #4]
 260              		.loc 1 2097 34 view .LVU70
 261 0056 1968     		ldr	r1, [r3]
 262              		.loc 1 2097 9 view .LVU71
 263 0058 05AB     		add	r3, sp, #20
 264 005a 0122     		movs	r2, #1
 265 005c 4979     		ldrb	r1, [r1, #5]	@ zero_extendqisi2
 266 005e 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 267 0060 FFF7FEFF 		bl	MPU_Write_Len
 268              	.LVL17:
 269              		.loc 1 2097 8 view .LVU72
 270 0064 0028     		cmp	r0, #0
 271 0066 40F0B681 		bne	.L31
2098:DMP/driver/eMPL/inv_mpu.c ****         return -1;
2099:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 1, data))
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 43


 272              		.loc 1 2099 5 is_stmt 1 view .LVU73
 273              		.loc 1 2099 21 is_stmt 0 view .LVU74
 274 006a 704B     		ldr	r3, .L50
 275 006c 5868     		ldr	r0, [r3, #4]
 276              		.loc 1 2099 34 view .LVU75
 277 006e 1968     		ldr	r1, [r3]
 278              		.loc 1 2099 9 view .LVU76
 279 0070 05AB     		add	r3, sp, #20
 280 0072 0122     		movs	r2, #1
 281 0074 497D     		ldrb	r1, [r1, #21]	@ zero_extendqisi2
 282 0076 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 283 0078 FFF7FEFF 		bl	MPU_Write_Len
 284              	.LVL18:
 285              		.loc 1 2099 8 view .LVU77
 286 007c 0028     		cmp	r0, #0
 287 007e 40F0AD81 		bne	.L32
2100:DMP/driver/eMPL/inv_mpu.c ****         return -1;
2101:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->i2c_mst, 1, data))
 288              		.loc 1 2101 5 is_stmt 1 view .LVU78
 289              		.loc 1 2101 21 is_stmt 0 view .LVU79
 290 0082 6A4B     		ldr	r3, .L50
 291 0084 5868     		ldr	r0, [r3, #4]
 292              		.loc 1 2101 34 view .LVU80
 293 0086 1968     		ldr	r1, [r3]
 294              		.loc 1 2101 9 view .LVU81
 295 0088 05AB     		add	r3, sp, #20
 296 008a 0122     		movs	r2, #1
 297 008c 897E     		ldrb	r1, [r1, #26]	@ zero_extendqisi2
 298 008e 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 299 0090 FFF7FEFF 		bl	MPU_Write_Len
 300              	.LVL19:
 301              		.loc 1 2101 8 view .LVU82
 302 0094 0028     		cmp	r0, #0
 303 0096 40F0A481 		bne	.L33
2102:DMP/driver/eMPL/inv_mpu.c ****         return -1;
2103:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, data))
 304              		.loc 1 2103 5 is_stmt 1 view .LVU83
 305              		.loc 1 2103 21 is_stmt 0 view .LVU84
 306 009a 644B     		ldr	r3, .L50
 307 009c 5868     		ldr	r0, [r3, #4]
 308              		.loc 1 2103 34 view .LVU85
 309 009e 1968     		ldr	r1, [r3]
 310              		.loc 1 2103 9 view .LVU86
 311 00a0 05AB     		add	r3, sp, #20
 312 00a2 0122     		movs	r2, #1
 313 00a4 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 314 00a6 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 315 00a8 FFF7FEFF 		bl	MPU_Write_Len
 316              	.LVL20:
 317              		.loc 1 2103 8 view .LVU87
 318 00ac 0028     		cmp	r0, #0
 319 00ae 40F09B81 		bne	.L34
2104:DMP/driver/eMPL/inv_mpu.c ****         return -1;
2105:DMP/driver/eMPL/inv_mpu.c ****     data[0] = BIT_FIFO_RST | BIT_DMP_RST;
 320              		.loc 1 2105 5 is_stmt 1 view .LVU88
 321              		.loc 1 2105 13 is_stmt 0 view .LVU89
 322 00b2 0C23     		movs	r3, #12
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 44


 323 00b4 8DF81430 		strb	r3, [sp, #20]
2106:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, data))
 324              		.loc 1 2106 5 is_stmt 1 view .LVU90
 325              		.loc 1 2106 21 is_stmt 0 view .LVU91
 326 00b8 5C4B     		ldr	r3, .L50
 327 00ba 5868     		ldr	r0, [r3, #4]
 328              		.loc 1 2106 34 view .LVU92
 329 00bc 1968     		ldr	r1, [r3]
 330              		.loc 1 2106 9 view .LVU93
 331 00be 05AB     		add	r3, sp, #20
 332 00c0 0122     		movs	r2, #1
 333 00c2 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 334 00c4 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 335 00c6 FFF7FEFF 		bl	MPU_Write_Len
 336              	.LVL21:
 337              		.loc 1 2106 8 view .LVU94
 338 00ca 0028     		cmp	r0, #0
 339 00cc 40F08F81 		bne	.L35
2107:DMP/driver/eMPL/inv_mpu.c ****         return -1;
2108:DMP/driver/eMPL/inv_mpu.c ****     delay_ms(15);
 340              		.loc 1 2108 5 is_stmt 1 view .LVU95
 341 00d0 0F20     		movs	r0, #15
 342 00d2 FFF7FEFF 		bl	HAL_Delay
 343              	.LVL22:
2109:DMP/driver/eMPL/inv_mpu.c ****     data[0] = st.test->reg_lpf;
 344              		.loc 1 2109 5 view .LVU96
 345              		.loc 1 2109 17 is_stmt 0 view .LVU97
 346 00d6 554B     		ldr	r3, .L50
 347 00d8 5A6B     		ldr	r2, [r3, #52]
 348              		.loc 1 2109 22 view .LVU98
 349 00da 527A     		ldrb	r2, [r2, #9]	@ zero_extendqisi2
 350              		.loc 1 2109 13 view .LVU99
 351 00dc 8DF81420 		strb	r2, [sp, #20]
2110:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->lpf, 1, data))
 352              		.loc 1 2110 5 is_stmt 1 view .LVU100
 353              		.loc 1 2110 21 is_stmt 0 view .LVU101
 354 00e0 5868     		ldr	r0, [r3, #4]
 355              		.loc 1 2110 34 view .LVU102
 356 00e2 1968     		ldr	r1, [r3]
 357              		.loc 1 2110 9 view .LVU103
 358 00e4 05AB     		add	r3, sp, #20
 359 00e6 0122     		movs	r2, #1
 360 00e8 8978     		ldrb	r1, [r1, #2]	@ zero_extendqisi2
 361 00ea 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 362 00ec FFF7FEFF 		bl	MPU_Write_Len
 363              	.LVL23:
 364              		.loc 1 2110 8 view .LVU104
 365 00f0 0028     		cmp	r0, #0
 366 00f2 40F07F81 		bne	.L36
2111:DMP/driver/eMPL/inv_mpu.c ****         return -1;
2112:DMP/driver/eMPL/inv_mpu.c ****     data[0] = st.test->reg_rate_div;
 367              		.loc 1 2112 5 is_stmt 1 view .LVU105
 368              		.loc 1 2112 17 is_stmt 0 view .LVU106
 369 00f6 4D4B     		ldr	r3, .L50
 370 00f8 5A6B     		ldr	r2, [r3, #52]
 371              		.loc 1 2112 22 view .LVU107
 372 00fa 127A     		ldrb	r2, [r2, #8]	@ zero_extendqisi2
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 45


 373              		.loc 1 2112 13 view .LVU108
 374 00fc 8DF81420 		strb	r2, [sp, #20]
2113:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->rate_div, 1, data))
 375              		.loc 1 2113 5 is_stmt 1 view .LVU109
 376              		.loc 1 2113 21 is_stmt 0 view .LVU110
 377 0100 5868     		ldr	r0, [r3, #4]
 378              		.loc 1 2113 34 view .LVU111
 379 0102 1968     		ldr	r1, [r3]
 380              		.loc 1 2113 9 view .LVU112
 381 0104 05AB     		add	r3, sp, #20
 382 0106 0122     		movs	r2, #1
 383 0108 4978     		ldrb	r1, [r1, #1]	@ zero_extendqisi2
 384 010a 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 385 010c FFF7FEFF 		bl	MPU_Write_Len
 386              	.LVL24:
 387              		.loc 1 2113 8 view .LVU113
 388 0110 0028     		cmp	r0, #0
 389 0112 40F07281 		bne	.L37
2114:DMP/driver/eMPL/inv_mpu.c ****         return -1;
2115:DMP/driver/eMPL/inv_mpu.c ****     if (hw_test)
 390              		.loc 1 2115 5 is_stmt 1 view .LVU114
 391              		.loc 1 2115 8 is_stmt 0 view .LVU115
 392 0116 002E     		cmp	r6, #0
 393 0118 79D0     		beq	.L17
2116:DMP/driver/eMPL/inv_mpu.c ****         data[0] = st.test->reg_gyro_fsr | 0xE0;
 394              		.loc 1 2116 9 is_stmt 1 view .LVU116
 395              		.loc 1 2116 21 is_stmt 0 view .LVU117
 396 011a 444B     		ldr	r3, .L50
 397 011c 5B6B     		ldr	r3, [r3, #52]
 398              		.loc 1 2116 26 view .LVU118
 399 011e 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 400              		.loc 1 2116 17 view .LVU119
 401 0120 63F01F03 		orn	r3, r3, #31
 402 0124 8DF81430 		strb	r3, [sp, #20]
 403              	.L18:
2117:DMP/driver/eMPL/inv_mpu.c ****     else
2118:DMP/driver/eMPL/inv_mpu.c ****         data[0] = st.test->reg_gyro_fsr;
2119:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->gyro_cfg, 1, data))
 404              		.loc 1 2119 5 is_stmt 1 view .LVU120
 405              		.loc 1 2119 21 is_stmt 0 view .LVU121
 406 0128 404B     		ldr	r3, .L50
 407 012a 5868     		ldr	r0, [r3, #4]
 408              		.loc 1 2119 34 view .LVU122
 409 012c 1968     		ldr	r1, [r3]
 410              		.loc 1 2119 9 view .LVU123
 411 012e 05AB     		add	r3, sp, #20
 412 0130 0122     		movs	r2, #1
 413 0132 8979     		ldrb	r1, [r1, #6]	@ zero_extendqisi2
 414 0134 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 415 0136 FFF7FEFF 		bl	MPU_Write_Len
 416              	.LVL25:
 417              		.loc 1 2119 8 view .LVU124
 418 013a 0028     		cmp	r0, #0
 419 013c 40F06081 		bne	.L38
2120:DMP/driver/eMPL/inv_mpu.c ****         return -1;
2121:DMP/driver/eMPL/inv_mpu.c **** 
2122:DMP/driver/eMPL/inv_mpu.c ****     if (hw_test)
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 46


 420              		.loc 1 2122 5 is_stmt 1 view .LVU125
 421              		.loc 1 2122 8 is_stmt 0 view .LVU126
 422 0140 002E     		cmp	r6, #0
 423 0142 6AD0     		beq	.L19
2123:DMP/driver/eMPL/inv_mpu.c ****         data[0] = st.test->reg_accel_fsr | 0xE0;
 424              		.loc 1 2123 9 is_stmt 1 view .LVU127
 425              		.loc 1 2123 21 is_stmt 0 view .LVU128
 426 0144 394B     		ldr	r3, .L50
 427 0146 5B6B     		ldr	r3, [r3, #52]
 428              		.loc 1 2123 26 view .LVU129
 429 0148 DB7A     		ldrb	r3, [r3, #11]	@ zero_extendqisi2
 430              		.loc 1 2123 17 view .LVU130
 431 014a 63F01F03 		orn	r3, r3, #31
 432 014e 8DF81430 		strb	r3, [sp, #20]
 433              	.L20:
2124:DMP/driver/eMPL/inv_mpu.c ****     else
2125:DMP/driver/eMPL/inv_mpu.c ****         data[0] = test.reg_accel_fsr;
2126:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->accel_cfg, 1, data))
 434              		.loc 1 2126 5 is_stmt 1 view .LVU131
 435              		.loc 1 2126 21 is_stmt 0 view .LVU132
 436 0152 364B     		ldr	r3, .L50
 437 0154 5868     		ldr	r0, [r3, #4]
 438              		.loc 1 2126 34 view .LVU133
 439 0156 1968     		ldr	r1, [r3]
 440              		.loc 1 2126 9 view .LVU134
 441 0158 05AB     		add	r3, sp, #20
 442 015a 0122     		movs	r2, #1
 443 015c C979     		ldrb	r1, [r1, #7]	@ zero_extendqisi2
 444 015e 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 445 0160 FFF7FEFF 		bl	MPU_Write_Len
 446              	.LVL26:
 447              		.loc 1 2126 8 view .LVU135
 448 0164 0028     		cmp	r0, #0
 449 0166 40F04E81 		bne	.L39
2127:DMP/driver/eMPL/inv_mpu.c ****         return -1;
2128:DMP/driver/eMPL/inv_mpu.c ****     if (hw_test)
 450              		.loc 1 2128 5 is_stmt 1 view .LVU136
 451              		.loc 1 2128 8 is_stmt 0 view .LVU137
 452 016a 002E     		cmp	r6, #0
 453 016c 59D1     		bne	.L45
 454              	.L21:
2129:DMP/driver/eMPL/inv_mpu.c ****         delay_ms(200);
2130:DMP/driver/eMPL/inv_mpu.c **** 
2131:DMP/driver/eMPL/inv_mpu.c ****     /* Fill FIFO for test.wait_ms milliseconds. */
2132:DMP/driver/eMPL/inv_mpu.c ****     data[0] = BIT_FIFO_EN;
 455              		.loc 1 2132 5 is_stmt 1 view .LVU138
 456              		.loc 1 2132 13 is_stmt 0 view .LVU139
 457 016e 4023     		movs	r3, #64
 458 0170 8DF81430 		strb	r3, [sp, #20]
2133:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, data))
 459              		.loc 1 2133 5 is_stmt 1 view .LVU140
 460              		.loc 1 2133 21 is_stmt 0 view .LVU141
 461 0174 2D4B     		ldr	r3, .L50
 462 0176 5868     		ldr	r0, [r3, #4]
 463              		.loc 1 2133 34 view .LVU142
 464 0178 1968     		ldr	r1, [r3]
 465              		.loc 1 2133 9 view .LVU143
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 47


 466 017a 05AB     		add	r3, sp, #20
 467 017c 0122     		movs	r2, #1
 468 017e 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 469 0180 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 470 0182 FFF7FEFF 		bl	MPU_Write_Len
 471              	.LVL27:
 472              		.loc 1 2133 8 view .LVU144
 473 0186 0028     		cmp	r0, #0
 474 0188 40F04081 		bne	.L40
2134:DMP/driver/eMPL/inv_mpu.c ****         return -1;
2135:DMP/driver/eMPL/inv_mpu.c **** 
2136:DMP/driver/eMPL/inv_mpu.c ****     data[0] = INV_XYZ_GYRO | INV_XYZ_ACCEL;
 475              		.loc 1 2136 5 is_stmt 1 view .LVU145
 476              		.loc 1 2136 13 is_stmt 0 view .LVU146
 477 018c 7823     		movs	r3, #120
 478 018e 8DF81430 		strb	r3, [sp, #20]
2137:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->fifo_en, 1, data))
 479              		.loc 1 2137 5 is_stmt 1 view .LVU147
 480              		.loc 1 2137 21 is_stmt 0 view .LVU148
 481 0192 264B     		ldr	r3, .L50
 482 0194 5868     		ldr	r0, [r3, #4]
 483              		.loc 1 2137 34 view .LVU149
 484 0196 1968     		ldr	r1, [r3]
 485              		.loc 1 2137 9 view .LVU150
 486 0198 05AB     		add	r3, sp, #20
 487 019a 0122     		movs	r2, #1
 488 019c 4979     		ldrb	r1, [r1, #5]	@ zero_extendqisi2
 489 019e 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 490 01a0 FFF7FEFF 		bl	MPU_Write_Len
 491              	.LVL28:
 492              		.loc 1 2137 8 view .LVU151
 493 01a4 0028     		cmp	r0, #0
 494 01a6 40F03481 		bne	.L41
2138:DMP/driver/eMPL/inv_mpu.c ****         return -1;
2139:DMP/driver/eMPL/inv_mpu.c ****     delay_ms(test.wait_ms);
 495              		.loc 1 2139 5 is_stmt 1 view .LVU152
 496 01aa C820     		movs	r0, #200
 497 01ac FFF7FEFF 		bl	HAL_Delay
 498              	.LVL29:
2140:DMP/driver/eMPL/inv_mpu.c ****     data[0] = 0;
 499              		.loc 1 2140 5 view .LVU153
 500              		.loc 1 2140 13 is_stmt 0 view .LVU154
 501 01b0 0023     		movs	r3, #0
 502 01b2 8DF81430 		strb	r3, [sp, #20]
2141:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->fifo_en, 1, data))
 503              		.loc 1 2141 5 is_stmt 1 view .LVU155
 504              		.loc 1 2141 21 is_stmt 0 view .LVU156
 505 01b6 1D4B     		ldr	r3, .L50
 506 01b8 5868     		ldr	r0, [r3, #4]
 507              		.loc 1 2141 34 view .LVU157
 508 01ba 1968     		ldr	r1, [r3]
 509              		.loc 1 2141 9 view .LVU158
 510 01bc 05AB     		add	r3, sp, #20
 511 01be 0122     		movs	r2, #1
 512 01c0 4979     		ldrb	r1, [r1, #5]	@ zero_extendqisi2
 513 01c2 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 514 01c4 FFF7FEFF 		bl	MPU_Write_Len
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 48


 515              	.LVL30:
 516              		.loc 1 2141 8 view .LVU159
 517 01c8 0028     		cmp	r0, #0
 518 01ca 40F02581 		bne	.L42
2142:DMP/driver/eMPL/inv_mpu.c ****         return -1;
2143:DMP/driver/eMPL/inv_mpu.c **** 
2144:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_read(st.hw->addr, st.reg->fifo_count_h, 2, data))
 519              		.loc 1 2144 5 is_stmt 1 view .LVU160
 520              		.loc 1 2144 20 is_stmt 0 view .LVU161
 521 01ce 174B     		ldr	r3, .L50
 522 01d0 5868     		ldr	r0, [r3, #4]
 523              		.loc 1 2144 33 view .LVU162
 524 01d2 1968     		ldr	r1, [r3]
 525              		.loc 1 2144 9 view .LVU163
 526 01d4 05AB     		add	r3, sp, #20
 527 01d6 0222     		movs	r2, #2
 528 01d8 097B     		ldrb	r1, [r1, #12]	@ zero_extendqisi2
 529 01da 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 530 01dc FFF7FEFF 		bl	MPU_Read_Len
 531              	.LVL31:
 532              		.loc 1 2144 8 view .LVU164
 533 01e0 0646     		mov	r6, r0
 534 01e2 0028     		cmp	r0, #0
 535 01e4 40F01B81 		bne	.L43
2145:DMP/driver/eMPL/inv_mpu.c ****         return -1;
2146:DMP/driver/eMPL/inv_mpu.c **** 
2147:DMP/driver/eMPL/inv_mpu.c ****     fifo_count = (data[0] << 8) | data[1];
 536              		.loc 1 2147 5 is_stmt 1 view .LVU165
 537              		.loc 1 2147 23 is_stmt 0 view .LVU166
 538 01e8 9DF81430 		ldrb	r3, [sp, #20]	@ zero_extendqisi2
 539              		.loc 1 2147 39 view .LVU167
 540 01ec 9DF81570 		ldrb	r7, [sp, #21]	@ zero_extendqisi2
 541              		.loc 1 2147 16 view .LVU168
 542 01f0 47EA0327 		orr	r7, r7, r3, lsl #8
 543              	.LVL32:
2148:DMP/driver/eMPL/inv_mpu.c ****     packet_count = fifo_count / MAX_PACKET_LENGTH;
 544              		.loc 1 2148 5 is_stmt 1 view .LVU169
 545              		.loc 1 2148 18 is_stmt 0 view .LVU170
 546 01f4 0E4B     		ldr	r3, .L50+4
 547 01f6 A3FB0737 		umull	r3, r7, r3, r7
 548              	.LVL33:
 549              		.loc 1 2148 18 view .LVU171
 550 01fa C7F3C707 		ubfx	r7, r7, #3, #8
 551              	.LVL34:
2149:DMP/driver/eMPL/inv_mpu.c ****     gyro[0] = gyro[1] = gyro[2] = 0;
 552              		.loc 1 2149 5 is_stmt 1 view .LVU172
 553              		.loc 1 2149 33 is_stmt 0 view .LVU173
 554 01fe 0023     		movs	r3, #0
 555 0200 AB60     		str	r3, [r5, #8]
 556              		.loc 1 2149 23 view .LVU174
 557 0202 6B60     		str	r3, [r5, #4]
 558              		.loc 1 2149 13 view .LVU175
 559 0204 2B60     		str	r3, [r5]
 560              	.LVL35:
2150:DMP/driver/eMPL/inv_mpu.c ****     accel[0] = accel[1] = accel[2] = 0;
 561              		.loc 1 2150 5 is_stmt 1 view .LVU176
 562              		.loc 1 2150 36 is_stmt 0 view .LVU177
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 49


 563 0206 A360     		str	r3, [r4, #8]
 564              		.loc 1 2150 25 view .LVU178
 565 0208 6360     		str	r3, [r4, #4]
 566              		.loc 1 2150 14 view .LVU179
 567 020a 2360     		str	r3, [r4]
2151:DMP/driver/eMPL/inv_mpu.c **** 
2152:DMP/driver/eMPL/inv_mpu.c ****     for (ii = 0; ii < packet_count; ii++) {
 568              		.loc 1 2152 5 is_stmt 1 view .LVU180
 569              	.LVL36:
 570              		.loc 1 2152 5 is_stmt 0 view .LVU181
 571 020c 5CE0     		b	.L22
 572              	.LVL37:
 573              	.L17:
2118:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->gyro_cfg, 1, data))
 574              		.loc 1 2118 9 is_stmt 1 view .LVU182
2118:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->gyro_cfg, 1, data))
 575              		.loc 1 2118 21 is_stmt 0 view .LVU183
 576 020e 074B     		ldr	r3, .L50
 577 0210 5B6B     		ldr	r3, [r3, #52]
2118:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->gyro_cfg, 1, data))
 578              		.loc 1 2118 26 view .LVU184
 579 0212 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
2118:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->gyro_cfg, 1, data))
 580              		.loc 1 2118 17 view .LVU185
 581 0214 8DF81430 		strb	r3, [sp, #20]
 582 0218 86E7     		b	.L18
 583              	.L19:
2125:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->accel_cfg, 1, data))
 584              		.loc 1 2125 9 is_stmt 1 view .LVU186
2125:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->accel_cfg, 1, data))
 585              		.loc 1 2125 17 is_stmt 0 view .LVU187
 586 021a 0023     		movs	r3, #0
 587 021c 8DF81430 		strb	r3, [sp, #20]
 588 0220 97E7     		b	.L20
 589              	.L45:
2129:DMP/driver/eMPL/inv_mpu.c **** 
 590              		.loc 1 2129 9 is_stmt 1 view .LVU188
 591 0222 C820     		movs	r0, #200
 592 0224 FFF7FEFF 		bl	HAL_Delay
 593              	.LVL38:
 594 0228 A1E7     		b	.L21
 595              	.L51:
 596 022a 00BF     		.align	2
 597              	.L50:
 598 022c 00000000 		.word	st
 599 0230 ABAAAAAA 		.word	-1431655765
 600              	.LVL39:
 601              	.L23:
 602              	.LBB2:
2153:DMP/driver/eMPL/inv_mpu.c ****         short accel_cur[3], gyro_cur[3];
2154:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_read(st.hw->addr, st.reg->fifo_r_w, MAX_PACKET_LENGTH, data))
2155:DMP/driver/eMPL/inv_mpu.c ****             return -1;
2156:DMP/driver/eMPL/inv_mpu.c ****         accel_cur[0] = ((short)data[0] << 8) | data[1];
 603              		.loc 1 2156 9 view .LVU189
 604              		.loc 1 2156 36 is_stmt 0 view .LVU190
 605 0234 9DF81430 		ldrb	r3, [sp, #20]	@ zero_extendqisi2
 606              		.loc 1 2156 52 view .LVU191
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 50


 607 0238 9DF81510 		ldrb	r1, [sp, #21]	@ zero_extendqisi2
 608              		.loc 1 2156 46 view .LVU192
 609 023c 41EA0321 		orr	r1, r1, r3, lsl #8
 610 0240 09B2     		sxth	r1, r1
 611              		.loc 1 2156 22 view .LVU193
 612 0242 ADF80410 		strh	r1, [sp, #4]	@ movhi
2157:DMP/driver/eMPL/inv_mpu.c ****         accel_cur[1] = ((short)data[2] << 8) | data[3];
 613              		.loc 1 2157 9 is_stmt 1 view .LVU194
 614              		.loc 1 2157 36 is_stmt 0 view .LVU195
 615 0246 9DF81630 		ldrb	r3, [sp, #22]	@ zero_extendqisi2
 616              		.loc 1 2157 52 view .LVU196
 617 024a 9DF81720 		ldrb	r2, [sp, #23]	@ zero_extendqisi2
 618              		.loc 1 2157 46 view .LVU197
 619 024e 42EA0322 		orr	r2, r2, r3, lsl #8
 620 0252 12B2     		sxth	r2, r2
 621              		.loc 1 2157 22 view .LVU198
 622 0254 ADF80620 		strh	r2, [sp, #6]	@ movhi
2158:DMP/driver/eMPL/inv_mpu.c ****         accel_cur[2] = ((short)data[4] << 8) | data[5];
 623              		.loc 1 2158 9 is_stmt 1 view .LVU199
 624              		.loc 1 2158 36 is_stmt 0 view .LVU200
 625 0258 9DF81800 		ldrb	r0, [sp, #24]	@ zero_extendqisi2
 626              		.loc 1 2158 52 view .LVU201
 627 025c 9DF81930 		ldrb	r3, [sp, #25]	@ zero_extendqisi2
 628              		.loc 1 2158 46 view .LVU202
 629 0260 43EA0023 		orr	r3, r3, r0, lsl #8
 630 0264 1BB2     		sxth	r3, r3
 631              		.loc 1 2158 22 view .LVU203
 632 0266 ADF80830 		strh	r3, [sp, #8]	@ movhi
2159:DMP/driver/eMPL/inv_mpu.c ****         accel[0] += (long)accel_cur[0];
 633              		.loc 1 2159 9 is_stmt 1 view .LVU204
 634              		.loc 1 2159 14 is_stmt 0 view .LVU205
 635 026a 2068     		ldr	r0, [r4]
 636              		.loc 1 2159 18 view .LVU206
 637 026c 0844     		add	r0, r0, r1
 638 026e 2060     		str	r0, [r4]
2160:DMP/driver/eMPL/inv_mpu.c ****         accel[1] += (long)accel_cur[1];
 639              		.loc 1 2160 9 is_stmt 1 view .LVU207
 640              		.loc 1 2160 14 is_stmt 0 view .LVU208
 641 0270 6168     		ldr	r1, [r4, #4]
 642              		.loc 1 2160 18 view .LVU209
 643 0272 1144     		add	r1, r1, r2
 644 0274 6160     		str	r1, [r4, #4]
2161:DMP/driver/eMPL/inv_mpu.c ****         accel[2] += (long)accel_cur[2];
 645              		.loc 1 2161 9 is_stmt 1 view .LVU210
 646              		.loc 1 2161 14 is_stmt 0 view .LVU211
 647 0276 A268     		ldr	r2, [r4, #8]
 648              		.loc 1 2161 18 view .LVU212
 649 0278 1A44     		add	r2, r2, r3
 650 027a A260     		str	r2, [r4, #8]
2162:DMP/driver/eMPL/inv_mpu.c ****         gyro_cur[0] = (((short)data[6] << 8) | data[7]);
 651              		.loc 1 2162 9 is_stmt 1 view .LVU213
 652              		.loc 1 2162 36 is_stmt 0 view .LVU214
 653 027c 9DF81A30 		ldrb	r3, [sp, #26]	@ zero_extendqisi2
 654              		.loc 1 2162 52 view .LVU215
 655 0280 9DF81B10 		ldrb	r1, [sp, #27]	@ zero_extendqisi2
 656              		.loc 1 2162 46 view .LVU216
 657 0284 41EA0321 		orr	r1, r1, r3, lsl #8
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 51


 658 0288 09B2     		sxth	r1, r1
 659              		.loc 1 2162 21 view .LVU217
 660 028a ADF80C10 		strh	r1, [sp, #12]	@ movhi
2163:DMP/driver/eMPL/inv_mpu.c ****         gyro_cur[1] = (((short)data[8] << 8) | data[9]);
 661              		.loc 1 2163 9 is_stmt 1 view .LVU218
 662              		.loc 1 2163 36 is_stmt 0 view .LVU219
 663 028e 9DF81C30 		ldrb	r3, [sp, #28]	@ zero_extendqisi2
 664              		.loc 1 2163 52 view .LVU220
 665 0292 9DF81D20 		ldrb	r2, [sp, #29]	@ zero_extendqisi2
 666              		.loc 1 2163 46 view .LVU221
 667 0296 42EA0322 		orr	r2, r2, r3, lsl #8
 668 029a 12B2     		sxth	r2, r2
 669              		.loc 1 2163 21 view .LVU222
 670 029c ADF80E20 		strh	r2, [sp, #14]	@ movhi
2164:DMP/driver/eMPL/inv_mpu.c ****         gyro_cur[2] = (((short)data[10] << 8) | data[11]);
 671              		.loc 1 2164 9 is_stmt 1 view .LVU223
 672              		.loc 1 2164 36 is_stmt 0 view .LVU224
 673 02a0 9DF81E00 		ldrb	r0, [sp, #30]	@ zero_extendqisi2
 674              		.loc 1 2164 53 view .LVU225
 675 02a4 9DF81F30 		ldrb	r3, [sp, #31]	@ zero_extendqisi2
 676              		.loc 1 2164 47 view .LVU226
 677 02a8 43EA0023 		orr	r3, r3, r0, lsl #8
 678 02ac 1BB2     		sxth	r3, r3
 679              		.loc 1 2164 21 view .LVU227
 680 02ae ADF81030 		strh	r3, [sp, #16]	@ movhi
2165:DMP/driver/eMPL/inv_mpu.c ****         gyro[0] += (long)gyro_cur[0];
 681              		.loc 1 2165 9 is_stmt 1 view .LVU228
 682              		.loc 1 2165 13 is_stmt 0 view .LVU229
 683 02b2 2868     		ldr	r0, [r5]
 684              		.loc 1 2165 17 view .LVU230
 685 02b4 0844     		add	r0, r0, r1
 686 02b6 2860     		str	r0, [r5]
2166:DMP/driver/eMPL/inv_mpu.c ****         gyro[1] += (long)gyro_cur[1];
 687              		.loc 1 2166 9 is_stmt 1 view .LVU231
 688              		.loc 1 2166 13 is_stmt 0 view .LVU232
 689 02b8 6968     		ldr	r1, [r5, #4]
 690              		.loc 1 2166 17 view .LVU233
 691 02ba 1144     		add	r1, r1, r2
 692 02bc 6960     		str	r1, [r5, #4]
2167:DMP/driver/eMPL/inv_mpu.c ****         gyro[2] += (long)gyro_cur[2];
 693              		.loc 1 2167 9 is_stmt 1 view .LVU234
 694              		.loc 1 2167 13 is_stmt 0 view .LVU235
 695 02be AA68     		ldr	r2, [r5, #8]
 696              		.loc 1 2167 17 view .LVU236
 697 02c0 1A44     		add	r2, r2, r3
 698 02c2 AA60     		str	r2, [r5, #8]
 699              	.LBE2:
2152:DMP/driver/eMPL/inv_mpu.c ****         short accel_cur[3], gyro_cur[3];
 700              		.loc 1 2152 39 is_stmt 1 view .LVU237
 701 02c4 0136     		adds	r6, r6, #1
 702              	.LVL40:
2152:DMP/driver/eMPL/inv_mpu.c ****         short accel_cur[3], gyro_cur[3];
 703              		.loc 1 2152 39 is_stmt 0 view .LVU238
 704 02c6 F6B2     		uxtb	r6, r6
 705              	.LVL41:
 706              	.L22:
2152:DMP/driver/eMPL/inv_mpu.c ****         short accel_cur[3], gyro_cur[3];
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 52


 707              		.loc 1 2152 21 is_stmt 1 discriminator 1 view .LVU239
 708 02c8 BE42     		cmp	r6, r7
 709 02ca 0ED2     		bcs	.L46
 710              	.LBB3:
2153:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_read(st.hw->addr, st.reg->fifo_r_w, MAX_PACKET_LENGTH, data))
 711              		.loc 1 2153 9 view .LVU240
2154:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 712              		.loc 1 2154 9 view .LVU241
2154:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 713              		.loc 1 2154 24 is_stmt 0 view .LVU242
 714 02cc 554B     		ldr	r3, .L52
 715 02ce 5868     		ldr	r0, [r3, #4]
2154:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 716              		.loc 1 2154 37 view .LVU243
 717 02d0 1968     		ldr	r1, [r3]
2154:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 718              		.loc 1 2154 13 view .LVU244
 719 02d2 05AB     		add	r3, sp, #20
 720 02d4 0C22     		movs	r2, #12
 721 02d6 497B     		ldrb	r1, [r1, #13]	@ zero_extendqisi2
 722 02d8 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 723 02da FFF7FEFF 		bl	MPU_Read_Len
 724              	.LVL42:
2154:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 725              		.loc 1 2154 12 view .LVU245
 726 02de 0028     		cmp	r0, #0
 727 02e0 A8D0     		beq	.L23
2155:DMP/driver/eMPL/inv_mpu.c ****         accel_cur[0] = ((short)data[0] << 8) | data[1];
 728              		.loc 1 2155 13 is_stmt 1 view .LVU246
2155:DMP/driver/eMPL/inv_mpu.c ****         accel_cur[0] = ((short)data[0] << 8) | data[1];
 729              		.loc 1 2155 20 is_stmt 0 view .LVU247
 730 02e2 4FF0FF30 		mov	r0, #-1
 731              	.LVL43:
 732              	.L15:
2155:DMP/driver/eMPL/inv_mpu.c ****         accel_cur[0] = ((short)data[0] << 8) | data[1];
 733              		.loc 1 2155 20 view .LVU248
 734              	.LBE3:
2168:DMP/driver/eMPL/inv_mpu.c ****     }
2169:DMP/driver/eMPL/inv_mpu.c **** #ifdef EMPL_NO_64BIT
2170:DMP/driver/eMPL/inv_mpu.c ****     gyro[0] = (long)(((float)gyro[0]*65536.f) / test.gyro_sens / packet_count);
2171:DMP/driver/eMPL/inv_mpu.c ****     gyro[1] = (long)(((float)gyro[1]*65536.f) / test.gyro_sens / packet_count);
2172:DMP/driver/eMPL/inv_mpu.c ****     gyro[2] = (long)(((float)gyro[2]*65536.f) / test.gyro_sens / packet_count);
2173:DMP/driver/eMPL/inv_mpu.c ****     if (has_accel) {
2174:DMP/driver/eMPL/inv_mpu.c ****         accel[0] = (long)(((float)accel[0]*65536.f) / test.accel_sens /
2175:DMP/driver/eMPL/inv_mpu.c ****             packet_count);
2176:DMP/driver/eMPL/inv_mpu.c ****         accel[1] = (long)(((float)accel[1]*65536.f) / test.accel_sens /
2177:DMP/driver/eMPL/inv_mpu.c ****             packet_count);
2178:DMP/driver/eMPL/inv_mpu.c ****         accel[2] = (long)(((float)accel[2]*65536.f) / test.accel_sens /
2179:DMP/driver/eMPL/inv_mpu.c ****             packet_count);
2180:DMP/driver/eMPL/inv_mpu.c ****         /* Don't remove gravity! */
2181:DMP/driver/eMPL/inv_mpu.c ****         accel[2] -= 65536L;
2182:DMP/driver/eMPL/inv_mpu.c ****     }
2183:DMP/driver/eMPL/inv_mpu.c **** #else
2184:DMP/driver/eMPL/inv_mpu.c ****     gyro[0] = (long)(((long long)gyro[0]<<16) / test.gyro_sens / packet_count);
2185:DMP/driver/eMPL/inv_mpu.c ****     gyro[1] = (long)(((long long)gyro[1]<<16) / test.gyro_sens / packet_count);
2186:DMP/driver/eMPL/inv_mpu.c ****     gyro[2] = (long)(((long long)gyro[2]<<16) / test.gyro_sens / packet_count);
2187:DMP/driver/eMPL/inv_mpu.c ****     accel[0] = (long)(((long long)accel[0]<<16) / test.accel_sens /
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 53


2188:DMP/driver/eMPL/inv_mpu.c ****         packet_count);
2189:DMP/driver/eMPL/inv_mpu.c ****     accel[1] = (long)(((long long)accel[1]<<16) / test.accel_sens /
2190:DMP/driver/eMPL/inv_mpu.c ****         packet_count);
2191:DMP/driver/eMPL/inv_mpu.c ****     accel[2] = (long)(((long long)accel[2]<<16) / test.accel_sens /
2192:DMP/driver/eMPL/inv_mpu.c ****         packet_count);
2193:DMP/driver/eMPL/inv_mpu.c ****     /* Don't remove gravity! */
2194:DMP/driver/eMPL/inv_mpu.c ****     if (accel[2] > 0L)
2195:DMP/driver/eMPL/inv_mpu.c ****         accel[2] -= 65536L;
2196:DMP/driver/eMPL/inv_mpu.c ****     else
2197:DMP/driver/eMPL/inv_mpu.c ****         accel[2] += 65536L;
2198:DMP/driver/eMPL/inv_mpu.c **** #endif
2199:DMP/driver/eMPL/inv_mpu.c **** 
2200:DMP/driver/eMPL/inv_mpu.c ****     return 0;
2201:DMP/driver/eMPL/inv_mpu.c **** }
 735              		.loc 1 2201 1 view .LVU249
 736 02e6 09B0     		add	sp, sp, #36
 737              	.LCFI6:
 738              		.cfi_remember_state
 739              		.cfi_def_cfa_offset 20
 740              		@ sp needed
 741 02e8 F0BD     		pop	{r4, r5, r6, r7, pc}
 742              	.LVL44:
 743              	.L46:
 744              	.LCFI7:
 745              		.cfi_restore_state
2184:DMP/driver/eMPL/inv_mpu.c ****     gyro[1] = (long)(((long long)gyro[1]<<16) / test.gyro_sens / packet_count);
 746              		.loc 1 2184 5 is_stmt 1 view .LVU250
2184:DMP/driver/eMPL/inv_mpu.c ****     gyro[1] = (long)(((long long)gyro[1]<<16) / test.gyro_sens / packet_count);
 747              		.loc 1 2184 38 is_stmt 0 view .LVU251
 748 02ea 2968     		ldr	r1, [r5]
2184:DMP/driver/eMPL/inv_mpu.c ****     gyro[1] = (long)(((long long)gyro[1]<<16) / test.gyro_sens / packet_count);
 749              		.loc 1 2184 47 view .LVU252
 750 02ec 8322     		movs	r2, #131
 751 02ee 0023     		movs	r3, #0
 752 02f0 0804     		lsls	r0, r1, #16
 753 02f2 0914     		asrs	r1, r1, #16
 754 02f4 FFF7FEFF 		bl	__aeabi_ldivmod
 755              	.LVL45:
2184:DMP/driver/eMPL/inv_mpu.c ****     gyro[1] = (long)(((long long)gyro[1]<<16) / test.gyro_sens / packet_count);
 756              		.loc 1 2184 64 view .LVU253
 757 02f8 0026     		movs	r6, #0
 758              	.LVL46:
2184:DMP/driver/eMPL/inv_mpu.c ****     gyro[1] = (long)(((long long)gyro[1]<<16) / test.gyro_sens / packet_count);
 759              		.loc 1 2184 64 view .LVU254
 760 02fa 3A46     		mov	r2, r7
 761 02fc 3346     		mov	r3, r6
 762 02fe FFF7FEFF 		bl	__aeabi_ldivmod
 763              	.LVL47:
2184:DMP/driver/eMPL/inv_mpu.c ****     gyro[1] = (long)(((long long)gyro[1]<<16) / test.gyro_sens / packet_count);
 764              		.loc 1 2184 13 view .LVU255
 765 0302 2860     		str	r0, [r5]
2185:DMP/driver/eMPL/inv_mpu.c ****     gyro[2] = (long)(((long long)gyro[2]<<16) / test.gyro_sens / packet_count);
 766              		.loc 1 2185 5 is_stmt 1 view .LVU256
2185:DMP/driver/eMPL/inv_mpu.c ****     gyro[2] = (long)(((long long)gyro[2]<<16) / test.gyro_sens / packet_count);
 767              		.loc 1 2185 38 is_stmt 0 view .LVU257
 768 0304 6968     		ldr	r1, [r5, #4]
2185:DMP/driver/eMPL/inv_mpu.c ****     gyro[2] = (long)(((long long)gyro[2]<<16) / test.gyro_sens / packet_count);
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 54


 769              		.loc 1 2185 47 view .LVU258
 770 0306 8322     		movs	r2, #131
 771 0308 0023     		movs	r3, #0
 772 030a 0804     		lsls	r0, r1, #16
 773 030c 0914     		asrs	r1, r1, #16
 774 030e FFF7FEFF 		bl	__aeabi_ldivmod
 775              	.LVL48:
2185:DMP/driver/eMPL/inv_mpu.c ****     gyro[2] = (long)(((long long)gyro[2]<<16) / test.gyro_sens / packet_count);
 776              		.loc 1 2185 64 view .LVU259
 777 0312 3A46     		mov	r2, r7
 778 0314 3346     		mov	r3, r6
 779 0316 FFF7FEFF 		bl	__aeabi_ldivmod
 780              	.LVL49:
2185:DMP/driver/eMPL/inv_mpu.c ****     gyro[2] = (long)(((long long)gyro[2]<<16) / test.gyro_sens / packet_count);
 781              		.loc 1 2185 13 view .LVU260
 782 031a 6860     		str	r0, [r5, #4]
2186:DMP/driver/eMPL/inv_mpu.c ****     accel[0] = (long)(((long long)accel[0]<<16) / test.accel_sens /
 783              		.loc 1 2186 5 is_stmt 1 view .LVU261
2186:DMP/driver/eMPL/inv_mpu.c ****     accel[0] = (long)(((long long)accel[0]<<16) / test.accel_sens /
 784              		.loc 1 2186 38 is_stmt 0 view .LVU262
 785 031c A968     		ldr	r1, [r5, #8]
2186:DMP/driver/eMPL/inv_mpu.c ****     accel[0] = (long)(((long long)accel[0]<<16) / test.accel_sens /
 786              		.loc 1 2186 47 view .LVU263
 787 031e 8322     		movs	r2, #131
 788 0320 0023     		movs	r3, #0
 789 0322 0804     		lsls	r0, r1, #16
 790 0324 0914     		asrs	r1, r1, #16
 791 0326 FFF7FEFF 		bl	__aeabi_ldivmod
 792              	.LVL50:
2186:DMP/driver/eMPL/inv_mpu.c ****     accel[0] = (long)(((long long)accel[0]<<16) / test.accel_sens /
 793              		.loc 1 2186 64 view .LVU264
 794 032a 3A46     		mov	r2, r7
 795 032c 3346     		mov	r3, r6
 796 032e FFF7FEFF 		bl	__aeabi_ldivmod
 797              	.LVL51:
2186:DMP/driver/eMPL/inv_mpu.c ****     accel[0] = (long)(((long long)accel[0]<<16) / test.accel_sens /
 798              		.loc 1 2186 13 view .LVU265
 799 0332 A860     		str	r0, [r5, #8]
2187:DMP/driver/eMPL/inv_mpu.c ****         packet_count);
 800              		.loc 1 2187 5 is_stmt 1 view .LVU266
2187:DMP/driver/eMPL/inv_mpu.c ****         packet_count);
 801              		.loc 1 2187 40 is_stmt 0 view .LVU267
 802 0334 2068     		ldr	r0, [r4]
2187:DMP/driver/eMPL/inv_mpu.c ****         packet_count);
 803              		.loc 1 2187 43 view .LVU268
 804 0336 0314     		asrs	r3, r0, #16
 805 0338 0004     		lsls	r0, r0, #16
2187:DMP/driver/eMPL/inv_mpu.c ****         packet_count);
 806              		.loc 1 2187 49 view .LVU269
 807 033a 1946     		mov	r1, r3
 808 033c B342     		cmp	r3, r6
 809 033e 2DDB     		blt	.L47
 810              	.L25:
 811 0340 800B     		lsrs	r0, r0, #14
2187:DMP/driver/eMPL/inv_mpu.c ****         packet_count);
 812              		.loc 1 2187 67 view .LVU270
 813 0342 3A46     		mov	r2, r7
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 55


 814 0344 3346     		mov	r3, r6
 815 0346 40EA8140 		orr	r0, r0, r1, lsl #18
 816 034a 8913     		asrs	r1, r1, #14
 817 034c FFF7FEFF 		bl	__aeabi_ldivmod
 818              	.LVL52:
2187:DMP/driver/eMPL/inv_mpu.c ****         packet_count);
 819              		.loc 1 2187 14 view .LVU271
 820 0350 2060     		str	r0, [r4]
2189:DMP/driver/eMPL/inv_mpu.c ****         packet_count);
 821              		.loc 1 2189 5 is_stmt 1 view .LVU272
2189:DMP/driver/eMPL/inv_mpu.c ****         packet_count);
 822              		.loc 1 2189 40 is_stmt 0 view .LVU273
 823 0352 6068     		ldr	r0, [r4, #4]
2189:DMP/driver/eMPL/inv_mpu.c ****         packet_count);
 824              		.loc 1 2189 43 view .LVU274
 825 0354 0314     		asrs	r3, r0, #16
 826 0356 0004     		lsls	r0, r0, #16
2189:DMP/driver/eMPL/inv_mpu.c ****         packet_count);
 827              		.loc 1 2189 49 view .LVU275
 828 0358 1946     		mov	r1, r3
 829 035a 002B     		cmp	r3, #0
 830 035c 24DB     		blt	.L48
 831              	.L26:
 832 035e 800B     		lsrs	r0, r0, #14
2189:DMP/driver/eMPL/inv_mpu.c ****         packet_count);
 833              		.loc 1 2189 67 view .LVU276
 834 0360 3A46     		mov	r2, r7
 835 0362 3346     		mov	r3, r6
 836 0364 40EA8140 		orr	r0, r0, r1, lsl #18
 837 0368 8913     		asrs	r1, r1, #14
 838 036a FFF7FEFF 		bl	__aeabi_ldivmod
 839              	.LVL53:
2189:DMP/driver/eMPL/inv_mpu.c ****         packet_count);
 840              		.loc 1 2189 14 view .LVU277
 841 036e 6060     		str	r0, [r4, #4]
2191:DMP/driver/eMPL/inv_mpu.c ****         packet_count);
 842              		.loc 1 2191 5 is_stmt 1 view .LVU278
2191:DMP/driver/eMPL/inv_mpu.c ****         packet_count);
 843              		.loc 1 2191 40 is_stmt 0 view .LVU279
 844 0370 A068     		ldr	r0, [r4, #8]
2191:DMP/driver/eMPL/inv_mpu.c ****         packet_count);
 845              		.loc 1 2191 43 view .LVU280
 846 0372 0314     		asrs	r3, r0, #16
 847 0374 0004     		lsls	r0, r0, #16
2191:DMP/driver/eMPL/inv_mpu.c ****         packet_count);
 848              		.loc 1 2191 49 view .LVU281
 849 0376 1946     		mov	r1, r3
 850 0378 002B     		cmp	r3, #0
 851 037a 1BDB     		blt	.L49
 852              	.L27:
 853 037c 800B     		lsrs	r0, r0, #14
2191:DMP/driver/eMPL/inv_mpu.c ****         packet_count);
 854              		.loc 1 2191 67 view .LVU282
 855 037e 3A46     		mov	r2, r7
 856 0380 3346     		mov	r3, r6
 857 0382 40EA8140 		orr	r0, r0, r1, lsl #18
 858 0386 8913     		asrs	r1, r1, #14
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 56


 859 0388 FFF7FEFF 		bl	__aeabi_ldivmod
 860              	.LVL54:
2191:DMP/driver/eMPL/inv_mpu.c ****         packet_count);
 861              		.loc 1 2191 14 view .LVU283
 862 038c A060     		str	r0, [r4, #8]
2194:DMP/driver/eMPL/inv_mpu.c ****         accel[2] -= 65536L;
 863              		.loc 1 2194 5 is_stmt 1 view .LVU284
2194:DMP/driver/eMPL/inv_mpu.c ****         accel[2] -= 65536L;
 864              		.loc 1 2194 8 is_stmt 0 view .LVU285
 865 038e 0028     		cmp	r0, #0
 866 0390 16DD     		ble	.L28
2195:DMP/driver/eMPL/inv_mpu.c ****     else
 867              		.loc 1 2195 9 is_stmt 1 view .LVU286
2195:DMP/driver/eMPL/inv_mpu.c ****     else
 868              		.loc 1 2195 18 is_stmt 0 view .LVU287
 869 0392 A0F58030 		sub	r0, r0, #65536
 870 0396 A060     		str	r0, [r4, #8]
2200:DMP/driver/eMPL/inv_mpu.c **** }
 871              		.loc 1 2200 12 view .LVU288
 872 0398 0020     		movs	r0, #0
 873 039a A4E7     		b	.L15
 874              	.L47:
2187:DMP/driver/eMPL/inv_mpu.c ****         packet_count);
 875              		.loc 1 2187 49 view .LVU289
 876 039c 43F6FF72 		movw	r2, #16383
 877 03a0 8018     		adds	r0, r0, r2
 878 03a2 43F10001 		adc	r1, r3, #0
 879 03a6 CBE7     		b	.L25
 880              	.L48:
2189:DMP/driver/eMPL/inv_mpu.c ****         packet_count);
 881              		.loc 1 2189 49 view .LVU290
 882 03a8 43F6FF72 		movw	r2, #16383
 883 03ac 8018     		adds	r0, r0, r2
 884 03ae 43F10001 		adc	r1, r3, #0
 885 03b2 D4E7     		b	.L26
 886              	.L49:
2191:DMP/driver/eMPL/inv_mpu.c ****         packet_count);
 887              		.loc 1 2191 49 view .LVU291
 888 03b4 43F6FF72 		movw	r2, #16383
 889 03b8 8018     		adds	r0, r0, r2
 890 03ba 43F10001 		adc	r1, r3, #0
 891 03be DDE7     		b	.L27
 892              	.L28:
2197:DMP/driver/eMPL/inv_mpu.c **** #endif
 893              		.loc 1 2197 9 is_stmt 1 view .LVU292
2197:DMP/driver/eMPL/inv_mpu.c **** #endif
 894              		.loc 1 2197 18 is_stmt 0 view .LVU293
 895 03c0 00F58030 		add	r0, r0, #65536
 896 03c4 A060     		str	r0, [r4, #8]
2200:DMP/driver/eMPL/inv_mpu.c **** }
 897              		.loc 1 2200 12 view .LVU294
 898 03c6 0020     		movs	r0, #0
 899 03c8 8DE7     		b	.L15
 900              	.LVL55:
 901              	.L29:
2092:DMP/driver/eMPL/inv_mpu.c ****     delay_ms(200);
 902              		.loc 1 2092 16 view .LVU295
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 57


 903 03ca 4FF0FF30 		mov	r0, #-1
 904 03ce 8AE7     		b	.L15
 905              	.L30:
2096:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->fifo_en, 1, data))
 906              		.loc 1 2096 16 view .LVU296
 907 03d0 4FF0FF30 		mov	r0, #-1
 908 03d4 87E7     		b	.L15
 909              	.L31:
2098:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 1, data))
 910              		.loc 1 2098 16 view .LVU297
 911 03d6 4FF0FF30 		mov	r0, #-1
 912 03da 84E7     		b	.L15
 913              	.L32:
2100:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->i2c_mst, 1, data))
 914              		.loc 1 2100 16 view .LVU298
 915 03dc 4FF0FF30 		mov	r0, #-1
 916 03e0 81E7     		b	.L15
 917              	.L33:
2102:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, data))
 918              		.loc 1 2102 16 view .LVU299
 919 03e2 4FF0FF30 		mov	r0, #-1
 920 03e6 7EE7     		b	.L15
 921              	.L34:
2104:DMP/driver/eMPL/inv_mpu.c ****     data[0] = BIT_FIFO_RST | BIT_DMP_RST;
 922              		.loc 1 2104 16 view .LVU300
 923 03e8 4FF0FF30 		mov	r0, #-1
 924 03ec 7BE7     		b	.L15
 925              	.L35:
2107:DMP/driver/eMPL/inv_mpu.c ****     delay_ms(15);
 926              		.loc 1 2107 16 view .LVU301
 927 03ee 4FF0FF30 		mov	r0, #-1
 928 03f2 78E7     		b	.L15
 929              	.L36:
2111:DMP/driver/eMPL/inv_mpu.c ****     data[0] = st.test->reg_rate_div;
 930              		.loc 1 2111 16 view .LVU302
 931 03f4 4FF0FF30 		mov	r0, #-1
 932 03f8 75E7     		b	.L15
 933              	.L37:
2114:DMP/driver/eMPL/inv_mpu.c ****     if (hw_test)
 934              		.loc 1 2114 16 view .LVU303
 935 03fa 4FF0FF30 		mov	r0, #-1
 936 03fe 72E7     		b	.L15
 937              	.L38:
2120:DMP/driver/eMPL/inv_mpu.c **** 
 938              		.loc 1 2120 16 view .LVU304
 939 0400 4FF0FF30 		mov	r0, #-1
 940 0404 6FE7     		b	.L15
 941              	.L39:
2127:DMP/driver/eMPL/inv_mpu.c ****     if (hw_test)
 942              		.loc 1 2127 16 view .LVU305
 943 0406 4FF0FF30 		mov	r0, #-1
 944 040a 6CE7     		b	.L15
 945              	.L40:
2134:DMP/driver/eMPL/inv_mpu.c **** 
 946              		.loc 1 2134 16 view .LVU306
 947 040c 4FF0FF30 		mov	r0, #-1
 948 0410 69E7     		b	.L15
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 58


 949              	.L41:
2138:DMP/driver/eMPL/inv_mpu.c ****     delay_ms(test.wait_ms);
 950              		.loc 1 2138 16 view .LVU307
 951 0412 4FF0FF30 		mov	r0, #-1
 952 0416 66E7     		b	.L15
 953              	.L42:
2142:DMP/driver/eMPL/inv_mpu.c **** 
 954              		.loc 1 2142 16 view .LVU308
 955 0418 4FF0FF30 		mov	r0, #-1
 956 041c 63E7     		b	.L15
 957              	.L43:
2145:DMP/driver/eMPL/inv_mpu.c **** 
 958              		.loc 1 2145 16 view .LVU309
 959 041e 4FF0FF30 		mov	r0, #-1
 960 0422 60E7     		b	.L15
 961              	.L53:
 962              		.align	2
 963              	.L52:
 964 0424 00000000 		.word	st
 965              		.cfi_endproc
 966              	.LFE205:
 968              		.section	.rodata.get_st_6500_biases.str1.4,"aMS",%progbits,1
 969              		.align	2
 970              	.LC0:
 971 0000 53746172 		.ascii	"Starting Bias Loop Reads\000"
 971      74696E67 
 971      20426961 
 971      73204C6F 
 971      6F702052 
 972 0019 000000   		.align	2
 973              	.LC1:
 974 001c 53616D70 		.ascii	"Samples: %d\012\000"
 974      6C65733A 
 974      2025640A 
 974      00
 975              		.global	__aeabi_f2d
 976 0029 000000   		.align	2
 977              	.LC2:
 978 002c 41636365 		.ascii	"Accel offset data HWST bit=%d: %7.4f %7.4f %7.4f\015"
 978      6C206F66 
 978      66736574 
 978      20646174 
 978      61204857 
 979 005d 0A00     		.ascii	"\012\000"
 980 005f 00       		.align	2
 981              	.LC3:
 982 0060 4779726F 		.ascii	"Gyro offset data HWST bit=%d: %7.4f %7.4f %7.4f\015"
 982      206F6666 
 982      73657420 
 982      64617461 
 982      20485753 
 983 0090 0A00     		.ascii	"\012\000"
 984              		.section	.text.get_st_6500_biases,"ax",%progbits
 985              		.align	1
 986              		.syntax unified
 987              		.thumb
 988              		.thumb_func
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 59


 990              	get_st_6500_biases:
 991              	.LVL56:
 992              	.LFB208:
2202:DMP/driver/eMPL/inv_mpu.c **** 
2203:DMP/driver/eMPL/inv_mpu.c **** #ifdef MPU6500
2204:DMP/driver/eMPL/inv_mpu.c **** #define REG_6500_XG_ST_DATA     0x0
2205:DMP/driver/eMPL/inv_mpu.c **** #define REG_6500_XA_ST_DATA     0xD
2206:DMP/driver/eMPL/inv_mpu.c **** static const unsigned short mpu_6500_st_tb[256] = {
2207:DMP/driver/eMPL/inv_mpu.c **** 	2620,2646,2672,2699,2726,2753,2781,2808, //7
2208:DMP/driver/eMPL/inv_mpu.c **** 	2837,2865,2894,2923,2952,2981,3011,3041, //15
2209:DMP/driver/eMPL/inv_mpu.c **** 	3072,3102,3133,3165,3196,3228,3261,3293, //23
2210:DMP/driver/eMPL/inv_mpu.c **** 	3326,3359,3393,3427,3461,3496,3531,3566, //31
2211:DMP/driver/eMPL/inv_mpu.c **** 	3602,3638,3674,3711,3748,3786,3823,3862, //39
2212:DMP/driver/eMPL/inv_mpu.c **** 	3900,3939,3979,4019,4059,4099,4140,4182, //47
2213:DMP/driver/eMPL/inv_mpu.c **** 	4224,4266,4308,4352,4395,4439,4483,4528, //55
2214:DMP/driver/eMPL/inv_mpu.c **** 	4574,4619,4665,4712,4759,4807,4855,4903, //63
2215:DMP/driver/eMPL/inv_mpu.c **** 	4953,5002,5052,5103,5154,5205,5257,5310, //71
2216:DMP/driver/eMPL/inv_mpu.c **** 	5363,5417,5471,5525,5581,5636,5693,5750, //79
2217:DMP/driver/eMPL/inv_mpu.c **** 	5807,5865,5924,5983,6043,6104,6165,6226, //87
2218:DMP/driver/eMPL/inv_mpu.c **** 	6289,6351,6415,6479,6544,6609,6675,6742, //95
2219:DMP/driver/eMPL/inv_mpu.c **** 	6810,6878,6946,7016,7086,7157,7229,7301, //103
2220:DMP/driver/eMPL/inv_mpu.c **** 	7374,7448,7522,7597,7673,7750,7828,7906, //111
2221:DMP/driver/eMPL/inv_mpu.c **** 	7985,8065,8145,8227,8309,8392,8476,8561, //119
2222:DMP/driver/eMPL/inv_mpu.c **** 	8647,8733,8820,8909,8998,9088,9178,9270,
2223:DMP/driver/eMPL/inv_mpu.c **** 	9363,9457,9551,9647,9743,9841,9939,10038,
2224:DMP/driver/eMPL/inv_mpu.c **** 	10139,10240,10343,10446,10550,10656,10763,10870,
2225:DMP/driver/eMPL/inv_mpu.c **** 	10979,11089,11200,11312,11425,11539,11654,11771,
2226:DMP/driver/eMPL/inv_mpu.c **** 	11889,12008,12128,12249,12371,12495,12620,12746,
2227:DMP/driver/eMPL/inv_mpu.c **** 	12874,13002,13132,13264,13396,13530,13666,13802,
2228:DMP/driver/eMPL/inv_mpu.c **** 	13940,14080,14221,14363,14506,14652,14798,14946,
2229:DMP/driver/eMPL/inv_mpu.c **** 	15096,15247,15399,15553,15709,15866,16024,16184,
2230:DMP/driver/eMPL/inv_mpu.c **** 	16346,16510,16675,16842,17010,17180,17352,17526,
2231:DMP/driver/eMPL/inv_mpu.c **** 	17701,17878,18057,18237,18420,18604,18790,18978,
2232:DMP/driver/eMPL/inv_mpu.c **** 	19167,19359,19553,19748,19946,20145,20347,20550,
2233:DMP/driver/eMPL/inv_mpu.c **** 	20756,20963,21173,21385,21598,21814,22033,22253,
2234:DMP/driver/eMPL/inv_mpu.c **** 	22475,22700,22927,23156,23388,23622,23858,24097,
2235:DMP/driver/eMPL/inv_mpu.c **** 	24338,24581,24827,25075,25326,25579,25835,26093,
2236:DMP/driver/eMPL/inv_mpu.c **** 	26354,26618,26884,27153,27424,27699,27976,28255,
2237:DMP/driver/eMPL/inv_mpu.c **** 	28538,28823,29112,29403,29697,29994,30294,30597,
2238:DMP/driver/eMPL/inv_mpu.c **** 	30903,31212,31524,31839,32157,32479,32804,33132
2239:DMP/driver/eMPL/inv_mpu.c **** };
2240:DMP/driver/eMPL/inv_mpu.c **** static int accel_6500_self_test(long *bias_regular, long *bias_st, int debug)
2241:DMP/driver/eMPL/inv_mpu.c **** {
2242:DMP/driver/eMPL/inv_mpu.c ****     int i, result = 0, otp_value_zero = 0;
2243:DMP/driver/eMPL/inv_mpu.c ****     float accel_st_al_min, accel_st_al_max;
2244:DMP/driver/eMPL/inv_mpu.c ****     float st_shift_cust[3], st_shift_ratio[3], ct_shift_prod[3], accel_offset_max;
2245:DMP/driver/eMPL/inv_mpu.c ****     unsigned char regs[3];
2246:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_read(st.hw->addr, REG_6500_XA_ST_DATA, 3, regs)) {
2247:DMP/driver/eMPL/inv_mpu.c ****     	if(debug)
2248:DMP/driver/eMPL/inv_mpu.c ****     		log_i("Reading OTP Register Error.\n");
2249:DMP/driver/eMPL/inv_mpu.c ****     	return 0x07;
2250:DMP/driver/eMPL/inv_mpu.c ****     }
2251:DMP/driver/eMPL/inv_mpu.c ****     if(debug)
2252:DMP/driver/eMPL/inv_mpu.c ****     	log_i("Accel OTP:%d, %d, %d\n", regs[0], regs[1], regs[2]);
2253:DMP/driver/eMPL/inv_mpu.c **** 	for (i = 0; i < 3; i++) {
2254:DMP/driver/eMPL/inv_mpu.c **** 		if (regs[i] != 0) {
2255:DMP/driver/eMPL/inv_mpu.c **** 			ct_shift_prod[i] = mpu_6500_st_tb[regs[i] - 1];
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 60


2256:DMP/driver/eMPL/inv_mpu.c **** 			ct_shift_prod[i] *= 65536.f;
2257:DMP/driver/eMPL/inv_mpu.c **** 			ct_shift_prod[i] /= test.accel_sens;
2258:DMP/driver/eMPL/inv_mpu.c **** 		}
2259:DMP/driver/eMPL/inv_mpu.c **** 		else {
2260:DMP/driver/eMPL/inv_mpu.c **** 			ct_shift_prod[i] = 0;
2261:DMP/driver/eMPL/inv_mpu.c **** 			otp_value_zero = 1;
2262:DMP/driver/eMPL/inv_mpu.c **** 		}
2263:DMP/driver/eMPL/inv_mpu.c **** 	}
2264:DMP/driver/eMPL/inv_mpu.c **** 	if(otp_value_zero == 0) {
2265:DMP/driver/eMPL/inv_mpu.c **** 		if(debug)
2266:DMP/driver/eMPL/inv_mpu.c **** 			log_i("ACCEL:CRITERIA A\n");
2267:DMP/driver/eMPL/inv_mpu.c **** 		for (i = 0; i < 3; i++) {
2268:DMP/driver/eMPL/inv_mpu.c **** 			st_shift_cust[i] = bias_st[i] - bias_regular[i];
2269:DMP/driver/eMPL/inv_mpu.c **** 			if(debug) {
2270:DMP/driver/eMPL/inv_mpu.c **** 				log_i("Bias_Shift=%7.4f, Bias_Reg=%7.4f, Bias_HWST=%7.4f\r\n",
2271:DMP/driver/eMPL/inv_mpu.c **** 						st_shift_cust[i]/1.f, bias_regular[i]/1.f,
2272:DMP/driver/eMPL/inv_mpu.c **** 						bias_st[i]/1.f);
2273:DMP/driver/eMPL/inv_mpu.c **** 				log_i("OTP value: %7.4f\r\n", ct_shift_prod[i]/1.f);
2274:DMP/driver/eMPL/inv_mpu.c **** 			}
2275:DMP/driver/eMPL/inv_mpu.c **** 
2276:DMP/driver/eMPL/inv_mpu.c **** 			st_shift_ratio[i] = st_shift_cust[i] / ct_shift_prod[i] - 1.f;
2277:DMP/driver/eMPL/inv_mpu.c **** 
2278:DMP/driver/eMPL/inv_mpu.c **** 			if(debug)
2279:DMP/driver/eMPL/inv_mpu.c **** 				log_i("ratio=%7.4f, threshold=%7.4f\r\n", st_shift_ratio[i]/1.f,
2280:DMP/driver/eMPL/inv_mpu.c **** 							test.max_accel_var/1.f);
2281:DMP/driver/eMPL/inv_mpu.c **** 
2282:DMP/driver/eMPL/inv_mpu.c **** 			if (fabs(st_shift_ratio[i]) > test.max_accel_var) {
2283:DMP/driver/eMPL/inv_mpu.c **** 				if(debug)
2284:DMP/driver/eMPL/inv_mpu.c **** 					log_i("ACCEL Fail Axis = %d\n", i);
2285:DMP/driver/eMPL/inv_mpu.c **** 				result |= 1 << i;	//Error condition
2286:DMP/driver/eMPL/inv_mpu.c **** 			}
2287:DMP/driver/eMPL/inv_mpu.c **** 		}
2288:DMP/driver/eMPL/inv_mpu.c **** 	}
2289:DMP/driver/eMPL/inv_mpu.c **** 	else {
2290:DMP/driver/eMPL/inv_mpu.c **** 		/* Self Test Pass/Fail Criteria B */
2291:DMP/driver/eMPL/inv_mpu.c **** 		accel_st_al_min = test.min_g * 65536.f;
2292:DMP/driver/eMPL/inv_mpu.c **** 		accel_st_al_max = test.max_g * 65536.f;
2293:DMP/driver/eMPL/inv_mpu.c **** 
2294:DMP/driver/eMPL/inv_mpu.c **** 		if(debug) {
2295:DMP/driver/eMPL/inv_mpu.c **** 			log_i("ACCEL:CRITERIA B\r\n");
2296:DMP/driver/eMPL/inv_mpu.c **** 			log_i("Min MG: %7.4f\r\n", accel_st_al_min/1.f);
2297:DMP/driver/eMPL/inv_mpu.c **** 			log_i("Max MG: %7.4f\r\n", accel_st_al_max/1.f);
2298:DMP/driver/eMPL/inv_mpu.c **** 		}
2299:DMP/driver/eMPL/inv_mpu.c **** 
2300:DMP/driver/eMPL/inv_mpu.c **** 		for (i = 0; i < 3; i++) {
2301:DMP/driver/eMPL/inv_mpu.c **** 			st_shift_cust[i] = bias_st[i] - bias_regular[i];
2302:DMP/driver/eMPL/inv_mpu.c **** 
2303:DMP/driver/eMPL/inv_mpu.c **** 			if(debug)
2304:DMP/driver/eMPL/inv_mpu.c **** 				log_i("Bias_shift=%7.4f, st=%7.4f, reg=%7.4f\n", st_shift_cust[i]/1.f, bias_st[i]/1.f, bias_reg
2305:DMP/driver/eMPL/inv_mpu.c **** 			if(st_shift_cust[i] < accel_st_al_min || st_shift_cust[i] > accel_st_al_max) {
2306:DMP/driver/eMPL/inv_mpu.c **** 				if(debug)
2307:DMP/driver/eMPL/inv_mpu.c **** 					log_i("Accel FAIL axis:%d <= 225mg or >= 675mg\n", i);
2308:DMP/driver/eMPL/inv_mpu.c **** 				result |= 1 << i;	//Error condition
2309:DMP/driver/eMPL/inv_mpu.c **** 			}
2310:DMP/driver/eMPL/inv_mpu.c **** 		}
2311:DMP/driver/eMPL/inv_mpu.c **** 	}
2312:DMP/driver/eMPL/inv_mpu.c **** 
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 61


2313:DMP/driver/eMPL/inv_mpu.c **** 	if(result == 0) {
2314:DMP/driver/eMPL/inv_mpu.c **** 	/* Self Test Pass/Fail Criteria C */
2315:DMP/driver/eMPL/inv_mpu.c **** 		accel_offset_max = test.max_g_offset * 65536.f;
2316:DMP/driver/eMPL/inv_mpu.c **** 		if(debug)
2317:DMP/driver/eMPL/inv_mpu.c **** 			log_i("Accel:CRITERIA C: bias less than %7.4f\n", accel_offset_max/1.f);
2318:DMP/driver/eMPL/inv_mpu.c **** 		for (i = 0; i < 3; i++) {
2319:DMP/driver/eMPL/inv_mpu.c **** 			if(fabs(bias_regular[i]) > accel_offset_max) {
2320:DMP/driver/eMPL/inv_mpu.c **** 				if(debug)
2321:DMP/driver/eMPL/inv_mpu.c **** 					log_i("FAILED: Accel axis:%d = %ld > 500mg\n", i, bias_regular[i]);
2322:DMP/driver/eMPL/inv_mpu.c **** 				result |= 1 << i;	//Error condition
2323:DMP/driver/eMPL/inv_mpu.c **** 			}
2324:DMP/driver/eMPL/inv_mpu.c **** 		}
2325:DMP/driver/eMPL/inv_mpu.c **** 	}
2326:DMP/driver/eMPL/inv_mpu.c **** 
2327:DMP/driver/eMPL/inv_mpu.c ****     return result;
2328:DMP/driver/eMPL/inv_mpu.c **** }
2329:DMP/driver/eMPL/inv_mpu.c **** 
2330:DMP/driver/eMPL/inv_mpu.c **** static int gyro_6500_self_test(long *bias_regular, long *bias_st, int debug)
2331:DMP/driver/eMPL/inv_mpu.c **** {
2332:DMP/driver/eMPL/inv_mpu.c ****     int i, result = 0, otp_value_zero = 0;
2333:DMP/driver/eMPL/inv_mpu.c ****     float gyro_st_al_max;
2334:DMP/driver/eMPL/inv_mpu.c ****     float st_shift_cust[3], st_shift_ratio[3], ct_shift_prod[3], gyro_offset_max;
2335:DMP/driver/eMPL/inv_mpu.c ****     unsigned char regs[3];
2336:DMP/driver/eMPL/inv_mpu.c **** 
2337:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_read(st.hw->addr, REG_6500_XG_ST_DATA, 3, regs)) {
2338:DMP/driver/eMPL/inv_mpu.c ****     	if(debug)
2339:DMP/driver/eMPL/inv_mpu.c ****     		log_i("Reading OTP Register Error.\n");
2340:DMP/driver/eMPL/inv_mpu.c ****         return 0x07;
2341:DMP/driver/eMPL/inv_mpu.c ****     }
2342:DMP/driver/eMPL/inv_mpu.c **** 
2343:DMP/driver/eMPL/inv_mpu.c ****     if(debug)
2344:DMP/driver/eMPL/inv_mpu.c ****     	log_i("Gyro OTP:%d, %d, %d\r\n", regs[0], regs[1], regs[2]);
2345:DMP/driver/eMPL/inv_mpu.c **** 
2346:DMP/driver/eMPL/inv_mpu.c **** 	for (i = 0; i < 3; i++) {
2347:DMP/driver/eMPL/inv_mpu.c **** 		if (regs[i] != 0) {
2348:DMP/driver/eMPL/inv_mpu.c **** 			ct_shift_prod[i] = mpu_6500_st_tb[regs[i] - 1];
2349:DMP/driver/eMPL/inv_mpu.c **** 			ct_shift_prod[i] *= 65536.f;
2350:DMP/driver/eMPL/inv_mpu.c **** 			ct_shift_prod[i] /= test.gyro_sens;
2351:DMP/driver/eMPL/inv_mpu.c **** 		}
2352:DMP/driver/eMPL/inv_mpu.c **** 		else {
2353:DMP/driver/eMPL/inv_mpu.c **** 			ct_shift_prod[i] = 0;
2354:DMP/driver/eMPL/inv_mpu.c **** 			otp_value_zero = 1;
2355:DMP/driver/eMPL/inv_mpu.c **** 		}
2356:DMP/driver/eMPL/inv_mpu.c **** 	}
2357:DMP/driver/eMPL/inv_mpu.c **** 
2358:DMP/driver/eMPL/inv_mpu.c **** 	if(otp_value_zero == 0) {
2359:DMP/driver/eMPL/inv_mpu.c **** 		if(debug)
2360:DMP/driver/eMPL/inv_mpu.c **** 			log_i("GYRO:CRITERIA A\n");
2361:DMP/driver/eMPL/inv_mpu.c **** 		/* Self Test Pass/Fail Criteria A */
2362:DMP/driver/eMPL/inv_mpu.c **** 		for (i = 0; i < 3; i++) {
2363:DMP/driver/eMPL/inv_mpu.c **** 			st_shift_cust[i] = bias_st[i] - bias_regular[i];
2364:DMP/driver/eMPL/inv_mpu.c **** 
2365:DMP/driver/eMPL/inv_mpu.c **** 			if(debug) {
2366:DMP/driver/eMPL/inv_mpu.c **** 				log_i("Bias_Shift=%7.4f, Bias_Reg=%7.4f, Bias_HWST=%7.4f\r\n",
2367:DMP/driver/eMPL/inv_mpu.c **** 						st_shift_cust[i]/1.f, bias_regular[i]/1.f,
2368:DMP/driver/eMPL/inv_mpu.c **** 						bias_st[i]/1.f);
2369:DMP/driver/eMPL/inv_mpu.c **** 				log_i("OTP value: %7.4f\r\n", ct_shift_prod[i]/1.f);
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 62


2370:DMP/driver/eMPL/inv_mpu.c **** 			}
2371:DMP/driver/eMPL/inv_mpu.c **** 
2372:DMP/driver/eMPL/inv_mpu.c **** 			st_shift_ratio[i] = st_shift_cust[i] / ct_shift_prod[i];
2373:DMP/driver/eMPL/inv_mpu.c **** 
2374:DMP/driver/eMPL/inv_mpu.c **** 			if(debug)
2375:DMP/driver/eMPL/inv_mpu.c **** 				log_i("ratio=%7.4f, threshold=%7.4f\r\n", st_shift_ratio[i]/1.f,
2376:DMP/driver/eMPL/inv_mpu.c **** 							test.max_gyro_var/1.f);
2377:DMP/driver/eMPL/inv_mpu.c **** 
2378:DMP/driver/eMPL/inv_mpu.c **** 			if (fabs(st_shift_ratio[i]) < test.max_gyro_var) {
2379:DMP/driver/eMPL/inv_mpu.c **** 				if(debug)
2380:DMP/driver/eMPL/inv_mpu.c **** 					log_i("Gyro Fail Axis = %d\n", i);
2381:DMP/driver/eMPL/inv_mpu.c **** 				result |= 1 << i;	//Error condition
2382:DMP/driver/eMPL/inv_mpu.c **** 			}
2383:DMP/driver/eMPL/inv_mpu.c **** 		}
2384:DMP/driver/eMPL/inv_mpu.c **** 	}
2385:DMP/driver/eMPL/inv_mpu.c **** 	else {
2386:DMP/driver/eMPL/inv_mpu.c **** 		/* Self Test Pass/Fail Criteria B */
2387:DMP/driver/eMPL/inv_mpu.c **** 		gyro_st_al_max = test.max_dps * 65536.f;
2388:DMP/driver/eMPL/inv_mpu.c **** 
2389:DMP/driver/eMPL/inv_mpu.c **** 		if(debug) {
2390:DMP/driver/eMPL/inv_mpu.c **** 			log_i("GYRO:CRITERIA B\r\n");
2391:DMP/driver/eMPL/inv_mpu.c **** 			log_i("Max DPS: %7.4f\r\n", gyro_st_al_max/1.f);
2392:DMP/driver/eMPL/inv_mpu.c **** 		}
2393:DMP/driver/eMPL/inv_mpu.c **** 
2394:DMP/driver/eMPL/inv_mpu.c **** 		for (i = 0; i < 3; i++) {
2395:DMP/driver/eMPL/inv_mpu.c **** 			st_shift_cust[i] = bias_st[i] - bias_regular[i];
2396:DMP/driver/eMPL/inv_mpu.c **** 
2397:DMP/driver/eMPL/inv_mpu.c **** 			if(debug)
2398:DMP/driver/eMPL/inv_mpu.c **** 				log_i("Bias_shift=%7.4f, st=%7.4f, reg=%7.4f\n", st_shift_cust[i]/1.f, bias_st[i]/1.f, bias_reg
2399:DMP/driver/eMPL/inv_mpu.c **** 			if(st_shift_cust[i] < gyro_st_al_max) {
2400:DMP/driver/eMPL/inv_mpu.c **** 				if(debug)
2401:DMP/driver/eMPL/inv_mpu.c **** 					log_i("GYRO FAIL axis:%d greater than 60dps\n", i);
2402:DMP/driver/eMPL/inv_mpu.c **** 				result |= 1 << i;	//Error condition
2403:DMP/driver/eMPL/inv_mpu.c **** 			}
2404:DMP/driver/eMPL/inv_mpu.c **** 		}
2405:DMP/driver/eMPL/inv_mpu.c **** 	}
2406:DMP/driver/eMPL/inv_mpu.c **** 
2407:DMP/driver/eMPL/inv_mpu.c **** 	if(result == 0) {
2408:DMP/driver/eMPL/inv_mpu.c **** 	/* Self Test Pass/Fail Criteria C */
2409:DMP/driver/eMPL/inv_mpu.c **** 		gyro_offset_max = test.min_dps * 65536.f;
2410:DMP/driver/eMPL/inv_mpu.c **** 		if(debug)
2411:DMP/driver/eMPL/inv_mpu.c **** 			log_i("Gyro:CRITERIA C: bias less than %7.4f\n", gyro_offset_max/1.f);
2412:DMP/driver/eMPL/inv_mpu.c **** 		for (i = 0; i < 3; i++) {
2413:DMP/driver/eMPL/inv_mpu.c **** 			if(fabs(bias_regular[i]) > gyro_offset_max) {
2414:DMP/driver/eMPL/inv_mpu.c **** 				if(debug)
2415:DMP/driver/eMPL/inv_mpu.c **** 					log_i("FAILED: Gyro axis:%d = %ld > 20dps\n", i, bias_regular[i]);
2416:DMP/driver/eMPL/inv_mpu.c **** 				result |= 1 << i;	//Error condition
2417:DMP/driver/eMPL/inv_mpu.c **** 			}
2418:DMP/driver/eMPL/inv_mpu.c **** 		}
2419:DMP/driver/eMPL/inv_mpu.c **** 	}
2420:DMP/driver/eMPL/inv_mpu.c ****     return result;
2421:DMP/driver/eMPL/inv_mpu.c **** }
2422:DMP/driver/eMPL/inv_mpu.c **** 
2423:DMP/driver/eMPL/inv_mpu.c **** static int get_st_6500_biases(long *gyro, long *accel, unsigned char hw_test, int debug)
2424:DMP/driver/eMPL/inv_mpu.c **** {
 993              		.loc 1 2424 1 is_stmt 1 view -0
 994              		.cfi_startproc
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 63


 995              		@ args = 0, pretend = 0, frame = 528
 996              		@ frame_needed = 0, uses_anonymous_args = 0
 997              		.loc 1 2424 1 is_stmt 0 view .LVU311
 998 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 999              	.LCFI8:
 1000              		.cfi_def_cfa_offset 36
 1001              		.cfi_offset 4, -36
 1002              		.cfi_offset 5, -32
 1003              		.cfi_offset 6, -28
 1004              		.cfi_offset 7, -24
 1005              		.cfi_offset 8, -20
 1006              		.cfi_offset 9, -16
 1007              		.cfi_offset 10, -12
 1008              		.cfi_offset 11, -8
 1009              		.cfi_offset 14, -4
 1010 0004 2DED048B 		vpush.64	{d8, d9}
 1011              	.LCFI9:
 1012              		.cfi_def_cfa_offset 52
 1013              		.cfi_offset 80, -52
 1014              		.cfi_offset 81, -48
 1015              		.cfi_offset 82, -44
 1016              		.cfi_offset 83, -40
 1017 0008 ADF5097D 		sub	sp, sp, #548
 1018              	.LCFI10:
 1019              		.cfi_def_cfa_offset 600
 1020 000c 0546     		mov	r5, r0
 1021 000e 0C46     		mov	r4, r1
 1022 0010 9246     		mov	r10, r2
 1023 0012 9946     		mov	r9, r3
2425:DMP/driver/eMPL/inv_mpu.c ****     unsigned char data[HWST_MAX_PACKET_LENGTH];
 1024              		.loc 1 2425 5 is_stmt 1 view .LVU312
2426:DMP/driver/eMPL/inv_mpu.c ****     unsigned char packet_count, ii;
 1025              		.loc 1 2426 5 view .LVU313
2427:DMP/driver/eMPL/inv_mpu.c ****     unsigned short fifo_count;
 1026              		.loc 1 2427 5 view .LVU314
2428:DMP/driver/eMPL/inv_mpu.c ****     int s = 0, read_size = 0, ind;
 1027              		.loc 1 2428 5 view .LVU315
 1028              	.LVL57:
2429:DMP/driver/eMPL/inv_mpu.c **** 
2430:DMP/driver/eMPL/inv_mpu.c ****     data[0] = 0x01;
 1029              		.loc 1 2430 5 view .LVU316
 1030              		.loc 1 2430 13 is_stmt 0 view .LVU317
 1031 0014 0123     		movs	r3, #1
 1032              	.LVL58:
 1033              		.loc 1 2430 13 view .LVU318
 1034 0016 8DF82030 		strb	r3, [sp, #32]
2431:DMP/driver/eMPL/inv_mpu.c ****     data[1] = 0;
 1035              		.loc 1 2431 5 is_stmt 1 view .LVU319
 1036              		.loc 1 2431 13 is_stmt 0 view .LVU320
 1037 001a 0023     		movs	r3, #0
 1038 001c 8DF82130 		strb	r3, [sp, #33]
2432:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 2, data))
 1039              		.loc 1 2432 5 is_stmt 1 view .LVU321
 1040              		.loc 1 2432 21 is_stmt 0 view .LVU322
 1041 0020 734B     		ldr	r3, .L97
 1042 0022 5868     		ldr	r0, [r3, #4]
 1043              	.LVL59:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 64


 1044              		.loc 1 2432 34 view .LVU323
 1045 0024 1968     		ldr	r1, [r3]
 1046              	.LVL60:
 1047              		.loc 1 2432 9 view .LVU324
 1048 0026 08AB     		add	r3, sp, #32
 1049 0028 0222     		movs	r2, #2
 1050              	.LVL61:
 1051              		.loc 1 2432 9 view .LVU325
 1052 002a 497D     		ldrb	r1, [r1, #21]	@ zero_extendqisi2
 1053 002c 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 1054 002e FFF7FEFF 		bl	MPU_Write_Len
 1055              	.LVL62:
 1056              		.loc 1 2432 8 view .LVU326
 1057 0032 0028     		cmp	r0, #0
 1058 0034 40F05D82 		bne	.L72
2433:DMP/driver/eMPL/inv_mpu.c ****         return -1;
2434:DMP/driver/eMPL/inv_mpu.c ****     delay_ms(200);
 1059              		.loc 1 2434 5 is_stmt 1 view .LVU327
 1060 0038 C820     		movs	r0, #200
 1061 003a FFF7FEFF 		bl	HAL_Delay
 1062              	.LVL63:
2435:DMP/driver/eMPL/inv_mpu.c ****     data[0] = 0;
 1063              		.loc 1 2435 5 view .LVU328
 1064              		.loc 1 2435 13 is_stmt 0 view .LVU329
 1065 003e 0023     		movs	r3, #0
 1066 0040 8DF82030 		strb	r3, [sp, #32]
2436:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->int_enable, 1, data))
 1067              		.loc 1 2436 5 is_stmt 1 view .LVU330
 1068              		.loc 1 2436 21 is_stmt 0 view .LVU331
 1069 0044 6A4B     		ldr	r3, .L97
 1070 0046 5868     		ldr	r0, [r3, #4]
 1071              		.loc 1 2436 34 view .LVU332
 1072 0048 1968     		ldr	r1, [r3]
 1073              		.loc 1 2436 9 view .LVU333
 1074 004a 08AB     		add	r3, sp, #32
 1075 004c 0122     		movs	r2, #1
 1076 004e 497C     		ldrb	r1, [r1, #17]	@ zero_extendqisi2
 1077 0050 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 1078 0052 FFF7FEFF 		bl	MPU_Write_Len
 1079              	.LVL64:
 1080              		.loc 1 2436 8 view .LVU334
 1081 0056 0028     		cmp	r0, #0
 1082 0058 40F04E82 		bne	.L73
2437:DMP/driver/eMPL/inv_mpu.c ****         return -1;
2438:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->fifo_en, 1, data))
 1083              		.loc 1 2438 5 is_stmt 1 view .LVU335
 1084              		.loc 1 2438 21 is_stmt 0 view .LVU336
 1085 005c 644B     		ldr	r3, .L97
 1086 005e 5868     		ldr	r0, [r3, #4]
 1087              		.loc 1 2438 34 view .LVU337
 1088 0060 1968     		ldr	r1, [r3]
 1089              		.loc 1 2438 9 view .LVU338
 1090 0062 08AB     		add	r3, sp, #32
 1091 0064 0122     		movs	r2, #1
 1092 0066 4979     		ldrb	r1, [r1, #5]	@ zero_extendqisi2
 1093 0068 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 1094 006a FFF7FEFF 		bl	MPU_Write_Len
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 65


 1095              	.LVL65:
 1096              		.loc 1 2438 8 view .LVU339
 1097 006e 0028     		cmp	r0, #0
 1098 0070 40F04582 		bne	.L74
2439:DMP/driver/eMPL/inv_mpu.c ****         return -1;
2440:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 1, data))
 1099              		.loc 1 2440 5 is_stmt 1 view .LVU340
 1100              		.loc 1 2440 21 is_stmt 0 view .LVU341
 1101 0074 5E4B     		ldr	r3, .L97
 1102 0076 5868     		ldr	r0, [r3, #4]
 1103              		.loc 1 2440 34 view .LVU342
 1104 0078 1968     		ldr	r1, [r3]
 1105              		.loc 1 2440 9 view .LVU343
 1106 007a 08AB     		add	r3, sp, #32
 1107 007c 0122     		movs	r2, #1
 1108 007e 497D     		ldrb	r1, [r1, #21]	@ zero_extendqisi2
 1109 0080 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 1110 0082 FFF7FEFF 		bl	MPU_Write_Len
 1111              	.LVL66:
 1112              		.loc 1 2440 8 view .LVU344
 1113 0086 0028     		cmp	r0, #0
 1114 0088 40F03C82 		bne	.L75
2441:DMP/driver/eMPL/inv_mpu.c ****         return -1;
2442:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->i2c_mst, 1, data))
 1115              		.loc 1 2442 5 is_stmt 1 view .LVU345
 1116              		.loc 1 2442 21 is_stmt 0 view .LVU346
 1117 008c 584B     		ldr	r3, .L97
 1118 008e 5868     		ldr	r0, [r3, #4]
 1119              		.loc 1 2442 34 view .LVU347
 1120 0090 1968     		ldr	r1, [r3]
 1121              		.loc 1 2442 9 view .LVU348
 1122 0092 08AB     		add	r3, sp, #32
 1123 0094 0122     		movs	r2, #1
 1124 0096 897E     		ldrb	r1, [r1, #26]	@ zero_extendqisi2
 1125 0098 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 1126 009a FFF7FEFF 		bl	MPU_Write_Len
 1127              	.LVL67:
 1128              		.loc 1 2442 8 view .LVU349
 1129 009e 0028     		cmp	r0, #0
 1130 00a0 40F03382 		bne	.L76
2443:DMP/driver/eMPL/inv_mpu.c ****         return -1;
2444:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, data))
 1131              		.loc 1 2444 5 is_stmt 1 view .LVU350
 1132              		.loc 1 2444 21 is_stmt 0 view .LVU351
 1133 00a4 524B     		ldr	r3, .L97
 1134 00a6 5868     		ldr	r0, [r3, #4]
 1135              		.loc 1 2444 34 view .LVU352
 1136 00a8 1968     		ldr	r1, [r3]
 1137              		.loc 1 2444 9 view .LVU353
 1138 00aa 08AB     		add	r3, sp, #32
 1139 00ac 0122     		movs	r2, #1
 1140 00ae 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 1141 00b0 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 1142 00b2 FFF7FEFF 		bl	MPU_Write_Len
 1143              	.LVL68:
 1144              		.loc 1 2444 8 view .LVU354
 1145 00b6 0028     		cmp	r0, #0
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 66


 1146 00b8 40F02A82 		bne	.L77
2445:DMP/driver/eMPL/inv_mpu.c ****         return -1;
2446:DMP/driver/eMPL/inv_mpu.c ****     data[0] = BIT_FIFO_RST | BIT_DMP_RST;
 1147              		.loc 1 2446 5 is_stmt 1 view .LVU355
 1148              		.loc 1 2446 13 is_stmt 0 view .LVU356
 1149 00bc 0C23     		movs	r3, #12
 1150 00be 8DF82030 		strb	r3, [sp, #32]
2447:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, data))
 1151              		.loc 1 2447 5 is_stmt 1 view .LVU357
 1152              		.loc 1 2447 21 is_stmt 0 view .LVU358
 1153 00c2 4B4B     		ldr	r3, .L97
 1154 00c4 5868     		ldr	r0, [r3, #4]
 1155              		.loc 1 2447 34 view .LVU359
 1156 00c6 1968     		ldr	r1, [r3]
 1157              		.loc 1 2447 9 view .LVU360
 1158 00c8 08AB     		add	r3, sp, #32
 1159 00ca 0122     		movs	r2, #1
 1160 00cc 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 1161 00ce 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 1162 00d0 FFF7FEFF 		bl	MPU_Write_Len
 1163              	.LVL69:
 1164              		.loc 1 2447 8 view .LVU361
 1165 00d4 0028     		cmp	r0, #0
 1166 00d6 40F01E82 		bne	.L78
2448:DMP/driver/eMPL/inv_mpu.c ****         return -1;
2449:DMP/driver/eMPL/inv_mpu.c ****     delay_ms(15);
 1167              		.loc 1 2449 5 is_stmt 1 view .LVU362
 1168 00da 0F20     		movs	r0, #15
 1169 00dc FFF7FEFF 		bl	HAL_Delay
 1170              	.LVL70:
2450:DMP/driver/eMPL/inv_mpu.c ****     data[0] = st.test->reg_lpf;
 1171              		.loc 1 2450 5 view .LVU363
 1172              		.loc 1 2450 17 is_stmt 0 view .LVU364
 1173 00e0 434B     		ldr	r3, .L97
 1174 00e2 5A6B     		ldr	r2, [r3, #52]
 1175              		.loc 1 2450 22 view .LVU365
 1176 00e4 527A     		ldrb	r2, [r2, #9]	@ zero_extendqisi2
 1177              		.loc 1 2450 13 view .LVU366
 1178 00e6 8DF82020 		strb	r2, [sp, #32]
2451:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->lpf, 1, data))
 1179              		.loc 1 2451 5 is_stmt 1 view .LVU367
 1180              		.loc 1 2451 21 is_stmt 0 view .LVU368
 1181 00ea 5868     		ldr	r0, [r3, #4]
 1182              		.loc 1 2451 34 view .LVU369
 1183 00ec 1968     		ldr	r1, [r3]
 1184              		.loc 1 2451 9 view .LVU370
 1185 00ee 08AB     		add	r3, sp, #32
 1186 00f0 0122     		movs	r2, #1
 1187 00f2 8978     		ldrb	r1, [r1, #2]	@ zero_extendqisi2
 1188 00f4 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 1189 00f6 FFF7FEFF 		bl	MPU_Write_Len
 1190              	.LVL71:
 1191              		.loc 1 2451 8 view .LVU371
 1192 00fa 0028     		cmp	r0, #0
 1193 00fc 40F00E82 		bne	.L79
2452:DMP/driver/eMPL/inv_mpu.c ****         return -1;
2453:DMP/driver/eMPL/inv_mpu.c ****     data[0] = st.test->reg_rate_div;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 67


 1194              		.loc 1 2453 5 is_stmt 1 view .LVU372
 1195              		.loc 1 2453 17 is_stmt 0 view .LVU373
 1196 0100 3B4B     		ldr	r3, .L97
 1197 0102 5A6B     		ldr	r2, [r3, #52]
 1198              		.loc 1 2453 22 view .LVU374
 1199 0104 127A     		ldrb	r2, [r2, #8]	@ zero_extendqisi2
 1200              		.loc 1 2453 13 view .LVU375
 1201 0106 8DF82020 		strb	r2, [sp, #32]
2454:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->rate_div, 1, data))
 1202              		.loc 1 2454 5 is_stmt 1 view .LVU376
 1203              		.loc 1 2454 21 is_stmt 0 view .LVU377
 1204 010a 5868     		ldr	r0, [r3, #4]
 1205              		.loc 1 2454 34 view .LVU378
 1206 010c 1968     		ldr	r1, [r3]
 1207              		.loc 1 2454 9 view .LVU379
 1208 010e 08AB     		add	r3, sp, #32
 1209 0110 0122     		movs	r2, #1
 1210 0112 4978     		ldrb	r1, [r1, #1]	@ zero_extendqisi2
 1211 0114 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 1212 0116 FFF7FEFF 		bl	MPU_Write_Len
 1213              	.LVL72:
 1214              		.loc 1 2454 8 view .LVU380
 1215 011a 0028     		cmp	r0, #0
 1216 011c 40F00182 		bne	.L80
2455:DMP/driver/eMPL/inv_mpu.c ****         return -1;
2456:DMP/driver/eMPL/inv_mpu.c ****     if (hw_test)
 1217              		.loc 1 2456 5 is_stmt 1 view .LVU381
 1218              		.loc 1 2456 8 is_stmt 0 view .LVU382
 1219 0120 BAF1000F 		cmp	r10, #0
 1220 0124 55D0     		beq	.L56
2457:DMP/driver/eMPL/inv_mpu.c ****         data[0] = st.test->reg_gyro_fsr | 0xE0;
 1221              		.loc 1 2457 9 is_stmt 1 view .LVU383
 1222              		.loc 1 2457 21 is_stmt 0 view .LVU384
 1223 0126 324B     		ldr	r3, .L97
 1224 0128 5B6B     		ldr	r3, [r3, #52]
 1225              		.loc 1 2457 26 view .LVU385
 1226 012a 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 1227              		.loc 1 2457 17 view .LVU386
 1228 012c 63F01F03 		orn	r3, r3, #31
 1229 0130 8DF82030 		strb	r3, [sp, #32]
 1230              	.L57:
2458:DMP/driver/eMPL/inv_mpu.c ****     else
2459:DMP/driver/eMPL/inv_mpu.c ****         data[0] = st.test->reg_gyro_fsr;
2460:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->gyro_cfg, 1, data))
 1231              		.loc 1 2460 5 is_stmt 1 view .LVU387
 1232              		.loc 1 2460 21 is_stmt 0 view .LVU388
 1233 0134 2E4B     		ldr	r3, .L97
 1234 0136 5868     		ldr	r0, [r3, #4]
 1235              		.loc 1 2460 34 view .LVU389
 1236 0138 1968     		ldr	r1, [r3]
 1237              		.loc 1 2460 9 view .LVU390
 1238 013a 08AB     		add	r3, sp, #32
 1239 013c 0122     		movs	r2, #1
 1240 013e 8979     		ldrb	r1, [r1, #6]	@ zero_extendqisi2
 1241 0140 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 1242 0142 FFF7FEFF 		bl	MPU_Write_Len
 1243              	.LVL73:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 68


 1244              		.loc 1 2460 8 view .LVU391
 1245 0146 0028     		cmp	r0, #0
 1246 0148 40F0EE81 		bne	.L81
2461:DMP/driver/eMPL/inv_mpu.c ****         return -1;
2462:DMP/driver/eMPL/inv_mpu.c **** 
2463:DMP/driver/eMPL/inv_mpu.c ****     if (hw_test)
 1247              		.loc 1 2463 5 is_stmt 1 view .LVU392
 1248              		.loc 1 2463 8 is_stmt 0 view .LVU393
 1249 014c BAF1000F 		cmp	r10, #0
 1250 0150 45D0     		beq	.L58
2464:DMP/driver/eMPL/inv_mpu.c ****         data[0] = st.test->reg_accel_fsr | 0xE0;
 1251              		.loc 1 2464 9 is_stmt 1 view .LVU394
 1252              		.loc 1 2464 21 is_stmt 0 view .LVU395
 1253 0152 274B     		ldr	r3, .L97
 1254 0154 5B6B     		ldr	r3, [r3, #52]
 1255              		.loc 1 2464 26 view .LVU396
 1256 0156 DB7A     		ldrb	r3, [r3, #11]	@ zero_extendqisi2
 1257              		.loc 1 2464 17 view .LVU397
 1258 0158 63F01F03 		orn	r3, r3, #31
 1259 015c 8DF82030 		strb	r3, [sp, #32]
 1260              	.L59:
2465:DMP/driver/eMPL/inv_mpu.c ****     else
2466:DMP/driver/eMPL/inv_mpu.c ****         data[0] = test.reg_accel_fsr;
2467:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->accel_cfg, 1, data))
 1261              		.loc 1 2467 5 is_stmt 1 view .LVU398
 1262              		.loc 1 2467 21 is_stmt 0 view .LVU399
 1263 0160 234B     		ldr	r3, .L97
 1264 0162 5868     		ldr	r0, [r3, #4]
 1265              		.loc 1 2467 34 view .LVU400
 1266 0164 1968     		ldr	r1, [r3]
 1267              		.loc 1 2467 9 view .LVU401
 1268 0166 08AB     		add	r3, sp, #32
 1269 0168 0122     		movs	r2, #1
 1270 016a C979     		ldrb	r1, [r1, #7]	@ zero_extendqisi2
 1271 016c 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 1272 016e FFF7FEFF 		bl	MPU_Write_Len
 1273              	.LVL74:
 1274              		.loc 1 2467 8 view .LVU402
 1275 0172 0028     		cmp	r0, #0
 1276 0174 40F0DB81 		bne	.L82
2468:DMP/driver/eMPL/inv_mpu.c ****         return -1;
2469:DMP/driver/eMPL/inv_mpu.c **** 
2470:DMP/driver/eMPL/inv_mpu.c ****     delay_ms(test.wait_ms);  //wait 200ms for sensors to stabilize
 1277              		.loc 1 2470 5 is_stmt 1 view .LVU403
 1278 0178 C820     		movs	r0, #200
 1279 017a FFF7FEFF 		bl	HAL_Delay
 1280              	.LVL75:
2471:DMP/driver/eMPL/inv_mpu.c **** 
2472:DMP/driver/eMPL/inv_mpu.c ****     /* Enable FIFO */
2473:DMP/driver/eMPL/inv_mpu.c ****     data[0] = BIT_FIFO_EN;
 1281              		.loc 1 2473 5 view .LVU404
 1282              		.loc 1 2473 13 is_stmt 0 view .LVU405
 1283 017e 4023     		movs	r3, #64
 1284 0180 8DF82030 		strb	r3, [sp, #32]
2474:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, data))
 1285              		.loc 1 2474 5 is_stmt 1 view .LVU406
 1286              		.loc 1 2474 21 is_stmt 0 view .LVU407
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 69


 1287 0184 1A4B     		ldr	r3, .L97
 1288 0186 5868     		ldr	r0, [r3, #4]
 1289              		.loc 1 2474 34 view .LVU408
 1290 0188 1968     		ldr	r1, [r3]
 1291              		.loc 1 2474 9 view .LVU409
 1292 018a 08AB     		add	r3, sp, #32
 1293 018c 0122     		movs	r2, #1
 1294 018e 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 1295 0190 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 1296 0192 FFF7FEFF 		bl	MPU_Write_Len
 1297              	.LVL76:
 1298              		.loc 1 2474 8 view .LVU410
 1299 0196 0028     		cmp	r0, #0
 1300 0198 40F0CC81 		bne	.L83
2475:DMP/driver/eMPL/inv_mpu.c ****         return -1;
2476:DMP/driver/eMPL/inv_mpu.c ****     data[0] = INV_XYZ_GYRO | INV_XYZ_ACCEL;
 1301              		.loc 1 2476 5 is_stmt 1 view .LVU411
 1302              		.loc 1 2476 13 is_stmt 0 view .LVU412
 1303 019c 7823     		movs	r3, #120
 1304 019e 8DF82030 		strb	r3, [sp, #32]
2477:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->fifo_en, 1, data))
 1305              		.loc 1 2477 5 is_stmt 1 view .LVU413
 1306              		.loc 1 2477 21 is_stmt 0 view .LVU414
 1307 01a2 134B     		ldr	r3, .L97
 1308 01a4 5868     		ldr	r0, [r3, #4]
 1309              		.loc 1 2477 34 view .LVU415
 1310 01a6 1968     		ldr	r1, [r3]
 1311              		.loc 1 2477 9 view .LVU416
 1312 01a8 08AB     		add	r3, sp, #32
 1313 01aa 0122     		movs	r2, #1
 1314 01ac 4979     		ldrb	r1, [r1, #5]	@ zero_extendqisi2
 1315 01ae 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 1316 01b0 FFF7FEFF 		bl	MPU_Write_Len
 1317              	.LVL77:
 1318              		.loc 1 2477 8 view .LVU417
 1319 01b4 0028     		cmp	r0, #0
 1320 01b6 40F0C081 		bne	.L84
2478:DMP/driver/eMPL/inv_mpu.c ****         return -1;
2479:DMP/driver/eMPL/inv_mpu.c **** 
2480:DMP/driver/eMPL/inv_mpu.c ****     //initialize the bias return values
2481:DMP/driver/eMPL/inv_mpu.c ****     gyro[0] = gyro[1] = gyro[2] = 0;
 1321              		.loc 1 2481 5 is_stmt 1 view .LVU418
 1322              		.loc 1 2481 33 is_stmt 0 view .LVU419
 1323 01ba 0023     		movs	r3, #0
 1324 01bc AB60     		str	r3, [r5, #8]
 1325              		.loc 1 2481 23 view .LVU420
 1326 01be 6B60     		str	r3, [r5, #4]
 1327              		.loc 1 2481 13 view .LVU421
 1328 01c0 2B60     		str	r3, [r5]
2482:DMP/driver/eMPL/inv_mpu.c ****     accel[0] = accel[1] = accel[2] = 0;
 1329              		.loc 1 2482 5 is_stmt 1 view .LVU422
 1330              		.loc 1 2482 36 is_stmt 0 view .LVU423
 1331 01c2 A360     		str	r3, [r4, #8]
 1332              		.loc 1 2482 25 view .LVU424
 1333 01c4 6360     		str	r3, [r4, #4]
 1334              		.loc 1 2482 14 view .LVU425
 1335 01c6 2360     		str	r3, [r4]
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 70


2483:DMP/driver/eMPL/inv_mpu.c **** 
2484:DMP/driver/eMPL/inv_mpu.c ****     if(debug)
 1336              		.loc 1 2484 5 is_stmt 1 view .LVU426
 1337              		.loc 1 2484 7 is_stmt 0 view .LVU427
 1338 01c8 B9F1000F 		cmp	r9, #0
 1339 01cc 0BD1     		bne	.L90
 1340              	.L60:
2485:DMP/driver/eMPL/inv_mpu.c ****     	log_i("Starting Bias Loop Reads\n");
2486:DMP/driver/eMPL/inv_mpu.c **** 
2487:DMP/driver/eMPL/inv_mpu.c ****     //start reading samples
2488:DMP/driver/eMPL/inv_mpu.c ****     while (s < test.packet_thresh) {
2489:DMP/driver/eMPL/inv_mpu.c ****     	delay_ms(test.sample_wait_ms); //wait 10ms to fill FIFO
2490:DMP/driver/eMPL/inv_mpu.c **** 		if (i2c_read(st.hw->addr, st.reg->fifo_count_h, 2, data))
2491:DMP/driver/eMPL/inv_mpu.c **** 			return -1;
2492:DMP/driver/eMPL/inv_mpu.c **** 		fifo_count = (data[0] << 8) | data[1];
2493:DMP/driver/eMPL/inv_mpu.c **** 		packet_count = fifo_count / MAX_PACKET_LENGTH;
2494:DMP/driver/eMPL/inv_mpu.c **** 		if ((test.packet_thresh - s) < packet_count)
2495:DMP/driver/eMPL/inv_mpu.c **** 		            packet_count = test.packet_thresh - s;
2496:DMP/driver/eMPL/inv_mpu.c **** 		read_size = packet_count * MAX_PACKET_LENGTH;
2497:DMP/driver/eMPL/inv_mpu.c **** 
2498:DMP/driver/eMPL/inv_mpu.c **** 		//burst read from FIFO
2499:DMP/driver/eMPL/inv_mpu.c **** 		if (i2c_read(st.hw->addr, st.reg->fifo_r_w, read_size, data))
2500:DMP/driver/eMPL/inv_mpu.c **** 						return -1;
2501:DMP/driver/eMPL/inv_mpu.c **** 		ind = 0;
 1341              		.loc 1 2501 7 view .LVU428
 1342 01ce 0027     		movs	r7, #0
 1343 01d0 72E0     		b	.L64
 1344              	.L56:
2459:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->gyro_cfg, 1, data))
 1345              		.loc 1 2459 9 is_stmt 1 view .LVU429
2459:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->gyro_cfg, 1, data))
 1346              		.loc 1 2459 21 is_stmt 0 view .LVU430
 1347 01d2 074B     		ldr	r3, .L97
 1348 01d4 5B6B     		ldr	r3, [r3, #52]
2459:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->gyro_cfg, 1, data))
 1349              		.loc 1 2459 26 view .LVU431
 1350 01d6 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
2459:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->gyro_cfg, 1, data))
 1351              		.loc 1 2459 17 view .LVU432
 1352 01d8 8DF82030 		strb	r3, [sp, #32]
 1353 01dc AAE7     		b	.L57
 1354              	.L58:
2466:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->accel_cfg, 1, data))
 1355              		.loc 1 2466 9 is_stmt 1 view .LVU433
2466:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->accel_cfg, 1, data))
 1356              		.loc 1 2466 17 is_stmt 0 view .LVU434
 1357 01de 0023     		movs	r3, #0
 1358 01e0 8DF82030 		strb	r3, [sp, #32]
 1359 01e4 BCE7     		b	.L59
 1360              	.L90:
2485:DMP/driver/eMPL/inv_mpu.c ****     	log_i("Starting Bias Loop Reads\n");
 1361              		.loc 1 2485 6 is_stmt 1 view .LVU435
 1362 01e6 0348     		ldr	r0, .L97+4
 1363 01e8 FFF7FEFF 		bl	puts
 1364              	.LVL78:
 1365 01ec EFE7     		b	.L60
 1366              	.L98:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 71


 1367 01ee 00BF     		.align	2
 1368              	.L97:
 1369 01f0 00000000 		.word	st
 1370 01f4 00000000 		.word	.LC0
 1371              	.LVL79:
 1372              	.L63:
 1373              	.LBB4:
2502:DMP/driver/eMPL/inv_mpu.c **** 		for (ii = 0; ii < packet_count; ii++) {
2503:DMP/driver/eMPL/inv_mpu.c **** 			short accel_cur[3], gyro_cur[3];
 1374              		.loc 1 2503 4 discriminator 3 view .LVU436
2504:DMP/driver/eMPL/inv_mpu.c **** 			accel_cur[0] = ((short)data[ind + 0] << 8) | data[ind + 1];
 1375              		.loc 1 2504 4 discriminator 3 view .LVU437
 1376              		.loc 1 2504 31 is_stmt 0 discriminator 3 view .LVU438
 1377 01f8 08AB     		add	r3, sp, #32
 1378 01fa 13F80C20 		ldrb	r2, [r3, ip]	@ zero_extendqisi2
 1379              		.loc 1 2504 58 discriminator 3 view .LVU439
 1380 01fe 0CF10101 		add	r1, ip, #1
 1381              		.loc 1 2504 53 discriminator 3 view .LVU440
 1382 0202 595C     		ldrb	r1, [r3, r1]	@ zero_extendqisi2
 1383              		.loc 1 2504 47 discriminator 3 view .LVU441
 1384 0204 41EA0221 		orr	r1, r1, r2, lsl #8
 1385 0208 09B2     		sxth	r1, r1
 1386              		.loc 1 2504 17 discriminator 3 view .LVU442
 1387 020a ADF81010 		strh	r1, [sp, #16]	@ movhi
2505:DMP/driver/eMPL/inv_mpu.c **** 			accel_cur[1] = ((short)data[ind + 2] << 8) | data[ind + 3];
 1388              		.loc 1 2505 4 is_stmt 1 discriminator 3 view .LVU443
 1389              		.loc 1 2505 36 is_stmt 0 discriminator 3 view .LVU444
 1390 020e 0CF10202 		add	r2, ip, #2
 1391              		.loc 1 2505 31 discriminator 3 view .LVU445
 1392 0212 985C     		ldrb	r0, [r3, r2]	@ zero_extendqisi2
 1393              		.loc 1 2505 58 discriminator 3 view .LVU446
 1394 0214 0CF10302 		add	r2, ip, #3
 1395              		.loc 1 2505 53 discriminator 3 view .LVU447
 1396 0218 9A5C     		ldrb	r2, [r3, r2]	@ zero_extendqisi2
 1397              		.loc 1 2505 47 discriminator 3 view .LVU448
 1398 021a 42EA0022 		orr	r2, r2, r0, lsl #8
 1399 021e 12B2     		sxth	r2, r2
 1400              		.loc 1 2505 17 discriminator 3 view .LVU449
 1401 0220 ADF81220 		strh	r2, [sp, #18]	@ movhi
2506:DMP/driver/eMPL/inv_mpu.c **** 			accel_cur[2] = ((short)data[ind + 4] << 8) | data[ind + 5];
 1402              		.loc 1 2506 4 is_stmt 1 discriminator 3 view .LVU450
 1403              		.loc 1 2506 36 is_stmt 0 discriminator 3 view .LVU451
 1404 0224 0CF10400 		add	r0, ip, #4
 1405              		.loc 1 2506 31 discriminator 3 view .LVU452
 1406 0228 185C     		ldrb	r0, [r3, r0]	@ zero_extendqisi2
 1407              		.loc 1 2506 58 discriminator 3 view .LVU453
 1408 022a 0CF1050B 		add	fp, ip, #5
 1409              		.loc 1 2506 53 discriminator 3 view .LVU454
 1410 022e 13F80BB0 		ldrb	fp, [r3, fp]	@ zero_extendqisi2
 1411              		.loc 1 2506 47 discriminator 3 view .LVU455
 1412 0232 4BEA002B 		orr	fp, fp, r0, lsl #8
 1413 0236 0FFA8BFB 		sxth	fp, fp
 1414              		.loc 1 2506 17 discriminator 3 view .LVU456
 1415 023a ADF814B0 		strh	fp, [sp, #20]	@ movhi
2507:DMP/driver/eMPL/inv_mpu.c **** 			accel[0] += (long)accel_cur[0];
 1416              		.loc 1 2507 4 is_stmt 1 discriminator 3 view .LVU457
 1417              		.loc 1 2507 9 is_stmt 0 discriminator 3 view .LVU458
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 72


 1418 023e 2068     		ldr	r0, [r4]
 1419              		.loc 1 2507 13 discriminator 3 view .LVU459
 1420 0240 0844     		add	r0, r0, r1
 1421 0242 2060     		str	r0, [r4]
2508:DMP/driver/eMPL/inv_mpu.c **** 			accel[1] += (long)accel_cur[1];
 1422              		.loc 1 2508 4 is_stmt 1 discriminator 3 view .LVU460
 1423              		.loc 1 2508 9 is_stmt 0 discriminator 3 view .LVU461
 1424 0244 6168     		ldr	r1, [r4, #4]
 1425              		.loc 1 2508 13 discriminator 3 view .LVU462
 1426 0246 1144     		add	r1, r1, r2
 1427 0248 6160     		str	r1, [r4, #4]
2509:DMP/driver/eMPL/inv_mpu.c **** 			accel[2] += (long)accel_cur[2];
 1428              		.loc 1 2509 4 is_stmt 1 discriminator 3 view .LVU463
 1429              		.loc 1 2509 9 is_stmt 0 discriminator 3 view .LVU464
 1430 024a A268     		ldr	r2, [r4, #8]
 1431              		.loc 1 2509 13 discriminator 3 view .LVU465
 1432 024c 5A44     		add	r2, r2, fp
 1433 024e A260     		str	r2, [r4, #8]
2510:DMP/driver/eMPL/inv_mpu.c **** 			gyro_cur[0] = (((short)data[ind + 6] << 8) | data[ind + 7]);
 1434              		.loc 1 2510 4 is_stmt 1 discriminator 3 view .LVU466
 1435              		.loc 1 2510 36 is_stmt 0 discriminator 3 view .LVU467
 1436 0250 0CF10602 		add	r2, ip, #6
 1437              		.loc 1 2510 31 discriminator 3 view .LVU468
 1438 0254 9A5C     		ldrb	r2, [r3, r2]	@ zero_extendqisi2
 1439              		.loc 1 2510 58 discriminator 3 view .LVU469
 1440 0256 0CF10701 		add	r1, ip, #7
 1441              		.loc 1 2510 53 discriminator 3 view .LVU470
 1442 025a 585C     		ldrb	r0, [r3, r1]	@ zero_extendqisi2
 1443              		.loc 1 2510 47 discriminator 3 view .LVU471
 1444 025c 40EA0220 		orr	r0, r0, r2, lsl #8
 1445 0260 00B2     		sxth	r0, r0
 1446              		.loc 1 2510 16 discriminator 3 view .LVU472
 1447 0262 ADF81800 		strh	r0, [sp, #24]	@ movhi
2511:DMP/driver/eMPL/inv_mpu.c **** 			gyro_cur[1] = (((short)data[ind + 8] << 8) | data[ind + 9]);
 1448              		.loc 1 2511 4 is_stmt 1 discriminator 3 view .LVU473
 1449              		.loc 1 2511 36 is_stmt 0 discriminator 3 view .LVU474
 1450 0266 0CF10802 		add	r2, ip, #8
 1451              		.loc 1 2511 31 discriminator 3 view .LVU475
 1452 026a 995C     		ldrb	r1, [r3, r2]	@ zero_extendqisi2
 1453              		.loc 1 2511 58 discriminator 3 view .LVU476
 1454 026c 0CF10902 		add	r2, ip, #9
 1455              		.loc 1 2511 53 discriminator 3 view .LVU477
 1456 0270 9A5C     		ldrb	r2, [r3, r2]	@ zero_extendqisi2
 1457              		.loc 1 2511 47 discriminator 3 view .LVU478
 1458 0272 42EA0122 		orr	r2, r2, r1, lsl #8
 1459 0276 12B2     		sxth	r2, r2
 1460              		.loc 1 2511 16 discriminator 3 view .LVU479
 1461 0278 ADF81A20 		strh	r2, [sp, #26]	@ movhi
2512:DMP/driver/eMPL/inv_mpu.c **** 			gyro_cur[2] = (((short)data[ind + 10] << 8) | data[ind + 11]);
 1462              		.loc 1 2512 4 is_stmt 1 discriminator 3 view .LVU480
 1463              		.loc 1 2512 36 is_stmt 0 discriminator 3 view .LVU481
 1464 027c 0CF10A01 		add	r1, ip, #10
 1465              		.loc 1 2512 31 discriminator 3 view .LVU482
 1466 0280 595C     		ldrb	r1, [r3, r1]	@ zero_extendqisi2
 1467              		.loc 1 2512 59 discriminator 3 view .LVU483
 1468 0282 0CF10B0B 		add	fp, ip, #11
 1469              		.loc 1 2512 54 discriminator 3 view .LVU484
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 73


 1470 0286 13F80B30 		ldrb	r3, [r3, fp]	@ zero_extendqisi2
 1471              		.loc 1 2512 48 discriminator 3 view .LVU485
 1472 028a 43EA0123 		orr	r3, r3, r1, lsl #8
 1473 028e 1BB2     		sxth	r3, r3
 1474              		.loc 1 2512 16 discriminator 3 view .LVU486
 1475 0290 ADF81C30 		strh	r3, [sp, #28]	@ movhi
2513:DMP/driver/eMPL/inv_mpu.c **** 			gyro[0] += (long)gyro_cur[0];
 1476              		.loc 1 2513 4 is_stmt 1 discriminator 3 view .LVU487
 1477              		.loc 1 2513 8 is_stmt 0 discriminator 3 view .LVU488
 1478 0294 2968     		ldr	r1, [r5]
 1479              		.loc 1 2513 12 discriminator 3 view .LVU489
 1480 0296 0144     		add	r1, r1, r0
 1481 0298 2960     		str	r1, [r5]
2514:DMP/driver/eMPL/inv_mpu.c **** 			gyro[1] += (long)gyro_cur[1];
 1482              		.loc 1 2514 4 is_stmt 1 discriminator 3 view .LVU490
 1483              		.loc 1 2514 8 is_stmt 0 discriminator 3 view .LVU491
 1484 029a 6968     		ldr	r1, [r5, #4]
 1485              		.loc 1 2514 12 discriminator 3 view .LVU492
 1486 029c 1144     		add	r1, r1, r2
 1487 029e 6960     		str	r1, [r5, #4]
2515:DMP/driver/eMPL/inv_mpu.c **** 			gyro[2] += (long)gyro_cur[2];
 1488              		.loc 1 2515 4 is_stmt 1 discriminator 3 view .LVU493
 1489              		.loc 1 2515 8 is_stmt 0 discriminator 3 view .LVU494
 1490 02a0 AA68     		ldr	r2, [r5, #8]
 1491              		.loc 1 2515 12 discriminator 3 view .LVU495
 1492 02a2 1A44     		add	r2, r2, r3
 1493 02a4 AA60     		str	r2, [r5, #8]
2516:DMP/driver/eMPL/inv_mpu.c **** 			ind += MAX_PACKET_LENGTH;
 1494              		.loc 1 2516 4 is_stmt 1 discriminator 3 view .LVU496
 1495              		.loc 1 2516 8 is_stmt 0 discriminator 3 view .LVU497
 1496 02a6 0CF10C0C 		add	ip, ip, #12
 1497              	.LVL80:
 1498              		.loc 1 2516 8 discriminator 3 view .LVU498
 1499              	.LBE4:
2502:DMP/driver/eMPL/inv_mpu.c **** 			short accel_cur[3], gyro_cur[3];
 1500              		.loc 1 2502 37 is_stmt 1 discriminator 3 view .LVU499
 1501 02aa 0EF1010E 		add	lr, lr, #1
 1502              	.LVL81:
2502:DMP/driver/eMPL/inv_mpu.c **** 			short accel_cur[3], gyro_cur[3];
 1503              		.loc 1 2502 37 is_stmt 0 discriminator 3 view .LVU500
 1504 02ae 5FFA8EFE 		uxtb	lr, lr
 1505              	.LVL82:
 1506              	.L62:
2502:DMP/driver/eMPL/inv_mpu.c **** 			short accel_cur[3], gyro_cur[3];
 1507              		.loc 1 2502 19 is_stmt 1 discriminator 1 view .LVU501
 1508 02b2 7645     		cmp	r6, lr
 1509 02b4 A0D8     		bhi	.L63
2517:DMP/driver/eMPL/inv_mpu.c **** 		}
2518:DMP/driver/eMPL/inv_mpu.c **** 		s += packet_count;
 1510              		.loc 1 2518 3 view .LVU502
 1511              		.loc 1 2518 5 is_stmt 0 view .LVU503
 1512 02b6 4744     		add	r7, r7, r8
 1513              	.LVL83:
 1514              	.L64:
2488:DMP/driver/eMPL/inv_mpu.c ****     	delay_ms(test.sample_wait_ms); //wait 10ms to fill FIFO
 1515              		.loc 1 2488 14 is_stmt 1 view .LVU504
 1516 02b8 C72F     		cmp	r7, #199
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 74


 1517 02ba 36DC     		bgt	.L91
2489:DMP/driver/eMPL/inv_mpu.c **** 		if (i2c_read(st.hw->addr, st.reg->fifo_count_h, 2, data))
 1518              		.loc 1 2489 6 view .LVU505
 1519 02bc 0A20     		movs	r0, #10
 1520 02be FFF7FEFF 		bl	HAL_Delay
 1521              	.LVL84:
2490:DMP/driver/eMPL/inv_mpu.c **** 			return -1;
 1522              		.loc 1 2490 3 view .LVU506
2490:DMP/driver/eMPL/inv_mpu.c **** 			return -1;
 1523              		.loc 1 2490 18 is_stmt 0 view .LVU507
 1524 02c2 A64B     		ldr	r3, .L99
 1525 02c4 5868     		ldr	r0, [r3, #4]
2490:DMP/driver/eMPL/inv_mpu.c **** 			return -1;
 1526              		.loc 1 2490 31 view .LVU508
 1527 02c6 1968     		ldr	r1, [r3]
2490:DMP/driver/eMPL/inv_mpu.c **** 			return -1;
 1528              		.loc 1 2490 7 view .LVU509
 1529 02c8 08AB     		add	r3, sp, #32
 1530 02ca 0222     		movs	r2, #2
 1531 02cc 097B     		ldrb	r1, [r1, #12]	@ zero_extendqisi2
 1532 02ce 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 1533 02d0 FFF7FEFF 		bl	MPU_Read_Len
 1534              	.LVL85:
2490:DMP/driver/eMPL/inv_mpu.c **** 			return -1;
 1535              		.loc 1 2490 6 view .LVU510
 1536 02d4 0028     		cmp	r0, #0
 1537 02d6 40F03381 		bne	.L85
2492:DMP/driver/eMPL/inv_mpu.c **** 		packet_count = fifo_count / MAX_PACKET_LENGTH;
 1538              		.loc 1 2492 3 is_stmt 1 view .LVU511
2492:DMP/driver/eMPL/inv_mpu.c **** 		packet_count = fifo_count / MAX_PACKET_LENGTH;
 1539              		.loc 1 2492 21 is_stmt 0 view .LVU512
 1540 02da 9DF82030 		ldrb	r3, [sp, #32]	@ zero_extendqisi2
2492:DMP/driver/eMPL/inv_mpu.c **** 		packet_count = fifo_count / MAX_PACKET_LENGTH;
 1541              		.loc 1 2492 37 view .LVU513
 1542 02de 9DF82160 		ldrb	r6, [sp, #33]	@ zero_extendqisi2
2492:DMP/driver/eMPL/inv_mpu.c **** 		packet_count = fifo_count / MAX_PACKET_LENGTH;
 1543              		.loc 1 2492 14 view .LVU514
 1544 02e2 46EA0326 		orr	r6, r6, r3, lsl #8
 1545              	.LVL86:
2493:DMP/driver/eMPL/inv_mpu.c **** 		if ((test.packet_thresh - s) < packet_count)
 1546              		.loc 1 2493 3 is_stmt 1 view .LVU515
2493:DMP/driver/eMPL/inv_mpu.c **** 		if ((test.packet_thresh - s) < packet_count)
 1547              		.loc 1 2493 16 is_stmt 0 view .LVU516
 1548 02e6 9E4B     		ldr	r3, .L99+4
 1549 02e8 A3FB0636 		umull	r3, r6, r3, r6
 1550              	.LVL87:
2493:DMP/driver/eMPL/inv_mpu.c **** 		if ((test.packet_thresh - s) < packet_count)
 1551              		.loc 1 2493 16 view .LVU517
 1552 02ec C6F3C706 		ubfx	r6, r6, #3, #8
 1553              	.LVL88:
2494:DMP/driver/eMPL/inv_mpu.c **** 		            packet_count = test.packet_thresh - s;
 1554              		.loc 1 2494 3 is_stmt 1 view .LVU518
2494:DMP/driver/eMPL/inv_mpu.c **** 		            packet_count = test.packet_thresh - s;
 1555              		.loc 1 2494 27 is_stmt 0 view .LVU519
 1556 02f0 C7F1C803 		rsb	r3, r7, #200
2494:DMP/driver/eMPL/inv_mpu.c **** 		            packet_count = test.packet_thresh - s;
 1557              		.loc 1 2494 6 view .LVU520
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 75


 1558 02f4 B342     		cmp	r3, r6
 1559 02f6 03DA     		bge	.L61
2495:DMP/driver/eMPL/inv_mpu.c **** 		read_size = packet_count * MAX_PACKET_LENGTH;
 1560              		.loc 1 2495 15 is_stmt 1 view .LVU521
2495:DMP/driver/eMPL/inv_mpu.c **** 		read_size = packet_count * MAX_PACKET_LENGTH;
 1561              		.loc 1 2495 49 is_stmt 0 view .LVU522
 1562 02f8 FEB2     		uxtb	r6, r7
 1563              	.LVL89:
2495:DMP/driver/eMPL/inv_mpu.c **** 		read_size = packet_count * MAX_PACKET_LENGTH;
 1564              		.loc 1 2495 28 view .LVU523
 1565 02fa C6F1C806 		rsb	r6, r6, #200
 1566 02fe F6B2     		uxtb	r6, r6
 1567              	.LVL90:
 1568              	.L61:
2496:DMP/driver/eMPL/inv_mpu.c **** 
 1569              		.loc 1 2496 3 is_stmt 1 view .LVU524
2496:DMP/driver/eMPL/inv_mpu.c **** 
 1570              		.loc 1 2496 28 is_stmt 0 view .LVU525
 1571 0300 B046     		mov	r8, r6
2496:DMP/driver/eMPL/inv_mpu.c **** 
 1572              		.loc 1 2496 13 view .LVU526
 1573 0302 06EB4602 		add	r2, r6, r6, lsl #1
 1574 0306 9200     		lsls	r2, r2, #2
 1575              	.LVL91:
2499:DMP/driver/eMPL/inv_mpu.c **** 						return -1;
 1576              		.loc 1 2499 3 is_stmt 1 view .LVU527
2499:DMP/driver/eMPL/inv_mpu.c **** 						return -1;
 1577              		.loc 1 2499 18 is_stmt 0 view .LVU528
 1578 0308 944B     		ldr	r3, .L99
 1579 030a 5868     		ldr	r0, [r3, #4]
2499:DMP/driver/eMPL/inv_mpu.c **** 						return -1;
 1580              		.loc 1 2499 31 view .LVU529
 1581 030c 1968     		ldr	r1, [r3]
2499:DMP/driver/eMPL/inv_mpu.c **** 						return -1;
 1582              		.loc 1 2499 7 view .LVU530
 1583 030e 08AB     		add	r3, sp, #32
 1584              	.LVL92:
2499:DMP/driver/eMPL/inv_mpu.c **** 						return -1;
 1585              		.loc 1 2499 7 view .LVU531
 1586 0310 02F0FC02 		and	r2, r2, #252
 1587              	.LVL93:
2499:DMP/driver/eMPL/inv_mpu.c **** 						return -1;
 1588              		.loc 1 2499 7 view .LVU532
 1589 0314 497B     		ldrb	r1, [r1, #13]	@ zero_extendqisi2
 1590 0316 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 1591 0318 FFF7FEFF 		bl	MPU_Read_Len
 1592              	.LVL94:
2499:DMP/driver/eMPL/inv_mpu.c **** 						return -1;
 1593              		.loc 1 2499 6 view .LVU533
 1594 031c 8646     		mov	lr, r0
 1595 031e 0028     		cmp	r0, #0
 1596 0320 40F01681 		bne	.L86
2501:DMP/driver/eMPL/inv_mpu.c **** 		for (ii = 0; ii < packet_count; ii++) {
 1597              		.loc 1 2501 7 view .LVU534
 1598 0324 4FF0000C 		mov	ip, #0
 1599 0328 C3E7     		b	.L62
 1600              	.LVL95:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 76


 1601              	.L91:
2519:DMP/driver/eMPL/inv_mpu.c ****     }
2520:DMP/driver/eMPL/inv_mpu.c **** 
2521:DMP/driver/eMPL/inv_mpu.c ****     if(debug)
 1602              		.loc 1 2521 5 is_stmt 1 view .LVU535
 1603              		.loc 1 2521 7 is_stmt 0 view .LVU536
 1604 032a B9F1000F 		cmp	r9, #0
 1605 032e 6DD1     		bne	.L92
 1606              	.L66:
2522:DMP/driver/eMPL/inv_mpu.c ****     	log_i("Samples: %d\n", s);
2523:DMP/driver/eMPL/inv_mpu.c **** 
2524:DMP/driver/eMPL/inv_mpu.c ****     //stop FIFO
2525:DMP/driver/eMPL/inv_mpu.c ****     data[0] = 0;
 1607              		.loc 1 2525 5 is_stmt 1 view .LVU537
 1608              		.loc 1 2525 13 is_stmt 0 view .LVU538
 1609 0330 0023     		movs	r3, #0
 1610 0332 8DF82030 		strb	r3, [sp, #32]
2526:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->fifo_en, 1, data))
 1611              		.loc 1 2526 5 is_stmt 1 view .LVU539
 1612              		.loc 1 2526 21 is_stmt 0 view .LVU540
 1613 0336 894B     		ldr	r3, .L99
 1614 0338 5868     		ldr	r0, [r3, #4]
 1615              		.loc 1 2526 34 view .LVU541
 1616 033a 1968     		ldr	r1, [r3]
 1617              		.loc 1 2526 9 view .LVU542
 1618 033c 08AB     		add	r3, sp, #32
 1619 033e 0122     		movs	r2, #1
 1620 0340 4979     		ldrb	r1, [r1, #5]	@ zero_extendqisi2
 1621 0342 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 1622 0344 FFF7FEFF 		bl	MPU_Write_Len
 1623              	.LVL96:
 1624              		.loc 1 2526 8 view .LVU543
 1625 0348 0028     		cmp	r0, #0
 1626 034a 40F00481 		bne	.L87
2527:DMP/driver/eMPL/inv_mpu.c ****         return -1;
2528:DMP/driver/eMPL/inv_mpu.c **** 
2529:DMP/driver/eMPL/inv_mpu.c ****     gyro[0] = (long)(((long long)gyro[0]<<16) / test.gyro_sens / s);
 1627              		.loc 1 2529 5 is_stmt 1 view .LVU544
 1628              		.loc 1 2529 38 is_stmt 0 view .LVU545
 1629 034e 2968     		ldr	r1, [r5]
 1630              		.loc 1 2529 47 view .LVU546
 1631 0350 8322     		movs	r2, #131
 1632 0352 0023     		movs	r3, #0
 1633 0354 0804     		lsls	r0, r1, #16
 1634 0356 0914     		asrs	r1, r1, #16
 1635 0358 FFF7FEFF 		bl	__aeabi_ldivmod
 1636              	.LVL97:
 1637              		.loc 1 2529 64 view .LVU547
 1638 035c FE17     		asrs	r6, r7, #31
 1639 035e B846     		mov	r8, r7
 1640 0360 3A46     		mov	r2, r7
 1641 0362 3346     		mov	r3, r6
 1642 0364 FFF7FEFF 		bl	__aeabi_ldivmod
 1643              	.LVL98:
 1644              		.loc 1 2529 13 view .LVU548
 1645 0368 2860     		str	r0, [r5]
2530:DMP/driver/eMPL/inv_mpu.c ****     gyro[1] = (long)(((long long)gyro[1]<<16) / test.gyro_sens / s);
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 77


 1646              		.loc 1 2530 5 is_stmt 1 view .LVU549
 1647              		.loc 1 2530 38 is_stmt 0 view .LVU550
 1648 036a 6968     		ldr	r1, [r5, #4]
 1649              		.loc 1 2530 47 view .LVU551
 1650 036c 8322     		movs	r2, #131
 1651 036e 0023     		movs	r3, #0
 1652 0370 0804     		lsls	r0, r1, #16
 1653 0372 0914     		asrs	r1, r1, #16
 1654 0374 FFF7FEFF 		bl	__aeabi_ldivmod
 1655              	.LVL99:
 1656              		.loc 1 2530 64 view .LVU552
 1657 0378 3A46     		mov	r2, r7
 1658 037a 3346     		mov	r3, r6
 1659 037c FFF7FEFF 		bl	__aeabi_ldivmod
 1660              	.LVL100:
 1661              		.loc 1 2530 13 view .LVU553
 1662 0380 6860     		str	r0, [r5, #4]
2531:DMP/driver/eMPL/inv_mpu.c ****     gyro[2] = (long)(((long long)gyro[2]<<16) / test.gyro_sens / s);
 1663              		.loc 1 2531 5 is_stmt 1 view .LVU554
 1664              		.loc 1 2531 38 is_stmt 0 view .LVU555
 1665 0382 A968     		ldr	r1, [r5, #8]
 1666              		.loc 1 2531 47 view .LVU556
 1667 0384 8322     		movs	r2, #131
 1668 0386 0023     		movs	r3, #0
 1669 0388 0804     		lsls	r0, r1, #16
 1670 038a 0914     		asrs	r1, r1, #16
 1671 038c FFF7FEFF 		bl	__aeabi_ldivmod
 1672              	.LVL101:
 1673              		.loc 1 2531 64 view .LVU557
 1674 0390 3A46     		mov	r2, r7
 1675 0392 3346     		mov	r3, r6
 1676 0394 FFF7FEFF 		bl	__aeabi_ldivmod
 1677              	.LVL102:
 1678              		.loc 1 2531 13 view .LVU558
 1679 0398 A860     		str	r0, [r5, #8]
2532:DMP/driver/eMPL/inv_mpu.c ****     accel[0] = (long)(((long long)accel[0]<<16) / test.accel_sens / s);
 1680              		.loc 1 2532 5 is_stmt 1 view .LVU559
 1681              		.loc 1 2532 40 is_stmt 0 view .LVU560
 1682 039a 2368     		ldr	r3, [r4]
 1683              		.loc 1 2532 43 view .LVU561
 1684 039c 1A14     		asrs	r2, r3, #16
 1685 039e 1B04     		lsls	r3, r3, #16
 1686              		.loc 1 2532 49 view .LVU562
 1687 03a0 1146     		mov	r1, r2
 1688 03a2 002A     		cmp	r2, #0
 1689 03a4 37DB     		blt	.L93
 1690              	.L67:
 1691              		.loc 1 2532 49 view .LVU563
 1692 03a6 980B     		lsrs	r0, r3, #14
 1693              		.loc 1 2532 67 view .LVU564
 1694 03a8 4246     		mov	r2, r8
 1695 03aa 3346     		mov	r3, r6
 1696 03ac 40EA8140 		orr	r0, r0, r1, lsl #18
 1697 03b0 8913     		asrs	r1, r1, #14
 1698 03b2 FFF7FEFF 		bl	__aeabi_ldivmod
 1699              	.LVL103:
 1700 03b6 8346     		mov	fp, r0
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 78


 1701              		.loc 1 2532 14 view .LVU565
 1702 03b8 2060     		str	r0, [r4]
2533:DMP/driver/eMPL/inv_mpu.c ****     accel[1] = (long)(((long long)accel[1]<<16) / test.accel_sens / s);
 1703              		.loc 1 2533 5 is_stmt 1 view .LVU566
 1704              		.loc 1 2533 40 is_stmt 0 view .LVU567
 1705 03ba 6368     		ldr	r3, [r4, #4]
 1706              		.loc 1 2533 43 view .LVU568
 1707 03bc 1A14     		asrs	r2, r3, #16
 1708 03be 1B04     		lsls	r3, r3, #16
 1709              		.loc 1 2533 49 view .LVU569
 1710 03c0 1146     		mov	r1, r2
 1711 03c2 002A     		cmp	r2, #0
 1712 03c4 2DDB     		blt	.L94
 1713              	.L68:
 1714 03c6 980B     		lsrs	r0, r3, #14
 1715              		.loc 1 2533 67 view .LVU570
 1716 03c8 4246     		mov	r2, r8
 1717 03ca 3346     		mov	r3, r6
 1718 03cc 40EA8140 		orr	r0, r0, r1, lsl #18
 1719 03d0 8913     		asrs	r1, r1, #14
 1720 03d2 FFF7FEFF 		bl	__aeabi_ldivmod
 1721              	.LVL104:
 1722 03d6 0746     		mov	r7, r0
 1723              	.LVL105:
 1724              		.loc 1 2533 14 view .LVU571
 1725 03d8 6060     		str	r0, [r4, #4]
2534:DMP/driver/eMPL/inv_mpu.c ****     accel[2] = (long)(((long long)accel[2]<<16) / test.accel_sens / s);
 1726              		.loc 1 2534 5 is_stmt 1 view .LVU572
 1727              		.loc 1 2534 40 is_stmt 0 view .LVU573
 1728 03da A368     		ldr	r3, [r4, #8]
 1729              		.loc 1 2534 43 view .LVU574
 1730 03dc 1A14     		asrs	r2, r3, #16
 1731 03de 1B04     		lsls	r3, r3, #16
 1732              		.loc 1 2534 49 view .LVU575
 1733 03e0 1146     		mov	r1, r2
 1734 03e2 002A     		cmp	r2, #0
 1735 03e4 23DB     		blt	.L95
 1736              	.L69:
 1737 03e6 980B     		lsrs	r0, r3, #14
 1738              		.loc 1 2534 67 view .LVU576
 1739 03e8 4246     		mov	r2, r8
 1740 03ea 3346     		mov	r3, r6
 1741 03ec 40EA8140 		orr	r0, r0, r1, lsl #18
 1742 03f0 8913     		asrs	r1, r1, #14
 1743 03f2 FFF7FEFF 		bl	__aeabi_ldivmod
 1744              	.LVL106:
 1745              		.loc 1 2534 14 view .LVU577
 1746 03f6 A060     		str	r0, [r4, #8]
2535:DMP/driver/eMPL/inv_mpu.c ****     /* remove gravity from bias calculation */
2536:DMP/driver/eMPL/inv_mpu.c ****     if (accel[2] > 0L)
 1747              		.loc 1 2536 5 is_stmt 1 view .LVU578
 1748              		.loc 1 2536 8 is_stmt 0 view .LVU579
 1749 03f8 0028     		cmp	r0, #0
 1750 03fa 1EDD     		ble	.L70
2537:DMP/driver/eMPL/inv_mpu.c ****         accel[2] -= 65536L;
 1751              		.loc 1 2537 9 is_stmt 1 view .LVU580
 1752              		.loc 1 2537 18 is_stmt 0 view .LVU581
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 79


 1753 03fc A0F58030 		sub	r0, r0, #65536
 1754 0400 A060     		str	r0, [r4, #8]
 1755              	.L71:
2538:DMP/driver/eMPL/inv_mpu.c ****     else
2539:DMP/driver/eMPL/inv_mpu.c ****         accel[2] += 65536L;
2540:DMP/driver/eMPL/inv_mpu.c **** 
2541:DMP/driver/eMPL/inv_mpu.c **** 
2542:DMP/driver/eMPL/inv_mpu.c ****     if(debug) {
 1756              		.loc 1 2542 5 is_stmt 1 view .LVU582
 1757              		.loc 1 2542 7 is_stmt 0 view .LVU583
 1758 0402 B9F1000F 		cmp	r9, #0
 1759 0406 1CD1     		bne	.L96
2543:DMP/driver/eMPL/inv_mpu.c ****     	log_i("Accel offset data HWST bit=%d: %7.4f %7.4f %7.4f\r\n", hw_test, accel[0]/65536.f, accel
2544:DMP/driver/eMPL/inv_mpu.c ****     	log_i("Gyro offset data HWST bit=%d: %7.4f %7.4f %7.4f\r\n", hw_test, gyro[0]/65536.f, gyro[1]
2545:DMP/driver/eMPL/inv_mpu.c ****     }
2546:DMP/driver/eMPL/inv_mpu.c **** 
2547:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 1760              		.loc 1 2547 12 view .LVU584
 1761 0408 4846     		mov	r0, r9
 1762 040a 9BE0     		b	.L54
 1763              	.LVL107:
 1764              	.L92:
2522:DMP/driver/eMPL/inv_mpu.c **** 
 1765              		.loc 1 2522 6 is_stmt 1 view .LVU585
 1766 040c 3946     		mov	r1, r7
 1767 040e 5548     		ldr	r0, .L99+8
 1768 0410 FFF7FEFF 		bl	printf
 1769              	.LVL108:
 1770 0414 8CE7     		b	.L66
 1771              	.L93:
2532:DMP/driver/eMPL/inv_mpu.c ****     accel[1] = (long)(((long long)accel[1]<<16) / test.accel_sens / s);
 1772              		.loc 1 2532 49 is_stmt 0 view .LVU586
 1773 0416 43F6FF71 		movw	r1, #16383
 1774 041a 5B18     		adds	r3, r3, r1
 1775 041c 42F10001 		adc	r1, r2, #0
 1776 0420 C1E7     		b	.L67
 1777              	.L94:
2533:DMP/driver/eMPL/inv_mpu.c ****     accel[2] = (long)(((long long)accel[2]<<16) / test.accel_sens / s);
 1778              		.loc 1 2533 49 view .LVU587
 1779 0422 43F6FF71 		movw	r1, #16383
 1780 0426 5B18     		adds	r3, r3, r1
 1781 0428 42F10001 		adc	r1, r2, #0
 1782 042c CBE7     		b	.L68
 1783              	.LVL109:
 1784              	.L95:
2534:DMP/driver/eMPL/inv_mpu.c ****     /* remove gravity from bias calculation */
 1785              		.loc 1 2534 49 view .LVU588
 1786 042e 43F6FF71 		movw	r1, #16383
 1787 0432 5B18     		adds	r3, r3, r1
 1788 0434 42F10001 		adc	r1, r2, #0
 1789 0438 D5E7     		b	.L69
 1790              	.L70:
2539:DMP/driver/eMPL/inv_mpu.c **** 
 1791              		.loc 1 2539 9 is_stmt 1 view .LVU589
2539:DMP/driver/eMPL/inv_mpu.c **** 
 1792              		.loc 1 2539 18 is_stmt 0 view .LVU590
 1793 043a 00F58030 		add	r0, r0, #65536
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 80


 1794 043e A060     		str	r0, [r4, #8]
 1795 0440 DFE7     		b	.L71
 1796              	.L96:
2543:DMP/driver/eMPL/inv_mpu.c ****     	log_i("Gyro offset data HWST bit=%d: %7.4f %7.4f %7.4f\r\n", hw_test, gyro[0]/65536.f, gyro[1]
 1797              		.loc 1 2543 6 is_stmt 1 view .LVU591
2543:DMP/driver/eMPL/inv_mpu.c ****     	log_i("Gyro offset data HWST bit=%d: %7.4f %7.4f %7.4f\r\n", hw_test, gyro[0]/65536.f, gyro[1]
 1798              		.loc 1 2543 85 is_stmt 0 view .LVU592
 1799 0442 07EE90BA 		vmov	s15, fp	@ int
 1800 0446 B8EEE77A 		vcvt.f32.s32	s14, s15
 1801 044a 9FED478A 		vldr.32	s16, .L99+12
2543:DMP/driver/eMPL/inv_mpu.c ****     	log_i("Gyro offset data HWST bit=%d: %7.4f %7.4f %7.4f\r\n", hw_test, gyro[0]/65536.f, gyro[1]
 1802              		.loc 1 2543 103 view .LVU593
 1803 044e 07EE907A 		vmov	s15, r7	@ int
 1804 0452 F8EEE77A 		vcvt.f32.s32	s15, s15
 1805 0456 67EE888A 		vmul.f32	s17, s15, s16
2543:DMP/driver/eMPL/inv_mpu.c ****     	log_i("Gyro offset data HWST bit=%d: %7.4f %7.4f %7.4f\r\n", hw_test, gyro[0]/65536.f, gyro[1]
 1806              		.loc 1 2543 118 view .LVU594
 1807 045a D4ED027A 		vldr.32	s15, [r4, #8]	@ int
2543:DMP/driver/eMPL/inv_mpu.c ****     	log_i("Gyro offset data HWST bit=%d: %7.4f %7.4f %7.4f\r\n", hw_test, gyro[0]/65536.f, gyro[1]
 1808              		.loc 1 2543 121 view .LVU595
 1809 045e F8EEE77A 		vcvt.f32.s32	s15, s15
 1810 0462 27EE889A 		vmul.f32	s18, s15, s16
2543:DMP/driver/eMPL/inv_mpu.c ****     	log_i("Gyro offset data HWST bit=%d: %7.4f %7.4f %7.4f\r\n", hw_test, gyro[0]/65536.f, gyro[1]
 1811              		.loc 1 2543 6 view .LVU596
 1812 0466 67EE087A 		vmul.f32	s15, s14, s16
 1813 046a 17EE900A 		vmov	r0, s15
 1814 046e FFF7FEFF 		bl	__aeabi_f2d
 1815              	.LVL110:
 1816 0472 0646     		mov	r6, r0
 1817 0474 0F46     		mov	r7, r1
 1818 0476 19EE100A 		vmov	r0, s18
 1819 047a FFF7FEFF 		bl	__aeabi_f2d
 1820              	.LVL111:
 1821 047e CDE90201 		strd	r0, [sp, #8]
 1822 0482 18EE900A 		vmov	r0, s17
 1823 0486 FFF7FEFF 		bl	__aeabi_f2d
 1824              	.LVL112:
 1825 048a CDE90001 		strd	r0, [sp]
 1826 048e 3246     		mov	r2, r6
 1827 0490 3B46     		mov	r3, r7
 1828 0492 5146     		mov	r1, r10
 1829 0494 3548     		ldr	r0, .L99+16
 1830 0496 FFF7FEFF 		bl	printf
 1831              	.LVL113:
2544:DMP/driver/eMPL/inv_mpu.c ****     }
 1832              		.loc 1 2544 6 is_stmt 1 view .LVU597
2544:DMP/driver/eMPL/inv_mpu.c ****     }
 1833              		.loc 1 2544 83 is_stmt 0 view .LVU598
 1834 049a D5ED007A 		vldr.32	s15, [r5]	@ int
 1835 049e B8EEE77A 		vcvt.f32.s32	s14, s15
2544:DMP/driver/eMPL/inv_mpu.c ****     }
 1836              		.loc 1 2544 100 view .LVU599
 1837 04a2 D5ED017A 		vldr.32	s15, [r5, #4]	@ int
 1838 04a6 F8EEE77A 		vcvt.f32.s32	s15, s15
 1839 04aa 67EE888A 		vmul.f32	s17, s15, s16
2544:DMP/driver/eMPL/inv_mpu.c ****     }
 1840              		.loc 1 2544 114 view .LVU600
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 81


 1841 04ae D5ED027A 		vldr.32	s15, [r5, #8]	@ int
2544:DMP/driver/eMPL/inv_mpu.c ****     }
 1842              		.loc 1 2544 117 view .LVU601
 1843 04b2 F8EEE77A 		vcvt.f32.s32	s15, s15
 1844 04b6 27EE889A 		vmul.f32	s18, s15, s16
2544:DMP/driver/eMPL/inv_mpu.c ****     }
 1845              		.loc 1 2544 6 view .LVU602
 1846 04ba 67EE087A 		vmul.f32	s15, s14, s16
 1847 04be 17EE900A 		vmov	r0, s15
 1848 04c2 FFF7FEFF 		bl	__aeabi_f2d
 1849              	.LVL114:
 1850 04c6 0446     		mov	r4, r0
 1851              	.LVL115:
2544:DMP/driver/eMPL/inv_mpu.c ****     }
 1852              		.loc 1 2544 6 view .LVU603
 1853 04c8 0D46     		mov	r5, r1
 1854              	.LVL116:
2544:DMP/driver/eMPL/inv_mpu.c ****     }
 1855              		.loc 1 2544 6 view .LVU604
 1856 04ca 19EE100A 		vmov	r0, s18
 1857 04ce FFF7FEFF 		bl	__aeabi_f2d
 1858              	.LVL117:
 1859 04d2 CDE90201 		strd	r0, [sp, #8]
 1860 04d6 18EE900A 		vmov	r0, s17
 1861 04da FFF7FEFF 		bl	__aeabi_f2d
 1862              	.LVL118:
 1863 04de CDE90001 		strd	r0, [sp]
 1864 04e2 2246     		mov	r2, r4
 1865 04e4 2B46     		mov	r3, r5
 1866 04e6 5146     		mov	r1, r10
 1867 04e8 2148     		ldr	r0, .L99+20
 1868 04ea FFF7FEFF 		bl	printf
 1869              	.LVL119:
 1870              		.loc 1 2547 12 view .LVU605
 1871 04ee 0020     		movs	r0, #0
 1872 04f0 28E0     		b	.L54
 1873              	.LVL120:
 1874              	.L72:
2433:DMP/driver/eMPL/inv_mpu.c ****     delay_ms(200);
 1875              		.loc 1 2433 16 view .LVU606
 1876 04f2 4FF0FF30 		mov	r0, #-1
 1877 04f6 25E0     		b	.L54
 1878              	.L73:
2437:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->fifo_en, 1, data))
 1879              		.loc 1 2437 16 view .LVU607
 1880 04f8 4FF0FF30 		mov	r0, #-1
 1881 04fc 22E0     		b	.L54
 1882              	.L74:
2439:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 1, data))
 1883              		.loc 1 2439 16 view .LVU608
 1884 04fe 4FF0FF30 		mov	r0, #-1
 1885 0502 1FE0     		b	.L54
 1886              	.L75:
2441:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->i2c_mst, 1, data))
 1887              		.loc 1 2441 16 view .LVU609
 1888 0504 4FF0FF30 		mov	r0, #-1
 1889 0508 1CE0     		b	.L54
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 82


 1890              	.L76:
2443:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, data))
 1891              		.loc 1 2443 16 view .LVU610
 1892 050a 4FF0FF30 		mov	r0, #-1
 1893 050e 19E0     		b	.L54
 1894              	.L77:
2445:DMP/driver/eMPL/inv_mpu.c ****     data[0] = BIT_FIFO_RST | BIT_DMP_RST;
 1895              		.loc 1 2445 16 view .LVU611
 1896 0510 4FF0FF30 		mov	r0, #-1
 1897 0514 16E0     		b	.L54
 1898              	.L78:
2448:DMP/driver/eMPL/inv_mpu.c ****     delay_ms(15);
 1899              		.loc 1 2448 16 view .LVU612
 1900 0516 4FF0FF30 		mov	r0, #-1
 1901 051a 13E0     		b	.L54
 1902              	.L79:
2452:DMP/driver/eMPL/inv_mpu.c ****     data[0] = st.test->reg_rate_div;
 1903              		.loc 1 2452 16 view .LVU613
 1904 051c 4FF0FF30 		mov	r0, #-1
 1905 0520 10E0     		b	.L54
 1906              	.L80:
2455:DMP/driver/eMPL/inv_mpu.c ****     if (hw_test)
 1907              		.loc 1 2455 16 view .LVU614
 1908 0522 4FF0FF30 		mov	r0, #-1
 1909 0526 0DE0     		b	.L54
 1910              	.L81:
2461:DMP/driver/eMPL/inv_mpu.c **** 
 1911              		.loc 1 2461 16 view .LVU615
 1912 0528 4FF0FF30 		mov	r0, #-1
 1913 052c 0AE0     		b	.L54
 1914              	.L82:
2468:DMP/driver/eMPL/inv_mpu.c **** 
 1915              		.loc 1 2468 16 view .LVU616
 1916 052e 4FF0FF30 		mov	r0, #-1
 1917 0532 07E0     		b	.L54
 1918              	.L83:
2475:DMP/driver/eMPL/inv_mpu.c ****     data[0] = INV_XYZ_GYRO | INV_XYZ_ACCEL;
 1919              		.loc 1 2475 16 view .LVU617
 1920 0534 4FF0FF30 		mov	r0, #-1
 1921 0538 04E0     		b	.L54
 1922              	.L84:
2478:DMP/driver/eMPL/inv_mpu.c **** 
 1923              		.loc 1 2478 16 view .LVU618
 1924 053a 4FF0FF30 		mov	r0, #-1
 1925 053e 01E0     		b	.L54
 1926              	.LVL121:
 1927              	.L85:
2491:DMP/driver/eMPL/inv_mpu.c **** 		fifo_count = (data[0] << 8) | data[1];
 1928              		.loc 1 2491 11 view .LVU619
 1929 0540 4FF0FF30 		mov	r0, #-1
 1930              	.LVL122:
 1931              	.L54:
2548:DMP/driver/eMPL/inv_mpu.c **** }
 1932              		.loc 1 2548 1 view .LVU620
 1933 0544 0DF5097D 		add	sp, sp, #548
 1934              	.LCFI11:
 1935              		.cfi_remember_state
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 83


 1936              		.cfi_def_cfa_offset 52
 1937              		@ sp needed
 1938 0548 BDEC048B 		vldm	sp!, {d8-d9}
 1939              	.LCFI12:
 1940              		.cfi_restore 82
 1941              		.cfi_restore 83
 1942              		.cfi_restore 80
 1943              		.cfi_restore 81
 1944              		.cfi_def_cfa_offset 36
 1945 054c BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1946              	.LVL123:
 1947              	.L86:
 1948              	.LCFI13:
 1949              		.cfi_restore_state
2500:DMP/driver/eMPL/inv_mpu.c **** 		ind = 0;
 1950              		.loc 1 2500 14 view .LVU621
 1951 0550 4FF0FF30 		mov	r0, #-1
 1952 0554 F6E7     		b	.L54
 1953              	.LVL124:
 1954              	.L87:
2527:DMP/driver/eMPL/inv_mpu.c **** 
 1955              		.loc 1 2527 16 view .LVU622
 1956 0556 4FF0FF30 		mov	r0, #-1
 1957 055a F3E7     		b	.L54
 1958              	.L100:
 1959              		.align	2
 1960              	.L99:
 1961 055c 00000000 		.word	st
 1962 0560 ABAAAAAA 		.word	-1431655765
 1963 0564 1C000000 		.word	.LC1
 1964 0568 00008037 		.word	931135488
 1965 056c 2C000000 		.word	.LC2
 1966 0570 60000000 		.word	.LC3
 1967              		.cfi_endproc
 1968              	.LFE208:
 1970              		.section	.rodata.accel_6500_self_test.str1.4,"aMS",%progbits,1
 1971              		.align	2
 1972              	.LC4:
 1973 0000 52656164 		.ascii	"Reading OTP Register Error.\000"
 1973      696E6720 
 1973      4F545020 
 1973      52656769 
 1973      73746572 
 1974              		.align	2
 1975              	.LC5:
 1976 001c 41636365 		.ascii	"Accel OTP:%d, %d, %d\012\000"
 1976      6C204F54 
 1976      503A2564 
 1976      2C202564 
 1976      2C202564 
 1977 0032 0000     		.align	2
 1978              	.LC6:
 1979 0034 41434345 		.ascii	"ACCEL:CRITERIA A\000"
 1979      4C3A4352 
 1979      49544552 
 1979      49412041 
 1979      00
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 84


 1980 0045 000000   		.align	2
 1981              	.LC7:
 1982 0048 42696173 		.ascii	"Bias_Shift=%7.4f, Bias_Reg=%7.4f, Bias_HWST=%7.4f\015"
 1982      5F536869 
 1982      66743D25 
 1982      372E3466 
 1982      2C204269 
 1983 007a 0A00     		.ascii	"\012\000"
 1984              		.align	2
 1985              	.LC8:
 1986 007c 4F545020 		.ascii	"OTP value: %7.4f\015\012\000"
 1986      76616C75 
 1986      653A2025 
 1986      372E3466 
 1986      0D0A00
 1987 008f 00       		.align	2
 1988              	.LC9:
 1989 0090 72617469 		.ascii	"ratio=%7.4f, threshold=%7.4f\015\012\000"
 1989      6F3D2537 
 1989      2E34662C 
 1989      20746872 
 1989      6573686F 
 1990 00af 00       		.align	2
 1991              	.LC10:
 1992 00b0 41434345 		.ascii	"ACCEL Fail Axis = %d\012\000"
 1992      4C204661 
 1992      696C2041 
 1992      78697320 
 1992      3D202564 
 1993 00c6 0000     		.align	2
 1994              	.LC11:
 1995 00c8 41434345 		.ascii	"ACCEL:CRITERIA B\015\000"
 1995      4C3A4352 
 1995      49544552 
 1995      49412042 
 1995      0D00
 1996 00da 0000     		.align	2
 1997              	.LC12:
 1998 00dc 4D696E20 		.ascii	"Min MG: %7.4f\015\012\000"
 1998      4D473A20 
 1998      25372E34 
 1998      660D0A00 
 1999              		.align	2
 2000              	.LC13:
 2001 00ec 4D617820 		.ascii	"Max MG: %7.4f\015\012\000"
 2001      4D473A20 
 2001      25372E34 
 2001      660D0A00 
 2002              		.align	2
 2003              	.LC14:
 2004 00fc 42696173 		.ascii	"Bias_shift=%7.4f, st=%7.4f, reg=%7.4f\012\000"
 2004      5F736869 
 2004      66743D25 
 2004      372E3466 
 2004      2C207374 
 2005 0123 00       		.align	2
 2006              	.LC15:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 85


 2007 0124 41636365 		.ascii	"Accel FAIL axis:%d <= 225mg or >= 675mg\012\000"
 2007      6C204641 
 2007      494C2061 
 2007      7869733A 
 2007      2564203C 
 2008 014d 000000   		.align	2
 2009              	.LC16:
 2010 0150 41636365 		.ascii	"Accel:CRITERIA C: bias less than %7.4f\012\000"
 2010      6C3A4352 
 2010      49544552 
 2010      49412043 
 2010      3A206269 
 2011              		.global	__aeabi_i2d
 2012              		.global	__aeabi_dcmpgt
 2013              		.align	2
 2014              	.LC17:
 2015 0178 4641494C 		.ascii	"FAILED: Accel axis:%d = %ld > 500mg\012\000"
 2015      45443A20 
 2015      41636365 
 2015      6C206178 
 2015      69733A25 
 2016              		.section	.text.accel_6500_self_test,"ax",%progbits
 2017              		.align	1
 2018              		.syntax unified
 2019              		.thumb
 2020              		.thumb_func
 2022              	accel_6500_self_test:
 2023              	.LVL125:
 2024              	.LFB206:
2241:DMP/driver/eMPL/inv_mpu.c ****     int i, result = 0, otp_value_zero = 0;
 2025              		.loc 1 2241 1 is_stmt 1 view -0
 2026              		.cfi_startproc
 2027              		@ args = 0, pretend = 0, frame = 48
 2028              		@ frame_needed = 0, uses_anonymous_args = 0
2241:DMP/driver/eMPL/inv_mpu.c ****     int i, result = 0, otp_value_zero = 0;
 2029              		.loc 1 2241 1 is_stmt 0 view .LVU624
 2030 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 2031              	.LCFI14:
 2032              		.cfi_def_cfa_offset 32
 2033              		.cfi_offset 4, -32
 2034              		.cfi_offset 5, -28
 2035              		.cfi_offset 6, -24
 2036              		.cfi_offset 7, -20
 2037              		.cfi_offset 8, -16
 2038              		.cfi_offset 9, -12
 2039              		.cfi_offset 10, -8
 2040              		.cfi_offset 14, -4
 2041 0004 2DED048B 		vpush.64	{d8, d9}
 2042              	.LCFI15:
 2043              		.cfi_def_cfa_offset 48
 2044              		.cfi_offset 80, -48
 2045              		.cfi_offset 81, -44
 2046              		.cfi_offset 82, -40
 2047              		.cfi_offset 83, -36
 2048 0008 90B0     		sub	sp, sp, #64
 2049              	.LCFI16:
 2050              		.cfi_def_cfa_offset 112
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 86


 2051 000a 0746     		mov	r7, r0
 2052 000c 8A46     		mov	r10, r1
 2053 000e 1546     		mov	r5, r2
2242:DMP/driver/eMPL/inv_mpu.c ****     float accel_st_al_min, accel_st_al_max;
 2054              		.loc 1 2242 5 is_stmt 1 view .LVU625
 2055              	.LVL126:
2243:DMP/driver/eMPL/inv_mpu.c ****     float st_shift_cust[3], st_shift_ratio[3], ct_shift_prod[3], accel_offset_max;
 2056              		.loc 1 2243 5 view .LVU626
2244:DMP/driver/eMPL/inv_mpu.c ****     unsigned char regs[3];
 2057              		.loc 1 2244 5 view .LVU627
2245:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_read(st.hw->addr, REG_6500_XA_ST_DATA, 3, regs)) {
 2058              		.loc 1 2245 5 view .LVU628
2246:DMP/driver/eMPL/inv_mpu.c ****     	if(debug)
 2059              		.loc 1 2246 5 view .LVU629
2246:DMP/driver/eMPL/inv_mpu.c ****     	if(debug)
 2060              		.loc 1 2246 20 is_stmt 0 view .LVU630
 2061 0010 A94B     		ldr	r3, .L148+8
 2062 0012 5868     		ldr	r0, [r3, #4]
 2063              	.LVL127:
2246:DMP/driver/eMPL/inv_mpu.c ****     	if(debug)
 2064              		.loc 1 2246 9 view .LVU631
 2065 0014 06AB     		add	r3, sp, #24
 2066 0016 0322     		movs	r2, #3
 2067              	.LVL128:
2246:DMP/driver/eMPL/inv_mpu.c ****     	if(debug)
 2068              		.loc 1 2246 9 view .LVU632
 2069 0018 0D21     		movs	r1, #13
 2070              	.LVL129:
2246:DMP/driver/eMPL/inv_mpu.c ****     	if(debug)
 2071              		.loc 1 2246 9 view .LVU633
 2072 001a 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 2073 001c FFF7FEFF 		bl	MPU_Read_Len
 2074              	.LVL130:
2246:DMP/driver/eMPL/inv_mpu.c ****     	if(debug)
 2075              		.loc 1 2246 8 view .LVU634
 2076 0020 18B9     		cbnz	r0, .L137
2251:DMP/driver/eMPL/inv_mpu.c ****     	log_i("Accel OTP:%d, %d, %d\n", regs[0], regs[1], regs[2]);
 2077              		.loc 1 2251 5 is_stmt 1 view .LVU635
2251:DMP/driver/eMPL/inv_mpu.c ****     	log_i("Accel OTP:%d, %d, %d\n", regs[0], regs[1], regs[2]);
 2078              		.loc 1 2251 7 is_stmt 0 view .LVU636
 2079 0022 75B9     		cbnz	r5, .L138
 2080              	.L105:
2261:DMP/driver/eMPL/inv_mpu.c **** 		}
 2081              		.loc 1 2261 19 discriminator 1 view .LVU637
 2082 0024 0024     		movs	r4, #0
 2083 0026 2346     		mov	r3, r4
 2084 0028 1DE0     		b	.L106
 2085              	.L137:
2247:DMP/driver/eMPL/inv_mpu.c ****     		log_i("Reading OTP Register Error.\n");
 2086              		.loc 1 2247 6 is_stmt 1 view .LVU638
2247:DMP/driver/eMPL/inv_mpu.c ****     		log_i("Reading OTP Register Error.\n");
 2087              		.loc 1 2247 8 is_stmt 0 view .LVU639
 2088 002a 35B9     		cbnz	r5, .L139
 2089              	.L103:
2249:DMP/driver/eMPL/inv_mpu.c ****     }
 2090              		.loc 1 2249 6 is_stmt 1 view .LVU640
2249:DMP/driver/eMPL/inv_mpu.c ****     }
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 87


 2091              		.loc 1 2249 13 is_stmt 0 view .LVU641
 2092 002c 0726     		movs	r6, #7
 2093              	.LVL131:
 2094              	.L101:
2328:DMP/driver/eMPL/inv_mpu.c **** 
 2095              		.loc 1 2328 1 view .LVU642
 2096 002e 3046     		mov	r0, r6
 2097 0030 10B0     		add	sp, sp, #64
 2098              	.LCFI17:
 2099              		.cfi_remember_state
 2100              		.cfi_def_cfa_offset 48
 2101              		@ sp needed
 2102 0032 BDEC048B 		vldm	sp!, {d8-d9}
 2103              	.LCFI18:
 2104              		.cfi_restore 82
 2105              		.cfi_restore 83
 2106              		.cfi_restore 80
 2107              		.cfi_restore 81
 2108              		.cfi_def_cfa_offset 32
 2109 0036 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 2110              	.LVL132:
 2111              	.L139:
 2112              	.LCFI19:
 2113              		.cfi_restore_state
2248:DMP/driver/eMPL/inv_mpu.c ****     	return 0x07;
 2114              		.loc 1 2248 7 is_stmt 1 view .LVU643
 2115 003a A048     		ldr	r0, .L148+12
 2116 003c FFF7FEFF 		bl	puts
 2117              	.LVL133:
 2118 0040 F4E7     		b	.L103
 2119              	.L138:
2252:DMP/driver/eMPL/inv_mpu.c **** 	for (i = 0; i < 3; i++) {
 2120              		.loc 1 2252 6 view .LVU644
 2121 0042 9DF81A30 		ldrb	r3, [sp, #26]	@ zero_extendqisi2
 2122 0046 9DF81920 		ldrb	r2, [sp, #25]	@ zero_extendqisi2
 2123 004a 9DF81810 		ldrb	r1, [sp, #24]	@ zero_extendqisi2
 2124 004e 9C48     		ldr	r0, .L148+16
 2125 0050 FFF7FEFF 		bl	printf
 2126              	.LVL134:
 2127 0054 E6E7     		b	.L105
 2128              	.LVL135:
 2129              	.L107:
2260:DMP/driver/eMPL/inv_mpu.c **** 			otp_value_zero = 1;
 2130              		.loc 1 2260 4 view .LVU645
2260:DMP/driver/eMPL/inv_mpu.c **** 			otp_value_zero = 1;
 2131              		.loc 1 2260 21 is_stmt 0 view .LVU646
 2132 0056 0021     		movs	r1, #0
 2133 0058 10AA     		add	r2, sp, #64
 2134 005a 02EB8302 		add	r2, r2, r3, lsl #2
 2135 005e 42F8241C 		str	r1, [r2, #-36]	@ float
2261:DMP/driver/eMPL/inv_mpu.c **** 		}
 2136              		.loc 1 2261 4 is_stmt 1 view .LVU647
 2137              	.LVL136:
2261:DMP/driver/eMPL/inv_mpu.c **** 		}
 2138              		.loc 1 2261 19 is_stmt 0 view .LVU648
 2139 0062 0124     		movs	r4, #1
 2140              	.LVL137:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 88


 2141              	.L108:
2253:DMP/driver/eMPL/inv_mpu.c **** 		if (regs[i] != 0) {
 2142              		.loc 1 2253 22 is_stmt 1 discriminator 2 view .LVU649
 2143 0064 0133     		adds	r3, r3, #1
 2144              	.LVL138:
 2145              	.L106:
2253:DMP/driver/eMPL/inv_mpu.c **** 		if (regs[i] != 0) {
 2146              		.loc 1 2253 16 discriminator 1 view .LVU650
 2147 0066 022B     		cmp	r3, #2
 2148 0068 20DC     		bgt	.L140
2254:DMP/driver/eMPL/inv_mpu.c **** 			ct_shift_prod[i] = mpu_6500_st_tb[regs[i] - 1];
 2149              		.loc 1 2254 3 view .LVU651
2254:DMP/driver/eMPL/inv_mpu.c **** 			ct_shift_prod[i] = mpu_6500_st_tb[regs[i] - 1];
 2150              		.loc 1 2254 11 is_stmt 0 view .LVU652
 2151 006a 03F14002 		add	r2, r3, #64
 2152 006e 6A44     		add	r2, sp, r2
 2153 0070 12F8282C 		ldrb	r2, [r2, #-40]	@ zero_extendqisi2
2254:DMP/driver/eMPL/inv_mpu.c **** 			ct_shift_prod[i] = mpu_6500_st_tb[regs[i] - 1];
 2154              		.loc 1 2254 6 view .LVU653
 2155 0074 002A     		cmp	r2, #0
 2156 0076 EED0     		beq	.L107
2255:DMP/driver/eMPL/inv_mpu.c **** 			ct_shift_prod[i] *= 65536.f;
 2157              		.loc 1 2255 4 is_stmt 1 view .LVU654
2255:DMP/driver/eMPL/inv_mpu.c **** 			ct_shift_prod[i] *= 65536.f;
 2158              		.loc 1 2255 46 is_stmt 0 view .LVU655
 2159 0078 013A     		subs	r2, r2, #1
2255:DMP/driver/eMPL/inv_mpu.c **** 			ct_shift_prod[i] *= 65536.f;
 2160              		.loc 1 2255 37 view .LVU656
 2161 007a 9249     		ldr	r1, .L148+20
 2162 007c 31F81220 		ldrh	r2, [r1, r2, lsl #1]
 2163 0080 07EE902A 		vmov	s15, r2	@ int
2255:DMP/driver/eMPL/inv_mpu.c **** 			ct_shift_prod[i] *= 65536.f;
 2164              		.loc 1 2255 21 view .LVU657
 2165 0084 F8EE677A 		vcvt.f32.u32	s15, s15
 2166 0088 10AA     		add	r2, sp, #64
 2167 008a 02EB8302 		add	r2, r2, r3, lsl #2
 2168 008e 42ED097A 		vstr.32	s15, [r2, #-36]
2256:DMP/driver/eMPL/inv_mpu.c **** 			ct_shift_prod[i] /= test.accel_sens;
 2169              		.loc 1 2256 4 is_stmt 1 view .LVU658
2256:DMP/driver/eMPL/inv_mpu.c **** 			ct_shift_prod[i] /= test.accel_sens;
 2170              		.loc 1 2256 21 is_stmt 0 view .LVU659
 2171 0092 9FED8D7A 		vldr.32	s14, .L148+24
 2172 0096 67EE877A 		vmul.f32	s15, s15, s14
 2173 009a 42ED097A 		vstr.32	s15, [r2, #-36]
2257:DMP/driver/eMPL/inv_mpu.c **** 		}
 2174              		.loc 1 2257 4 is_stmt 1 view .LVU660
2257:DMP/driver/eMPL/inv_mpu.c **** 		}
 2175              		.loc 1 2257 21 is_stmt 0 view .LVU661
 2176 009e 9FED8B7A 		vldr.32	s14, .L148+28
 2177 00a2 67EE877A 		vmul.f32	s15, s15, s14
 2178 00a6 42ED097A 		vstr.32	s15, [r2, #-36]
 2179 00aa DBE7     		b	.L108
 2180              	.L140:
2264:DMP/driver/eMPL/inv_mpu.c **** 		if(debug)
 2181              		.loc 1 2264 2 is_stmt 1 view .LVU662
2264:DMP/driver/eMPL/inv_mpu.c **** 		if(debug)
 2182              		.loc 1 2264 4 is_stmt 0 view .LVU663
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 89


 2183 00ac 002C     		cmp	r4, #0
 2184 00ae 76D1     		bne	.L110
2265:DMP/driver/eMPL/inv_mpu.c **** 			log_i("ACCEL:CRITERIA A\n");
 2185              		.loc 1 2265 3 is_stmt 1 view .LVU664
2265:DMP/driver/eMPL/inv_mpu.c **** 			log_i("ACCEL:CRITERIA A\n");
 2186              		.loc 1 2265 5 is_stmt 0 view .LVU665
 2187 00b0 0DB9     		cbnz	r5, .L141
 2188              	.LVL139:
 2189              	.L111:
2261:DMP/driver/eMPL/inv_mpu.c **** 		}
 2190              		.loc 1 2261 19 discriminator 1 view .LVU666
 2191 00b2 2646     		mov	r6, r4
 2192 00b4 41E0     		b	.L112
 2193              	.LVL140:
 2194              	.L141:
2266:DMP/driver/eMPL/inv_mpu.c **** 		for (i = 0; i < 3; i++) {
 2195              		.loc 1 2266 4 is_stmt 1 view .LVU667
 2196 00b6 8648     		ldr	r0, .L148+32
 2197 00b8 FFF7FEFF 		bl	puts
 2198              	.LVL141:
2266:DMP/driver/eMPL/inv_mpu.c **** 		for (i = 0; i < 3; i++) {
 2199              		.loc 1 2266 4 is_stmt 0 view .LVU668
 2200 00bc F9E7     		b	.L111
 2201              	.LVL142:
 2202              	.L142:
2270:DMP/driver/eMPL/inv_mpu.c **** 						st_shift_cust[i]/1.f, bias_regular[i]/1.f,
 2203              		.loc 1 2270 5 is_stmt 1 view .LVU669
2271:DMP/driver/eMPL/inv_mpu.c **** 						bias_st[i]/1.f);
 2204              		.loc 1 2271 44 is_stmt 0 view .LVU670
 2205 00be 07EE903A 		vmov	s15, r3	@ int
 2206 00c2 B8EEE78A 		vcvt.f32.s32	s16, s15
2272:DMP/driver/eMPL/inv_mpu.c **** 				log_i("OTP value: %7.4f\r\n", ct_shift_prod[i]/1.f);
 2207              		.loc 1 2272 17 view .LVU671
 2208 00c6 07EE902A 		vmov	s15, r2	@ int
 2209 00ca B8EEE79A 		vcvt.f32.s32	s18, s15
2270:DMP/driver/eMPL/inv_mpu.c **** 						st_shift_cust[i]/1.f, bias_regular[i]/1.f,
 2210              		.loc 1 2270 5 view .LVU672
 2211 00ce 18EE900A 		vmov	r0, s17
 2212 00d2 FFF7FEFF 		bl	__aeabi_f2d
 2213              	.LVL143:
 2214 00d6 CDE90401 		strd	r0, [sp, #16]
 2215 00da 19EE100A 		vmov	r0, s18
 2216 00de FFF7FEFF 		bl	__aeabi_f2d
 2217              	.LVL144:
 2218 00e2 CDE90201 		strd	r0, [sp, #8]
 2219 00e6 18EE100A 		vmov	r0, s16
 2220 00ea FFF7FEFF 		bl	__aeabi_f2d
 2221              	.LVL145:
 2222 00ee CDE90001 		strd	r0, [sp]
 2223 00f2 DDE90423 		ldrd	r2, [sp, #16]
 2224 00f6 7748     		ldr	r0, .L148+36
 2225 00f8 FFF7FEFF 		bl	printf
 2226              	.LVL146:
2273:DMP/driver/eMPL/inv_mpu.c **** 			}
 2227              		.loc 1 2273 5 is_stmt 1 view .LVU673
2273:DMP/driver/eMPL/inv_mpu.c **** 			}
 2228              		.loc 1 2273 51 is_stmt 0 view .LVU674
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 90


 2229 00fc 10AB     		add	r3, sp, #64
 2230 00fe 03EB8403 		add	r3, r3, r4, lsl #2
2273:DMP/driver/eMPL/inv_mpu.c **** 			}
 2231              		.loc 1 2273 5 view .LVU675
 2232 0102 53F8240C 		ldr	r0, [r3, #-36]	@ float
 2233 0106 FFF7FEFF 		bl	__aeabi_f2d
 2234              	.LVL147:
 2235 010a 0246     		mov	r2, r0
 2236 010c 0B46     		mov	r3, r1
 2237 010e 7248     		ldr	r0, .L148+40
 2238 0110 FFF7FEFF 		bl	printf
 2239              	.LVL148:
 2240 0114 24E0     		b	.L113
 2241              	.L143:
2279:DMP/driver/eMPL/inv_mpu.c **** 							test.max_accel_var/1.f);
 2242              		.loc 1 2279 5 is_stmt 1 view .LVU676
 2243 0116 18EE100A 		vmov	r0, s16
 2244 011a FFF7FEFF 		bl	__aeabi_f2d
 2245              	.LVL149:
 2246 011e 0246     		mov	r2, r0
 2247 0120 0B46     		mov	r3, r1
 2248 0122 0020     		movs	r0, #0
 2249 0124 6D49     		ldr	r1, .L148+44
 2250 0126 CDE90001 		strd	r0, [sp]
 2251 012a 6D48     		ldr	r0, .L148+48
 2252 012c FFF7FEFF 		bl	printf
 2253              	.LVL150:
 2254 0130 25E0     		b	.L114
 2255              	.L117:
2285:DMP/driver/eMPL/inv_mpu.c **** 			}
 2256              		.loc 1 2285 5 view .LVU677
2285:DMP/driver/eMPL/inv_mpu.c **** 			}
 2257              		.loc 1 2285 17 is_stmt 0 view .LVU678
 2258 0132 0123     		movs	r3, #1
 2259 0134 A340     		lsls	r3, r3, r4
2285:DMP/driver/eMPL/inv_mpu.c **** 			}
 2260              		.loc 1 2285 12 view .LVU679
 2261 0136 1E43     		orrs	r6, r6, r3
 2262              	.LVL151:
 2263              	.L115:
2267:DMP/driver/eMPL/inv_mpu.c **** 			st_shift_cust[i] = bias_st[i] - bias_regular[i];
 2264              		.loc 1 2267 23 is_stmt 1 discriminator 2 view .LVU680
 2265 0138 0134     		adds	r4, r4, #1
 2266              	.LVL152:
 2267              	.L112:
2267:DMP/driver/eMPL/inv_mpu.c **** 			st_shift_cust[i] = bias_st[i] - bias_regular[i];
 2268              		.loc 1 2267 17 discriminator 1 view .LVU681
 2269 013a 022C     		cmp	r4, #2
 2270 013c 00F38E80 		bgt	.L119
2268:DMP/driver/eMPL/inv_mpu.c **** 			if(debug) {
 2271              		.loc 1 2268 4 view .LVU682
2268:DMP/driver/eMPL/inv_mpu.c **** 			if(debug) {
 2272              		.loc 1 2268 30 is_stmt 0 view .LVU683
 2273 0140 5AF82420 		ldr	r2, [r10, r4, lsl #2]
2268:DMP/driver/eMPL/inv_mpu.c **** 			if(debug) {
 2274              		.loc 1 2268 48 view .LVU684
 2275 0144 57F82430 		ldr	r3, [r7, r4, lsl #2]
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 91


2268:DMP/driver/eMPL/inv_mpu.c **** 			if(debug) {
 2276              		.loc 1 2268 34 view .LVU685
 2277 0148 D11A     		subs	r1, r2, r3
 2278 014a 08EE901A 		vmov	s17, r1	@ int
2268:DMP/driver/eMPL/inv_mpu.c **** 			if(debug) {
 2279              		.loc 1 2268 21 view .LVU686
 2280 014e F8EEE88A 		vcvt.f32.s32	s17, s17
 2281 0152 10A9     		add	r1, sp, #64
 2282 0154 01EB8401 		add	r1, r1, r4, lsl #2
 2283 0158 41ED038A 		vstr.32	s17, [r1, #-12]
2269:DMP/driver/eMPL/inv_mpu.c **** 				log_i("Bias_Shift=%7.4f, Bias_Reg=%7.4f, Bias_HWST=%7.4f\r\n",
 2284              		.loc 1 2269 4 is_stmt 1 view .LVU687
2269:DMP/driver/eMPL/inv_mpu.c **** 				log_i("Bias_Shift=%7.4f, Bias_Reg=%7.4f, Bias_HWST=%7.4f\r\n",
 2285              		.loc 1 2269 6 is_stmt 0 view .LVU688
 2286 015c 002D     		cmp	r5, #0
 2287 015e AED1     		bne	.L142
 2288              	.L113:
2276:DMP/driver/eMPL/inv_mpu.c **** 
 2289              		.loc 1 2276 4 is_stmt 1 view .LVU689
2276:DMP/driver/eMPL/inv_mpu.c **** 
 2290              		.loc 1 2276 56 is_stmt 0 view .LVU690
 2291 0160 10AB     		add	r3, sp, #64
 2292 0162 03EB8403 		add	r3, r3, r4, lsl #2
 2293 0166 53ED097A 		vldr.32	s15, [r3, #-36]
2276:DMP/driver/eMPL/inv_mpu.c **** 
 2294              		.loc 1 2276 41 view .LVU691
 2295 016a 88EEA78A 		vdiv.f32	s16, s17, s15
2276:DMP/driver/eMPL/inv_mpu.c **** 
 2296              		.loc 1 2276 60 view .LVU692
 2297 016e F7EE007A 		vmov.f32	s15, #1.0e+0
 2298 0172 38EE678A 		vsub.f32	s16, s16, s15
2276:DMP/driver/eMPL/inv_mpu.c **** 
 2299              		.loc 1 2276 22 view .LVU693
 2300 0176 03ED068A 		vstr.32	s16, [r3, #-24]
2278:DMP/driver/eMPL/inv_mpu.c **** 				log_i("ratio=%7.4f, threshold=%7.4f\r\n", st_shift_ratio[i]/1.f,
 2301              		.loc 1 2278 4 is_stmt 1 view .LVU694
2278:DMP/driver/eMPL/inv_mpu.c **** 				log_i("ratio=%7.4f, threshold=%7.4f\r\n", st_shift_ratio[i]/1.f,
 2302              		.loc 1 2278 6 is_stmt 0 view .LVU695
 2303 017a 002D     		cmp	r5, #0
 2304 017c CBD1     		bne	.L143
 2305              	.L114:
2282:DMP/driver/eMPL/inv_mpu.c **** 				if(debug)
 2306              		.loc 1 2282 4 is_stmt 1 view .LVU696
2282:DMP/driver/eMPL/inv_mpu.c **** 				if(debug)
 2307              		.loc 1 2282 8 is_stmt 0 view .LVU697
 2308 017e B0EEC88A 		vabs.f32	s16, s16
2282:DMP/driver/eMPL/inv_mpu.c **** 				if(debug)
 2309              		.loc 1 2282 7 view .LVU698
 2310 0182 F6EE007A 		vmov.f32	s15, #5.0e-1
 2311 0186 B4EEE78A 		vcmpe.f32	s16, s15
 2312 018a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2313 018e D3DD     		ble	.L115
2283:DMP/driver/eMPL/inv_mpu.c **** 					log_i("ACCEL Fail Axis = %d\n", i);
 2314              		.loc 1 2283 5 is_stmt 1 view .LVU699
2283:DMP/driver/eMPL/inv_mpu.c **** 					log_i("ACCEL Fail Axis = %d\n", i);
 2315              		.loc 1 2283 7 is_stmt 0 view .LVU700
 2316 0190 002D     		cmp	r5, #0
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 92


 2317 0192 CED0     		beq	.L117
2284:DMP/driver/eMPL/inv_mpu.c **** 				result |= 1 << i;	//Error condition
 2318              		.loc 1 2284 6 is_stmt 1 view .LVU701
 2319 0194 2146     		mov	r1, r4
 2320 0196 5348     		ldr	r0, .L148+52
 2321 0198 FFF7FEFF 		bl	printf
 2322              	.LVL153:
 2323 019c C9E7     		b	.L117
 2324              	.LVL154:
 2325              	.L110:
2291:DMP/driver/eMPL/inv_mpu.c **** 		accel_st_al_max = test.max_g * 65536.f;
 2326              		.loc 1 2291 3 view .LVU702
2292:DMP/driver/eMPL/inv_mpu.c **** 
 2327              		.loc 1 2292 3 view .LVU703
2294:DMP/driver/eMPL/inv_mpu.c **** 			log_i("ACCEL:CRITERIA B\r\n");
 2328              		.loc 1 2294 3 view .LVU704
2294:DMP/driver/eMPL/inv_mpu.c **** 			log_i("ACCEL:CRITERIA B\r\n");
 2329              		.loc 1 2294 5 is_stmt 0 view .LVU705
 2330 019e 15B9     		cbnz	r5, .L144
 2331              	.LVL155:
 2332              	.L120:
2261:DMP/driver/eMPL/inv_mpu.c **** 		}
 2333              		.loc 1 2261 19 discriminator 1 view .LVU706
 2334 01a0 0026     		movs	r6, #0
 2335 01a2 3446     		mov	r4, r6
 2336              	.LVL156:
2261:DMP/driver/eMPL/inv_mpu.c **** 		}
 2337              		.loc 1 2261 19 discriminator 1 view .LVU707
 2338 01a4 34E0     		b	.L121
 2339              	.LVL157:
 2340              	.L144:
2295:DMP/driver/eMPL/inv_mpu.c **** 			log_i("Min MG: %7.4f\r\n", accel_st_al_min/1.f);
 2341              		.loc 1 2295 4 is_stmt 1 view .LVU708
 2342 01a6 5048     		ldr	r0, .L148+56
 2343 01a8 FFF7FEFF 		bl	puts
 2344              	.LVL158:
2296:DMP/driver/eMPL/inv_mpu.c **** 			log_i("Max MG: %7.4f\r\n", accel_st_al_max/1.f);
 2345              		.loc 1 2296 4 view .LVU709
 2346 01ac 4FF04042 		mov	r2, #-1073741824
 2347 01b0 4E4B     		ldr	r3, .L148+60
 2348 01b2 4F48     		ldr	r0, .L148+64
 2349 01b4 FFF7FEFF 		bl	printf
 2350              	.LVL159:
2297:DMP/driver/eMPL/inv_mpu.c **** 		}
 2351              		.loc 1 2297 4 view .LVU710
 2352 01b8 3DA3     		adr	r3, .L148
 2353 01ba D3E90023 		ldrd	r2, [r3]
 2354 01be 4D48     		ldr	r0, .L148+68
 2355 01c0 FFF7FEFF 		bl	printf
 2356              	.LVL160:
 2357 01c4 ECE7     		b	.L120
 2358              	.LVL161:
 2359              	.L146:
2304:DMP/driver/eMPL/inv_mpu.c **** 			if(st_shift_cust[i] < accel_st_al_min || st_shift_cust[i] > accel_st_al_max) {
 2360              		.loc 1 2304 5 view .LVU711
2304:DMP/driver/eMPL/inv_mpu.c **** 			if(st_shift_cust[i] < accel_st_al_min || st_shift_cust[i] > accel_st_al_max) {
 2361              		.loc 1 2304 86 is_stmt 0 view .LVU712
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 93


 2362 01c6 07EE903A 		vmov	s15, r3	@ int
 2363 01ca F8EEE78A 		vcvt.f32.s32	s17, s15
2304:DMP/driver/eMPL/inv_mpu.c **** 			if(st_shift_cust[i] < accel_st_al_min || st_shift_cust[i] > accel_st_al_max) {
 2364              		.loc 1 2304 107 view .LVU713
 2365 01ce 07EE902A 		vmov	s15, r2	@ int
 2366 01d2 B8EEE79A 		vcvt.f32.s32	s18, s15
2304:DMP/driver/eMPL/inv_mpu.c **** 			if(st_shift_cust[i] < accel_st_al_min || st_shift_cust[i] > accel_st_al_max) {
 2367              		.loc 1 2304 5 view .LVU714
 2368 01d6 18EE100A 		vmov	r0, s16
 2369 01da FFF7FEFF 		bl	__aeabi_f2d
 2370              	.LVL162:
 2371 01de CDE90401 		strd	r0, [sp, #16]
 2372 01e2 19EE100A 		vmov	r0, s18
 2373 01e6 FFF7FEFF 		bl	__aeabi_f2d
 2374              	.LVL163:
 2375 01ea CDE90201 		strd	r0, [sp, #8]
 2376 01ee 18EE900A 		vmov	r0, s17
 2377 01f2 FFF7FEFF 		bl	__aeabi_f2d
 2378              	.LVL164:
 2379 01f6 CDE90001 		strd	r0, [sp]
 2380 01fa DDE90423 		ldrd	r2, [sp, #16]
 2381 01fe 3E48     		ldr	r0, .L148+72
 2382 0200 FFF7FEFF 		bl	printf
 2383              	.LVL165:
 2384 0204 16E0     		b	.L122
 2385              	.L123:
2306:DMP/driver/eMPL/inv_mpu.c **** 					log_i("Accel FAIL axis:%d <= 225mg or >= 675mg\n", i);
 2386              		.loc 1 2306 5 is_stmt 1 view .LVU715
2306:DMP/driver/eMPL/inv_mpu.c **** 					log_i("Accel FAIL axis:%d <= 225mg or >= 675mg\n", i);
 2387              		.loc 1 2306 7 is_stmt 0 view .LVU716
 2388 0206 25BB     		cbnz	r5, .L145
 2389              	.L126:
2308:DMP/driver/eMPL/inv_mpu.c **** 			}
 2390              		.loc 1 2308 5 is_stmt 1 view .LVU717
2308:DMP/driver/eMPL/inv_mpu.c **** 			}
 2391              		.loc 1 2308 17 is_stmt 0 view .LVU718
 2392 0208 0123     		movs	r3, #1
 2393 020a A340     		lsls	r3, r3, r4
2308:DMP/driver/eMPL/inv_mpu.c **** 			}
 2394              		.loc 1 2308 12 view .LVU719
 2395 020c 1E43     		orrs	r6, r6, r3
 2396              	.LVL166:
 2397              	.L124:
2300:DMP/driver/eMPL/inv_mpu.c **** 			st_shift_cust[i] = bias_st[i] - bias_regular[i];
 2398              		.loc 1 2300 23 is_stmt 1 discriminator 2 view .LVU720
 2399 020e 0134     		adds	r4, r4, #1
 2400              	.LVL167:
 2401              	.L121:
2300:DMP/driver/eMPL/inv_mpu.c **** 			st_shift_cust[i] = bias_st[i] - bias_regular[i];
 2402              		.loc 1 2300 17 discriminator 1 view .LVU721
 2403 0210 022C     		cmp	r4, #2
 2404 0212 23DC     		bgt	.L119
2301:DMP/driver/eMPL/inv_mpu.c **** 
 2405              		.loc 1 2301 4 view .LVU722
2301:DMP/driver/eMPL/inv_mpu.c **** 
 2406              		.loc 1 2301 30 is_stmt 0 view .LVU723
 2407 0214 5AF82430 		ldr	r3, [r10, r4, lsl #2]
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 94


2301:DMP/driver/eMPL/inv_mpu.c **** 
 2408              		.loc 1 2301 48 view .LVU724
 2409 0218 57F82420 		ldr	r2, [r7, r4, lsl #2]
2301:DMP/driver/eMPL/inv_mpu.c **** 
 2410              		.loc 1 2301 34 view .LVU725
 2411 021c 991A     		subs	r1, r3, r2
 2412 021e 08EE101A 		vmov	s16, r1	@ int
2301:DMP/driver/eMPL/inv_mpu.c **** 
 2413              		.loc 1 2301 21 view .LVU726
 2414 0222 B8EEC88A 		vcvt.f32.s32	s16, s16
 2415 0226 10A9     		add	r1, sp, #64
 2416 0228 01EB8401 		add	r1, r1, r4, lsl #2
 2417 022c 01ED038A 		vstr.32	s16, [r1, #-12]
2303:DMP/driver/eMPL/inv_mpu.c **** 				log_i("Bias_shift=%7.4f, st=%7.4f, reg=%7.4f\n", st_shift_cust[i]/1.f, bias_st[i]/1.f, bias_reg
 2418              		.loc 1 2303 4 is_stmt 1 view .LVU727
2303:DMP/driver/eMPL/inv_mpu.c **** 				log_i("Bias_shift=%7.4f, st=%7.4f, reg=%7.4f\n", st_shift_cust[i]/1.f, bias_st[i]/1.f, bias_reg
 2419              		.loc 1 2303 6 is_stmt 0 view .LVU728
 2420 0230 002D     		cmp	r5, #0
 2421 0232 C8D1     		bne	.L146
 2422              	.L122:
2305:DMP/driver/eMPL/inv_mpu.c **** 				if(debug)
 2423              		.loc 1 2305 4 is_stmt 1 view .LVU729
2305:DMP/driver/eMPL/inv_mpu.c **** 				if(debug)
 2424              		.loc 1 2305 6 is_stmt 0 view .LVU730
 2425 0234 DFED317A 		vldr.32	s15, .L148+76
 2426 0238 B4EEE78A 		vcmpe.f32	s16, s15
 2427 023c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2428 0240 E1D4     		bmi	.L123
2305:DMP/driver/eMPL/inv_mpu.c **** 				if(debug)
 2429              		.loc 1 2305 42 discriminator 1 view .LVU731
 2430 0242 DFED2F7A 		vldr.32	s15, .L148+80
 2431 0246 B4EEE78A 		vcmpe.f32	s16, s15
 2432 024a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2433 024e DEDD     		ble	.L124
 2434 0250 D9E7     		b	.L123
 2435              	.L145:
2307:DMP/driver/eMPL/inv_mpu.c **** 				result |= 1 << i;	//Error condition
 2436              		.loc 1 2307 6 is_stmt 1 view .LVU732
 2437 0252 2146     		mov	r1, r4
 2438 0254 2B48     		ldr	r0, .L148+84
 2439 0256 FFF7FEFF 		bl	printf
 2440              	.LVL168:
 2441 025a D5E7     		b	.L126
 2442              	.LVL169:
 2443              	.L119:
2313:DMP/driver/eMPL/inv_mpu.c **** 	/* Self Test Pass/Fail Criteria C */
 2444              		.loc 1 2313 2 view .LVU733
2313:DMP/driver/eMPL/inv_mpu.c **** 	/* Self Test Pass/Fail Criteria C */
 2445              		.loc 1 2313 4 is_stmt 0 view .LVU734
 2446 025c 002E     		cmp	r6, #0
 2447 025e 7FF4E6AE 		bne	.L101
2315:DMP/driver/eMPL/inv_mpu.c **** 		if(debug)
 2448              		.loc 1 2315 3 is_stmt 1 view .LVU735
 2449              	.LVL170:
2316:DMP/driver/eMPL/inv_mpu.c **** 			log_i("Accel:CRITERIA C: bias less than %7.4f\n", accel_offset_max/1.f);
 2450              		.loc 1 2316 3 view .LVU736
2316:DMP/driver/eMPL/inv_mpu.c **** 			log_i("Accel:CRITERIA C: bias less than %7.4f\n", accel_offset_max/1.f);
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 95


 2451              		.loc 1 2316 5 is_stmt 0 view .LVU737
 2452 0262 0DB9     		cbnz	r5, .L147
 2453              	.L128:
2261:DMP/driver/eMPL/inv_mpu.c **** 		}
 2454              		.loc 1 2261 19 discriminator 1 view .LVU738
 2455 0264 3446     		mov	r4, r6
 2456              	.LVL171:
2261:DMP/driver/eMPL/inv_mpu.c **** 		}
 2457              		.loc 1 2261 19 discriminator 1 view .LVU739
 2458 0266 09E0     		b	.L129
 2459              	.LVL172:
 2460              	.L147:
2317:DMP/driver/eMPL/inv_mpu.c **** 		for (i = 0; i < 3; i++) {
 2461              		.loc 1 2317 4 is_stmt 1 view .LVU740
 2462 0268 0022     		movs	r2, #0
 2463 026a 274B     		ldr	r3, .L148+88
 2464 026c 2748     		ldr	r0, .L148+92
 2465 026e FFF7FEFF 		bl	printf
 2466              	.LVL173:
 2467 0272 F7E7     		b	.L128
 2468              	.LVL174:
 2469              	.L132:
2322:DMP/driver/eMPL/inv_mpu.c **** 			}
 2470              		.loc 1 2322 5 view .LVU741
2322:DMP/driver/eMPL/inv_mpu.c **** 			}
 2471              		.loc 1 2322 17 is_stmt 0 view .LVU742
 2472 0274 0123     		movs	r3, #1
 2473 0276 A340     		lsls	r3, r3, r4
2322:DMP/driver/eMPL/inv_mpu.c **** 			}
 2474              		.loc 1 2322 12 view .LVU743
 2475 0278 1E43     		orrs	r6, r6, r3
 2476              	.LVL175:
 2477              	.L130:
2318:DMP/driver/eMPL/inv_mpu.c **** 			if(fabs(bias_regular[i]) > accel_offset_max) {
 2478              		.loc 1 2318 23 is_stmt 1 discriminator 2 view .LVU744
 2479 027a 0134     		adds	r4, r4, #1
 2480              	.LVL176:
 2481              	.L129:
2318:DMP/driver/eMPL/inv_mpu.c **** 			if(fabs(bias_regular[i]) > accel_offset_max) {
 2482              		.loc 1 2318 17 discriminator 1 view .LVU745
 2483 027c 022C     		cmp	r4, #2
 2484 027e 3FF7D6AE 		bgt	.L101
2319:DMP/driver/eMPL/inv_mpu.c **** 				if(debug)
 2485              		.loc 1 2319 4 view .LVU746
2319:DMP/driver/eMPL/inv_mpu.c **** 				if(debug)
 2486              		.loc 1 2319 24 is_stmt 0 view .LVU747
 2487 0282 57F824A0 		ldr	r10, [r7, r4, lsl #2]
2319:DMP/driver/eMPL/inv_mpu.c **** 				if(debug)
 2488              		.loc 1 2319 7 view .LVU748
 2489 0286 5046     		mov	r0, r10
 2490 0288 FFF7FEFF 		bl	__aeabi_i2d
 2491              	.LVL177:
 2492 028c 21F00049 		bic	r9, r1, #-2147483648
2319:DMP/driver/eMPL/inv_mpu.c **** 				if(debug)
 2493              		.loc 1 2319 6 view .LVU749
 2494 0290 0022     		movs	r2, #0
 2495 0292 1D4B     		ldr	r3, .L148+88
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 96


 2496 0294 4946     		mov	r1, r9
 2497 0296 FFF7FEFF 		bl	__aeabi_dcmpgt
 2498              	.LVL178:
 2499 029a 0028     		cmp	r0, #0
 2500 029c EDD0     		beq	.L130
2320:DMP/driver/eMPL/inv_mpu.c **** 					log_i("FAILED: Accel axis:%d = %ld > 500mg\n", i, bias_regular[i]);
 2501              		.loc 1 2320 5 is_stmt 1 view .LVU750
2320:DMP/driver/eMPL/inv_mpu.c **** 					log_i("FAILED: Accel axis:%d = %ld > 500mg\n", i, bias_regular[i]);
 2502              		.loc 1 2320 7 is_stmt 0 view .LVU751
 2503 029e 002D     		cmp	r5, #0
 2504 02a0 E8D0     		beq	.L132
2321:DMP/driver/eMPL/inv_mpu.c **** 				result |= 1 << i;	//Error condition
 2505              		.loc 1 2321 6 is_stmt 1 view .LVU752
 2506 02a2 5246     		mov	r2, r10
 2507 02a4 2146     		mov	r1, r4
 2508 02a6 1A48     		ldr	r0, .L148+96
 2509 02a8 FFF7FEFF 		bl	printf
 2510              	.LVL179:
 2511 02ac E2E7     		b	.L132
 2512              	.L149:
 2513 02ae 00BF     		.align	3
 2514              	.L148:
 2515 02b0 000000A0 		.word	-1610612736
 2516 02b4 9999E540 		.word	1088788889
 2517 02b8 00000000 		.word	st
 2518 02bc 00000000 		.word	.LC4
 2519 02c0 1C000000 		.word	.LC5
 2520 02c4 00000000 		.word	mpu_6500_st_tb
 2521 02c8 00008047 		.word	1199570944
 2522 02cc 00008038 		.word	947912704
 2523 02d0 34000000 		.word	.LC6
 2524 02d4 48000000 		.word	.LC7
 2525 02d8 7C000000 		.word	.LC8
 2526 02dc 0000E03F 		.word	1071644672
 2527 02e0 90000000 		.word	.LC9
 2528 02e4 B0000000 		.word	.LC10
 2529 02e8 C8000000 		.word	.LC11
 2530 02ec CCCCCC40 		.word	1087163596
 2531 02f0 DC000000 		.word	.LC12
 2532 02f4 EC000000 		.word	.LC13
 2533 02f8 FC000000 		.word	.LC14
 2534 02fc 66666646 		.word	1181116006
 2535 0300 CDCC2C47 		.word	1194118349
 2536 0304 24010000 		.word	.LC15
 2537 0308 0000E040 		.word	1088421888
 2538 030c 50010000 		.word	.LC16
 2539 0310 78010000 		.word	.LC17
 2540              		.cfi_endproc
 2541              	.LFE206:
 2543              		.section	.rodata.gyro_6500_self_test.str1.4,"aMS",%progbits,1
 2544              		.align	2
 2545              	.LC18:
 2546 0000 4779726F 		.ascii	"Gyro OTP:%d, %d, %d\015\012\000"
 2546      204F5450 
 2546      3A25642C 
 2546      2025642C 
 2546      2025640D 
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 97


 2547 0016 0000     		.align	2
 2548              	.LC19:
 2549 0018 4759524F 		.ascii	"GYRO:CRITERIA A\000"
 2549      3A435249 
 2549      54455249 
 2549      41204100 
 2550              		.align	2
 2551              	.LC20:
 2552 0028 4779726F 		.ascii	"Gyro Fail Axis = %d\012\000"
 2552      20466169 
 2552      6C204178 
 2552      6973203D 
 2552      2025640A 
 2553 003d 000000   		.align	2
 2554              	.LC21:
 2555 0040 4759524F 		.ascii	"GYRO:CRITERIA B\015\000"
 2555      3A435249 
 2555      54455249 
 2555      4120420D 
 2555      00
 2556 0051 000000   		.align	2
 2557              	.LC22:
 2558 0054 4D617820 		.ascii	"Max DPS: %7.4f\015\012\000"
 2558      4450533A 
 2558      2025372E 
 2558      34660D0A 
 2558      00
 2559 0065 000000   		.align	2
 2560              	.LC23:
 2561 0068 4759524F 		.ascii	"GYRO FAIL axis:%d greater than 60dps\012\000"
 2561      20464149 
 2561      4C206178 
 2561      69733A25 
 2561      64206772 
 2562 008e 0000     		.align	2
 2563              	.LC24:
 2564 0090 4779726F 		.ascii	"Gyro:CRITERIA C: bias less than %7.4f\012\000"
 2564      3A435249 
 2564      54455249 
 2564      4120433A 
 2564      20626961 
 2565 00b7 00       		.align	2
 2566              	.LC25:
 2567 00b8 4641494C 		.ascii	"FAILED: Gyro axis:%d = %ld > 20dps\012\000"
 2567      45443A20 
 2567      4779726F 
 2567      20617869 
 2567      733A2564 
 2568              		.section	.text.gyro_6500_self_test,"ax",%progbits
 2569              		.align	1
 2570              		.syntax unified
 2571              		.thumb
 2572              		.thumb_func
 2574              	gyro_6500_self_test:
 2575              	.LVL180:
 2576              	.LFB207:
2331:DMP/driver/eMPL/inv_mpu.c ****     int i, result = 0, otp_value_zero = 0;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 98


 2577              		.loc 1 2331 1 view -0
 2578              		.cfi_startproc
 2579              		@ args = 0, pretend = 0, frame = 48
 2580              		@ frame_needed = 0, uses_anonymous_args = 0
2331:DMP/driver/eMPL/inv_mpu.c ****     int i, result = 0, otp_value_zero = 0;
 2581              		.loc 1 2331 1 is_stmt 0 view .LVU754
 2582 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 2583              	.LCFI20:
 2584              		.cfi_def_cfa_offset 32
 2585              		.cfi_offset 4, -32
 2586              		.cfi_offset 5, -28
 2587              		.cfi_offset 6, -24
 2588              		.cfi_offset 7, -20
 2589              		.cfi_offset 8, -16
 2590              		.cfi_offset 9, -12
 2591              		.cfi_offset 10, -8
 2592              		.cfi_offset 14, -4
 2593 0004 2DED048B 		vpush.64	{d8, d9}
 2594              	.LCFI21:
 2595              		.cfi_def_cfa_offset 48
 2596              		.cfi_offset 80, -48
 2597              		.cfi_offset 81, -44
 2598              		.cfi_offset 82, -40
 2599              		.cfi_offset 83, -36
 2600 0008 90B0     		sub	sp, sp, #64
 2601              	.LCFI22:
 2602              		.cfi_def_cfa_offset 112
 2603 000a 0746     		mov	r7, r0
 2604 000c 8A46     		mov	r10, r1
 2605 000e 1546     		mov	r5, r2
2332:DMP/driver/eMPL/inv_mpu.c ****     float gyro_st_al_max;
 2606              		.loc 1 2332 5 is_stmt 1 view .LVU755
 2607              	.LVL181:
2333:DMP/driver/eMPL/inv_mpu.c ****     float st_shift_cust[3], st_shift_ratio[3], ct_shift_prod[3], gyro_offset_max;
 2608              		.loc 1 2333 5 view .LVU756
2334:DMP/driver/eMPL/inv_mpu.c ****     unsigned char regs[3];
 2609              		.loc 1 2334 5 view .LVU757
2335:DMP/driver/eMPL/inv_mpu.c **** 
 2610              		.loc 1 2335 5 view .LVU758
2337:DMP/driver/eMPL/inv_mpu.c ****     	if(debug)
 2611              		.loc 1 2337 5 view .LVU759
2337:DMP/driver/eMPL/inv_mpu.c ****     	if(debug)
 2612              		.loc 1 2337 20 is_stmt 0 view .LVU760
 2613 0010 9D4B     		ldr	r3, .L196
 2614 0012 5868     		ldr	r0, [r3, #4]
 2615              	.LVL182:
2337:DMP/driver/eMPL/inv_mpu.c ****     	if(debug)
 2616              		.loc 1 2337 9 view .LVU761
 2617 0014 06AB     		add	r3, sp, #24
 2618 0016 0322     		movs	r2, #3
 2619              	.LVL183:
2337:DMP/driver/eMPL/inv_mpu.c ****     	if(debug)
 2620              		.loc 1 2337 9 view .LVU762
 2621 0018 0021     		movs	r1, #0
 2622              	.LVL184:
2337:DMP/driver/eMPL/inv_mpu.c ****     	if(debug)
 2623              		.loc 1 2337 9 view .LVU763
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 99


 2624 001a 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 2625 001c FFF7FEFF 		bl	MPU_Read_Len
 2626              	.LVL185:
2337:DMP/driver/eMPL/inv_mpu.c ****     	if(debug)
 2627              		.loc 1 2337 8 view .LVU764
 2628 0020 18B9     		cbnz	r0, .L186
2343:DMP/driver/eMPL/inv_mpu.c ****     	log_i("Gyro OTP:%d, %d, %d\r\n", regs[0], regs[1], regs[2]);
 2629              		.loc 1 2343 5 is_stmt 1 view .LVU765
2343:DMP/driver/eMPL/inv_mpu.c ****     	log_i("Gyro OTP:%d, %d, %d\r\n", regs[0], regs[1], regs[2]);
 2630              		.loc 1 2343 7 is_stmt 0 view .LVU766
 2631 0022 75B9     		cbnz	r5, .L187
 2632              	.L154:
2354:DMP/driver/eMPL/inv_mpu.c **** 		}
 2633              		.loc 1 2354 19 discriminator 1 view .LVU767
 2634 0024 0024     		movs	r4, #0
 2635 0026 2346     		mov	r3, r4
 2636 0028 1DE0     		b	.L155
 2637              	.L186:
2338:DMP/driver/eMPL/inv_mpu.c ****     		log_i("Reading OTP Register Error.\n");
 2638              		.loc 1 2338 6 is_stmt 1 view .LVU768
2338:DMP/driver/eMPL/inv_mpu.c ****     		log_i("Reading OTP Register Error.\n");
 2639              		.loc 1 2338 8 is_stmt 0 view .LVU769
 2640 002a 35B9     		cbnz	r5, .L188
 2641              	.L152:
2340:DMP/driver/eMPL/inv_mpu.c ****     }
 2642              		.loc 1 2340 9 is_stmt 1 view .LVU770
2340:DMP/driver/eMPL/inv_mpu.c ****     }
 2643              		.loc 1 2340 16 is_stmt 0 view .LVU771
 2644 002c 0726     		movs	r6, #7
 2645              	.LVL186:
 2646              	.L150:
2421:DMP/driver/eMPL/inv_mpu.c **** 
 2647              		.loc 1 2421 1 view .LVU772
 2648 002e 3046     		mov	r0, r6
 2649 0030 10B0     		add	sp, sp, #64
 2650              	.LCFI23:
 2651              		.cfi_remember_state
 2652              		.cfi_def_cfa_offset 48
 2653              		@ sp needed
 2654 0032 BDEC048B 		vldm	sp!, {d8-d9}
 2655              	.LCFI24:
 2656              		.cfi_restore 82
 2657              		.cfi_restore 83
 2658              		.cfi_restore 80
 2659              		.cfi_restore 81
 2660              		.cfi_def_cfa_offset 32
 2661 0036 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 2662              	.LVL187:
 2663              	.L188:
 2664              	.LCFI25:
 2665              		.cfi_restore_state
2339:DMP/driver/eMPL/inv_mpu.c ****         return 0x07;
 2666              		.loc 1 2339 7 is_stmt 1 view .LVU773
 2667 003a 9448     		ldr	r0, .L196+4
 2668 003c FFF7FEFF 		bl	puts
 2669              	.LVL188:
 2670 0040 F4E7     		b	.L152
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 100


 2671              	.L187:
2344:DMP/driver/eMPL/inv_mpu.c **** 
 2672              		.loc 1 2344 6 view .LVU774
 2673 0042 9DF81A30 		ldrb	r3, [sp, #26]	@ zero_extendqisi2
 2674 0046 9DF81920 		ldrb	r2, [sp, #25]	@ zero_extendqisi2
 2675 004a 9DF81810 		ldrb	r1, [sp, #24]	@ zero_extendqisi2
 2676 004e 9048     		ldr	r0, .L196+8
 2677 0050 FFF7FEFF 		bl	printf
 2678              	.LVL189:
 2679 0054 E6E7     		b	.L154
 2680              	.LVL190:
 2681              	.L156:
2353:DMP/driver/eMPL/inv_mpu.c **** 			otp_value_zero = 1;
 2682              		.loc 1 2353 4 view .LVU775
2353:DMP/driver/eMPL/inv_mpu.c **** 			otp_value_zero = 1;
 2683              		.loc 1 2353 21 is_stmt 0 view .LVU776
 2684 0056 0021     		movs	r1, #0
 2685 0058 10AA     		add	r2, sp, #64
 2686 005a 02EB8302 		add	r2, r2, r3, lsl #2
 2687 005e 42F8241C 		str	r1, [r2, #-36]	@ float
2354:DMP/driver/eMPL/inv_mpu.c **** 		}
 2688              		.loc 1 2354 4 is_stmt 1 view .LVU777
 2689              	.LVL191:
2354:DMP/driver/eMPL/inv_mpu.c **** 		}
 2690              		.loc 1 2354 19 is_stmt 0 view .LVU778
 2691 0062 0124     		movs	r4, #1
 2692              	.LVL192:
 2693              	.L157:
2346:DMP/driver/eMPL/inv_mpu.c **** 		if (regs[i] != 0) {
 2694              		.loc 1 2346 22 is_stmt 1 discriminator 2 view .LVU779
 2695 0064 0133     		adds	r3, r3, #1
 2696              	.LVL193:
 2697              	.L155:
2346:DMP/driver/eMPL/inv_mpu.c **** 		if (regs[i] != 0) {
 2698              		.loc 1 2346 16 discriminator 1 view .LVU780
 2699 0066 022B     		cmp	r3, #2
 2700 0068 20DC     		bgt	.L189
2347:DMP/driver/eMPL/inv_mpu.c **** 			ct_shift_prod[i] = mpu_6500_st_tb[regs[i] - 1];
 2701              		.loc 1 2347 3 view .LVU781
2347:DMP/driver/eMPL/inv_mpu.c **** 			ct_shift_prod[i] = mpu_6500_st_tb[regs[i] - 1];
 2702              		.loc 1 2347 11 is_stmt 0 view .LVU782
 2703 006a 03F14002 		add	r2, r3, #64
 2704 006e 6A44     		add	r2, sp, r2
 2705 0070 12F8282C 		ldrb	r2, [r2, #-40]	@ zero_extendqisi2
2347:DMP/driver/eMPL/inv_mpu.c **** 			ct_shift_prod[i] = mpu_6500_st_tb[regs[i] - 1];
 2706              		.loc 1 2347 6 view .LVU783
 2707 0074 002A     		cmp	r2, #0
 2708 0076 EED0     		beq	.L156
2348:DMP/driver/eMPL/inv_mpu.c **** 			ct_shift_prod[i] *= 65536.f;
 2709              		.loc 1 2348 4 is_stmt 1 view .LVU784
2348:DMP/driver/eMPL/inv_mpu.c **** 			ct_shift_prod[i] *= 65536.f;
 2710              		.loc 1 2348 46 is_stmt 0 view .LVU785
 2711 0078 013A     		subs	r2, r2, #1
2348:DMP/driver/eMPL/inv_mpu.c **** 			ct_shift_prod[i] *= 65536.f;
 2712              		.loc 1 2348 37 view .LVU786
 2713 007a 8649     		ldr	r1, .L196+12
 2714 007c 31F81220 		ldrh	r2, [r1, r2, lsl #1]
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 101


 2715 0080 07EE902A 		vmov	s15, r2	@ int
2348:DMP/driver/eMPL/inv_mpu.c **** 			ct_shift_prod[i] *= 65536.f;
 2716              		.loc 1 2348 21 view .LVU787
 2717 0084 F8EE677A 		vcvt.f32.u32	s15, s15
 2718 0088 10AA     		add	r2, sp, #64
 2719 008a 02EB8302 		add	r2, r2, r3, lsl #2
 2720 008e 42ED097A 		vstr.32	s15, [r2, #-36]
2349:DMP/driver/eMPL/inv_mpu.c **** 			ct_shift_prod[i] /= test.gyro_sens;
 2721              		.loc 1 2349 4 is_stmt 1 view .LVU788
2349:DMP/driver/eMPL/inv_mpu.c **** 			ct_shift_prod[i] /= test.gyro_sens;
 2722              		.loc 1 2349 21 is_stmt 0 view .LVU789
 2723 0092 9FED817A 		vldr.32	s14, .L196+16
 2724 0096 67EE877A 		vmul.f32	s15, s15, s14
 2725 009a 42ED097A 		vstr.32	s15, [r2, #-36]
2350:DMP/driver/eMPL/inv_mpu.c **** 		}
 2726              		.loc 1 2350 4 is_stmt 1 view .LVU790
2350:DMP/driver/eMPL/inv_mpu.c **** 		}
 2727              		.loc 1 2350 21 is_stmt 0 view .LVU791
 2728 009e DFED7F6A 		vldr.32	s13, .L196+20
 2729 00a2 87EEA67A 		vdiv.f32	s14, s15, s13
 2730 00a6 02ED097A 		vstr.32	s14, [r2, #-36]
 2731 00aa DBE7     		b	.L157
 2732              	.L189:
2358:DMP/driver/eMPL/inv_mpu.c **** 		if(debug)
 2733              		.loc 1 2358 2 is_stmt 1 view .LVU792
2358:DMP/driver/eMPL/inv_mpu.c **** 		if(debug)
 2734              		.loc 1 2358 4 is_stmt 0 view .LVU793
 2735 00ac 002C     		cmp	r4, #0
 2736 00ae 71D1     		bne	.L159
2359:DMP/driver/eMPL/inv_mpu.c **** 			log_i("GYRO:CRITERIA A\n");
 2737              		.loc 1 2359 3 is_stmt 1 view .LVU794
2359:DMP/driver/eMPL/inv_mpu.c **** 			log_i("GYRO:CRITERIA A\n");
 2738              		.loc 1 2359 5 is_stmt 0 view .LVU795
 2739 00b0 0DB9     		cbnz	r5, .L190
 2740              	.LVL194:
 2741              	.L160:
2354:DMP/driver/eMPL/inv_mpu.c **** 		}
 2742              		.loc 1 2354 19 discriminator 1 view .LVU796
 2743 00b2 2646     		mov	r6, r4
 2744 00b4 41E0     		b	.L161
 2745              	.LVL195:
 2746              	.L190:
2360:DMP/driver/eMPL/inv_mpu.c **** 		/* Self Test Pass/Fail Criteria A */
 2747              		.loc 1 2360 4 is_stmt 1 view .LVU797
 2748 00b6 7A48     		ldr	r0, .L196+24
 2749 00b8 FFF7FEFF 		bl	puts
 2750              	.LVL196:
2360:DMP/driver/eMPL/inv_mpu.c **** 		/* Self Test Pass/Fail Criteria A */
 2751              		.loc 1 2360 4 is_stmt 0 view .LVU798
 2752 00bc F9E7     		b	.L160
 2753              	.LVL197:
 2754              	.L191:
2366:DMP/driver/eMPL/inv_mpu.c **** 						st_shift_cust[i]/1.f, bias_regular[i]/1.f,
 2755              		.loc 1 2366 5 is_stmt 1 view .LVU799
2367:DMP/driver/eMPL/inv_mpu.c **** 						bias_st[i]/1.f);
 2756              		.loc 1 2367 44 is_stmt 0 view .LVU800
 2757 00be 07EE903A 		vmov	s15, r3	@ int
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 102


 2758 00c2 B8EEE78A 		vcvt.f32.s32	s16, s15
2368:DMP/driver/eMPL/inv_mpu.c **** 				log_i("OTP value: %7.4f\r\n", ct_shift_prod[i]/1.f);
 2759              		.loc 1 2368 17 view .LVU801
 2760 00c6 07EE902A 		vmov	s15, r2	@ int
 2761 00ca B8EEE79A 		vcvt.f32.s32	s18, s15
2366:DMP/driver/eMPL/inv_mpu.c **** 						st_shift_cust[i]/1.f, bias_regular[i]/1.f,
 2762              		.loc 1 2366 5 view .LVU802
 2763 00ce 18EE900A 		vmov	r0, s17
 2764 00d2 FFF7FEFF 		bl	__aeabi_f2d
 2765              	.LVL198:
 2766 00d6 CDE90401 		strd	r0, [sp, #16]
 2767 00da 19EE100A 		vmov	r0, s18
 2768 00de FFF7FEFF 		bl	__aeabi_f2d
 2769              	.LVL199:
 2770 00e2 CDE90201 		strd	r0, [sp, #8]
 2771 00e6 18EE100A 		vmov	r0, s16
 2772 00ea FFF7FEFF 		bl	__aeabi_f2d
 2773              	.LVL200:
 2774 00ee CDE90001 		strd	r0, [sp]
 2775 00f2 DDE90423 		ldrd	r2, [sp, #16]
 2776 00f6 6B48     		ldr	r0, .L196+28
 2777 00f8 FFF7FEFF 		bl	printf
 2778              	.LVL201:
2369:DMP/driver/eMPL/inv_mpu.c **** 			}
 2779              		.loc 1 2369 5 is_stmt 1 view .LVU803
2369:DMP/driver/eMPL/inv_mpu.c **** 			}
 2780              		.loc 1 2369 51 is_stmt 0 view .LVU804
 2781 00fc 10AB     		add	r3, sp, #64
 2782 00fe 03EB8403 		add	r3, r3, r4, lsl #2
2369:DMP/driver/eMPL/inv_mpu.c **** 			}
 2783              		.loc 1 2369 5 view .LVU805
 2784 0102 53F8240C 		ldr	r0, [r3, #-36]	@ float
 2785 0106 FFF7FEFF 		bl	__aeabi_f2d
 2786              	.LVL202:
 2787 010a 0246     		mov	r2, r0
 2788 010c 0B46     		mov	r3, r1
 2789 010e 6648     		ldr	r0, .L196+32
 2790 0110 FFF7FEFF 		bl	printf
 2791              	.LVL203:
 2792 0114 23E0     		b	.L162
 2793              	.L192:
2375:DMP/driver/eMPL/inv_mpu.c **** 							test.max_gyro_var/1.f);
 2794              		.loc 1 2375 5 is_stmt 1 view .LVU806
 2795 0116 18EE100A 		vmov	r0, s16
 2796 011a FFF7FEFF 		bl	__aeabi_f2d
 2797              	.LVL204:
 2798 011e 0246     		mov	r2, r0
 2799 0120 0B46     		mov	r3, r1
 2800 0122 0020     		movs	r0, #0
 2801 0124 6149     		ldr	r1, .L196+36
 2802 0126 CDE90001 		strd	r0, [sp]
 2803 012a 6148     		ldr	r0, .L196+40
 2804 012c FFF7FEFF 		bl	printf
 2805              	.LVL205:
 2806 0130 20E0     		b	.L163
 2807              	.L166:
2381:DMP/driver/eMPL/inv_mpu.c **** 			}
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 103


 2808              		.loc 1 2381 5 view .LVU807
2381:DMP/driver/eMPL/inv_mpu.c **** 			}
 2809              		.loc 1 2381 17 is_stmt 0 view .LVU808
 2810 0132 0123     		movs	r3, #1
 2811 0134 A340     		lsls	r3, r3, r4
2381:DMP/driver/eMPL/inv_mpu.c **** 			}
 2812              		.loc 1 2381 12 view .LVU809
 2813 0136 1E43     		orrs	r6, r6, r3
 2814              	.LVL206:
 2815              	.L164:
2362:DMP/driver/eMPL/inv_mpu.c **** 			st_shift_cust[i] = bias_st[i] - bias_regular[i];
 2816              		.loc 1 2362 23 is_stmt 1 discriminator 2 view .LVU810
 2817 0138 0134     		adds	r4, r4, #1
 2818              	.LVL207:
 2819              	.L161:
2362:DMP/driver/eMPL/inv_mpu.c **** 			st_shift_cust[i] = bias_st[i] - bias_regular[i];
 2820              		.loc 1 2362 17 discriminator 1 view .LVU811
 2821 013a 022C     		cmp	r4, #2
 2822 013c 7BDC     		bgt	.L168
2363:DMP/driver/eMPL/inv_mpu.c **** 
 2823              		.loc 1 2363 4 view .LVU812
2363:DMP/driver/eMPL/inv_mpu.c **** 
 2824              		.loc 1 2363 30 is_stmt 0 view .LVU813
 2825 013e 5AF82420 		ldr	r2, [r10, r4, lsl #2]
2363:DMP/driver/eMPL/inv_mpu.c **** 
 2826              		.loc 1 2363 48 view .LVU814
 2827 0142 57F82430 		ldr	r3, [r7, r4, lsl #2]
2363:DMP/driver/eMPL/inv_mpu.c **** 
 2828              		.loc 1 2363 34 view .LVU815
 2829 0146 D11A     		subs	r1, r2, r3
 2830 0148 08EE901A 		vmov	s17, r1	@ int
2363:DMP/driver/eMPL/inv_mpu.c **** 
 2831              		.loc 1 2363 21 view .LVU816
 2832 014c F8EEE88A 		vcvt.f32.s32	s17, s17
 2833 0150 10A9     		add	r1, sp, #64
 2834 0152 01EB8401 		add	r1, r1, r4, lsl #2
 2835 0156 41ED038A 		vstr.32	s17, [r1, #-12]
2365:DMP/driver/eMPL/inv_mpu.c **** 				log_i("Bias_Shift=%7.4f, Bias_Reg=%7.4f, Bias_HWST=%7.4f\r\n",
 2836              		.loc 1 2365 4 is_stmt 1 view .LVU817
2365:DMP/driver/eMPL/inv_mpu.c **** 				log_i("Bias_Shift=%7.4f, Bias_Reg=%7.4f, Bias_HWST=%7.4f\r\n",
 2837              		.loc 1 2365 6 is_stmt 0 view .LVU818
 2838 015a 002D     		cmp	r5, #0
 2839 015c AFD1     		bne	.L191
 2840              	.L162:
2372:DMP/driver/eMPL/inv_mpu.c **** 
 2841              		.loc 1 2372 4 is_stmt 1 view .LVU819
2372:DMP/driver/eMPL/inv_mpu.c **** 
 2842              		.loc 1 2372 56 is_stmt 0 view .LVU820
 2843 015e 10AB     		add	r3, sp, #64
 2844 0160 03EB8403 		add	r3, r3, r4, lsl #2
 2845 0164 53ED097A 		vldr.32	s15, [r3, #-36]
2372:DMP/driver/eMPL/inv_mpu.c **** 
 2846              		.loc 1 2372 41 view .LVU821
 2847 0168 88EEA78A 		vdiv.f32	s16, s17, s15
2372:DMP/driver/eMPL/inv_mpu.c **** 
 2848              		.loc 1 2372 22 view .LVU822
 2849 016c 03ED068A 		vstr.32	s16, [r3, #-24]
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 104


2374:DMP/driver/eMPL/inv_mpu.c **** 				log_i("ratio=%7.4f, threshold=%7.4f\r\n", st_shift_ratio[i]/1.f,
 2850              		.loc 1 2374 4 is_stmt 1 view .LVU823
2374:DMP/driver/eMPL/inv_mpu.c **** 				log_i("ratio=%7.4f, threshold=%7.4f\r\n", st_shift_ratio[i]/1.f,
 2851              		.loc 1 2374 6 is_stmt 0 view .LVU824
 2852 0170 002D     		cmp	r5, #0
 2853 0172 D0D1     		bne	.L192
 2854              	.L163:
2378:DMP/driver/eMPL/inv_mpu.c **** 				if(debug)
 2855              		.loc 1 2378 4 is_stmt 1 view .LVU825
2378:DMP/driver/eMPL/inv_mpu.c **** 				if(debug)
 2856              		.loc 1 2378 8 is_stmt 0 view .LVU826
 2857 0174 B0EEC88A 		vabs.f32	s16, s16
2378:DMP/driver/eMPL/inv_mpu.c **** 				if(debug)
 2858              		.loc 1 2378 7 view .LVU827
 2859 0178 F6EE007A 		vmov.f32	s15, #5.0e-1
 2860 017c B4EEE78A 		vcmpe.f32	s16, s15
 2861 0180 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2862 0184 D8D5     		bpl	.L164
2379:DMP/driver/eMPL/inv_mpu.c **** 					log_i("Gyro Fail Axis = %d\n", i);
 2863              		.loc 1 2379 5 is_stmt 1 view .LVU828
2379:DMP/driver/eMPL/inv_mpu.c **** 					log_i("Gyro Fail Axis = %d\n", i);
 2864              		.loc 1 2379 7 is_stmt 0 view .LVU829
 2865 0186 002D     		cmp	r5, #0
 2866 0188 D3D0     		beq	.L166
2380:DMP/driver/eMPL/inv_mpu.c **** 				result |= 1 << i;	//Error condition
 2867              		.loc 1 2380 6 is_stmt 1 view .LVU830
 2868 018a 2146     		mov	r1, r4
 2869 018c 4948     		ldr	r0, .L196+44
 2870 018e FFF7FEFF 		bl	printf
 2871              	.LVL208:
 2872 0192 CEE7     		b	.L166
 2873              	.LVL209:
 2874              	.L159:
2387:DMP/driver/eMPL/inv_mpu.c **** 
 2875              		.loc 1 2387 3 view .LVU831
2389:DMP/driver/eMPL/inv_mpu.c **** 			log_i("GYRO:CRITERIA B\r\n");
 2876              		.loc 1 2389 3 view .LVU832
2389:DMP/driver/eMPL/inv_mpu.c **** 			log_i("GYRO:CRITERIA B\r\n");
 2877              		.loc 1 2389 5 is_stmt 0 view .LVU833
 2878 0194 15B9     		cbnz	r5, .L193
 2879              	.LVL210:
 2880              	.L169:
2354:DMP/driver/eMPL/inv_mpu.c **** 		}
 2881              		.loc 1 2354 19 discriminator 1 view .LVU834
 2882 0196 0026     		movs	r6, #0
 2883 0198 3446     		mov	r4, r6
 2884              	.LVL211:
2354:DMP/driver/eMPL/inv_mpu.c **** 		}
 2885              		.loc 1 2354 19 discriminator 1 view .LVU835
 2886 019a 2CE0     		b	.L170
 2887              	.LVL212:
 2888              	.L193:
2390:DMP/driver/eMPL/inv_mpu.c **** 			log_i("Max DPS: %7.4f\r\n", gyro_st_al_max/1.f);
 2889              		.loc 1 2390 4 is_stmt 1 view .LVU836
 2890 019c 4648     		ldr	r0, .L196+48
 2891 019e FFF7FEFF 		bl	puts
 2892              	.LVL213:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 105


2391:DMP/driver/eMPL/inv_mpu.c **** 		}
 2893              		.loc 1 2391 4 view .LVU837
 2894 01a2 0022     		movs	r2, #0
 2895 01a4 454B     		ldr	r3, .L196+52
 2896 01a6 4648     		ldr	r0, .L196+56
 2897 01a8 FFF7FEFF 		bl	printf
 2898              	.LVL214:
 2899 01ac F3E7     		b	.L169
 2900              	.LVL215:
 2901              	.L194:
2398:DMP/driver/eMPL/inv_mpu.c **** 			if(st_shift_cust[i] < gyro_st_al_max) {
 2902              		.loc 1 2398 5 view .LVU838
2398:DMP/driver/eMPL/inv_mpu.c **** 			if(st_shift_cust[i] < gyro_st_al_max) {
 2903              		.loc 1 2398 86 is_stmt 0 view .LVU839
 2904 01ae 07EE903A 		vmov	s15, r3	@ int
 2905 01b2 F8EEE78A 		vcvt.f32.s32	s17, s15
2398:DMP/driver/eMPL/inv_mpu.c **** 			if(st_shift_cust[i] < gyro_st_al_max) {
 2906              		.loc 1 2398 107 view .LVU840
 2907 01b6 07EE902A 		vmov	s15, r2	@ int
 2908 01ba B8EEE79A 		vcvt.f32.s32	s18, s15
2398:DMP/driver/eMPL/inv_mpu.c **** 			if(st_shift_cust[i] < gyro_st_al_max) {
 2909              		.loc 1 2398 5 view .LVU841
 2910 01be 18EE100A 		vmov	r0, s16
 2911 01c2 FFF7FEFF 		bl	__aeabi_f2d
 2912              	.LVL216:
 2913 01c6 CDE90401 		strd	r0, [sp, #16]
 2914 01ca 19EE100A 		vmov	r0, s18
 2915 01ce FFF7FEFF 		bl	__aeabi_f2d
 2916              	.LVL217:
 2917 01d2 CDE90201 		strd	r0, [sp, #8]
 2918 01d6 18EE900A 		vmov	r0, s17
 2919 01da FFF7FEFF 		bl	__aeabi_f2d
 2920              	.LVL218:
 2921 01de CDE90001 		strd	r0, [sp]
 2922 01e2 DDE90423 		ldrd	r2, [sp, #16]
 2923 01e6 3748     		ldr	r0, .L196+60
 2924 01e8 FFF7FEFF 		bl	printf
 2925              	.LVL219:
 2926 01ec 15E0     		b	.L171
 2927              	.L174:
2402:DMP/driver/eMPL/inv_mpu.c **** 			}
 2928              		.loc 1 2402 5 is_stmt 1 view .LVU842
2402:DMP/driver/eMPL/inv_mpu.c **** 			}
 2929              		.loc 1 2402 17 is_stmt 0 view .LVU843
 2930 01ee 0123     		movs	r3, #1
 2931 01f0 A340     		lsls	r3, r3, r4
2402:DMP/driver/eMPL/inv_mpu.c **** 			}
 2932              		.loc 1 2402 12 view .LVU844
 2933 01f2 1E43     		orrs	r6, r6, r3
 2934              	.LVL220:
 2935              	.L172:
2394:DMP/driver/eMPL/inv_mpu.c **** 			st_shift_cust[i] = bias_st[i] - bias_regular[i];
 2936              		.loc 1 2394 23 is_stmt 1 discriminator 2 view .LVU845
 2937 01f4 0134     		adds	r4, r4, #1
 2938              	.LVL221:
 2939              	.L170:
2394:DMP/driver/eMPL/inv_mpu.c **** 			st_shift_cust[i] = bias_st[i] - bias_regular[i];
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 106


 2940              		.loc 1 2394 17 discriminator 1 view .LVU846
 2941 01f6 022C     		cmp	r4, #2
 2942 01f8 1DDC     		bgt	.L168
2395:DMP/driver/eMPL/inv_mpu.c **** 
 2943              		.loc 1 2395 4 view .LVU847
2395:DMP/driver/eMPL/inv_mpu.c **** 
 2944              		.loc 1 2395 30 is_stmt 0 view .LVU848
 2945 01fa 5AF82430 		ldr	r3, [r10, r4, lsl #2]
2395:DMP/driver/eMPL/inv_mpu.c **** 
 2946              		.loc 1 2395 48 view .LVU849
 2947 01fe 57F82420 		ldr	r2, [r7, r4, lsl #2]
2395:DMP/driver/eMPL/inv_mpu.c **** 
 2948              		.loc 1 2395 34 view .LVU850
 2949 0202 991A     		subs	r1, r3, r2
 2950 0204 08EE101A 		vmov	s16, r1	@ int
2395:DMP/driver/eMPL/inv_mpu.c **** 
 2951              		.loc 1 2395 21 view .LVU851
 2952 0208 B8EEC88A 		vcvt.f32.s32	s16, s16
 2953 020c 10A9     		add	r1, sp, #64
 2954 020e 01EB8401 		add	r1, r1, r4, lsl #2
 2955 0212 01ED038A 		vstr.32	s16, [r1, #-12]
2397:DMP/driver/eMPL/inv_mpu.c **** 				log_i("Bias_shift=%7.4f, st=%7.4f, reg=%7.4f\n", st_shift_cust[i]/1.f, bias_st[i]/1.f, bias_reg
 2956              		.loc 1 2397 4 is_stmt 1 view .LVU852
2397:DMP/driver/eMPL/inv_mpu.c **** 				log_i("Bias_shift=%7.4f, st=%7.4f, reg=%7.4f\n", st_shift_cust[i]/1.f, bias_st[i]/1.f, bias_reg
 2957              		.loc 1 2397 6 is_stmt 0 view .LVU853
 2958 0216 002D     		cmp	r5, #0
 2959 0218 C9D1     		bne	.L194
 2960              	.L171:
2399:DMP/driver/eMPL/inv_mpu.c **** 				if(debug)
 2961              		.loc 1 2399 4 is_stmt 1 view .LVU854
2399:DMP/driver/eMPL/inv_mpu.c **** 				if(debug)
 2962              		.loc 1 2399 6 is_stmt 0 view .LVU855
 2963 021a DFED2B7A 		vldr.32	s15, .L196+64
 2964 021e B4EEE78A 		vcmpe.f32	s16, s15
 2965 0222 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2966 0226 E5D5     		bpl	.L172
2400:DMP/driver/eMPL/inv_mpu.c **** 					log_i("GYRO FAIL axis:%d greater than 60dps\n", i);
 2967              		.loc 1 2400 5 is_stmt 1 view .LVU856
2400:DMP/driver/eMPL/inv_mpu.c **** 					log_i("GYRO FAIL axis:%d greater than 60dps\n", i);
 2968              		.loc 1 2400 7 is_stmt 0 view .LVU857
 2969 0228 002D     		cmp	r5, #0
 2970 022a E0D0     		beq	.L174
2401:DMP/driver/eMPL/inv_mpu.c **** 				result |= 1 << i;	//Error condition
 2971              		.loc 1 2401 6 is_stmt 1 view .LVU858
 2972 022c 2146     		mov	r1, r4
 2973 022e 2748     		ldr	r0, .L196+68
 2974 0230 FFF7FEFF 		bl	printf
 2975              	.LVL222:
 2976 0234 DBE7     		b	.L174
 2977              	.LVL223:
 2978              	.L168:
2407:DMP/driver/eMPL/inv_mpu.c **** 	/* Self Test Pass/Fail Criteria C */
 2979              		.loc 1 2407 2 view .LVU859
2407:DMP/driver/eMPL/inv_mpu.c **** 	/* Self Test Pass/Fail Criteria C */
 2980              		.loc 1 2407 4 is_stmt 0 view .LVU860
 2981 0236 002E     		cmp	r6, #0
 2982 0238 7FF4F9AE 		bne	.L150
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 107


2409:DMP/driver/eMPL/inv_mpu.c **** 		if(debug)
 2983              		.loc 1 2409 3 is_stmt 1 view .LVU861
 2984              	.LVL224:
2410:DMP/driver/eMPL/inv_mpu.c **** 			log_i("Gyro:CRITERIA C: bias less than %7.4f\n", gyro_offset_max/1.f);
 2985              		.loc 1 2410 3 view .LVU862
2410:DMP/driver/eMPL/inv_mpu.c **** 			log_i("Gyro:CRITERIA C: bias less than %7.4f\n", gyro_offset_max/1.f);
 2986              		.loc 1 2410 5 is_stmt 0 view .LVU863
 2987 023c 0DB9     		cbnz	r5, .L195
 2988              	.L176:
2354:DMP/driver/eMPL/inv_mpu.c **** 		}
 2989              		.loc 1 2354 19 discriminator 1 view .LVU864
 2990 023e 3446     		mov	r4, r6
 2991              	.LVL225:
2354:DMP/driver/eMPL/inv_mpu.c **** 		}
 2992              		.loc 1 2354 19 discriminator 1 view .LVU865
 2993 0240 09E0     		b	.L177
 2994              	.LVL226:
 2995              	.L195:
2411:DMP/driver/eMPL/inv_mpu.c **** 		for (i = 0; i < 3; i++) {
 2996              		.loc 1 2411 4 is_stmt 1 view .LVU866
 2997 0242 0022     		movs	r2, #0
 2998 0244 224B     		ldr	r3, .L196+72
 2999 0246 2348     		ldr	r0, .L196+76
 3000 0248 FFF7FEFF 		bl	printf
 3001              	.LVL227:
 3002 024c F7E7     		b	.L176
 3003              	.LVL228:
 3004              	.L180:
2416:DMP/driver/eMPL/inv_mpu.c **** 			}
 3005              		.loc 1 2416 5 view .LVU867
2416:DMP/driver/eMPL/inv_mpu.c **** 			}
 3006              		.loc 1 2416 17 is_stmt 0 view .LVU868
 3007 024e 0123     		movs	r3, #1
 3008 0250 A340     		lsls	r3, r3, r4
2416:DMP/driver/eMPL/inv_mpu.c **** 			}
 3009              		.loc 1 2416 12 view .LVU869
 3010 0252 1E43     		orrs	r6, r6, r3
 3011              	.LVL229:
 3012              	.L178:
2412:DMP/driver/eMPL/inv_mpu.c **** 			if(fabs(bias_regular[i]) > gyro_offset_max) {
 3013              		.loc 1 2412 23 is_stmt 1 discriminator 2 view .LVU870
 3014 0254 0134     		adds	r4, r4, #1
 3015              	.LVL230:
 3016              	.L177:
2412:DMP/driver/eMPL/inv_mpu.c **** 			if(fabs(bias_regular[i]) > gyro_offset_max) {
 3017              		.loc 1 2412 17 discriminator 1 view .LVU871
 3018 0256 022C     		cmp	r4, #2
 3019 0258 3FF7E9AE 		bgt	.L150
2413:DMP/driver/eMPL/inv_mpu.c **** 				if(debug)
 3020              		.loc 1 2413 4 view .LVU872
2413:DMP/driver/eMPL/inv_mpu.c **** 				if(debug)
 3021              		.loc 1 2413 24 is_stmt 0 view .LVU873
 3022 025c 57F824A0 		ldr	r10, [r7, r4, lsl #2]
2413:DMP/driver/eMPL/inv_mpu.c **** 				if(debug)
 3023              		.loc 1 2413 7 view .LVU874
 3024 0260 5046     		mov	r0, r10
 3025 0262 FFF7FEFF 		bl	__aeabi_i2d
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 108


 3026              	.LVL231:
 3027 0266 21F00049 		bic	r9, r1, #-2147483648
2413:DMP/driver/eMPL/inv_mpu.c **** 				if(debug)
 3028              		.loc 1 2413 6 view .LVU875
 3029 026a 0022     		movs	r2, #0
 3030 026c 184B     		ldr	r3, .L196+72
 3031 026e 4946     		mov	r1, r9
 3032 0270 FFF7FEFF 		bl	__aeabi_dcmpgt
 3033              	.LVL232:
 3034 0274 0028     		cmp	r0, #0
 3035 0276 EDD0     		beq	.L178
2414:DMP/driver/eMPL/inv_mpu.c **** 					log_i("FAILED: Gyro axis:%d = %ld > 20dps\n", i, bias_regular[i]);
 3036              		.loc 1 2414 5 is_stmt 1 view .LVU876
2414:DMP/driver/eMPL/inv_mpu.c **** 					log_i("FAILED: Gyro axis:%d = %ld > 20dps\n", i, bias_regular[i]);
 3037              		.loc 1 2414 7 is_stmt 0 view .LVU877
 3038 0278 002D     		cmp	r5, #0
 3039 027a E8D0     		beq	.L180
2415:DMP/driver/eMPL/inv_mpu.c **** 				result |= 1 << i;	//Error condition
 3040              		.loc 1 2415 6 is_stmt 1 view .LVU878
 3041 027c 5246     		mov	r2, r10
 3042 027e 2146     		mov	r1, r4
 3043 0280 1548     		ldr	r0, .L196+80
 3044 0282 FFF7FEFF 		bl	printf
 3045              	.LVL233:
 3046 0286 E2E7     		b	.L180
 3047              	.L197:
 3048              		.align	2
 3049              	.L196:
 3050 0288 00000000 		.word	st
 3051 028c 00000000 		.word	.LC4
 3052 0290 00000000 		.word	.LC18
 3053 0294 00000000 		.word	mpu_6500_st_tb
 3054 0298 00008047 		.word	1199570944
 3055 029c 00000343 		.word	1124270080
 3056 02a0 18000000 		.word	.LC19
 3057 02a4 48000000 		.word	.LC7
 3058 02a8 7C000000 		.word	.LC8
 3059 02ac 0000E03F 		.word	1071644672
 3060 02b0 90000000 		.word	.LC9
 3061 02b4 28000000 		.word	.LC20
 3062 02b8 40000000 		.word	.LC21
 3063 02bc 00004E41 		.word	1095630848
 3064 02c0 54000000 		.word	.LC22
 3065 02c4 FC000000 		.word	.LC14
 3066 02c8 0000704A 		.word	1248854016
 3067 02cc 68000000 		.word	.LC23
 3068 02d0 00003441 		.word	1093926912
 3069 02d4 90000000 		.word	.LC24
 3070 02d8 B8000000 		.word	.LC25
 3071              		.cfi_endproc
 3072              	.LFE207:
 3074              		.section	.rodata.mpu_reg_dump.str1.4,"aMS",%progbits,1
 3075              		.align	2
 3076              	.LC26:
 3077 0000 25233578 		.ascii	"%#5x: %#5x\015\012\000"
 3077      3A202523 
 3077      35780D0A 
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 109


 3077      00
 3078              		.section	.text.mpu_reg_dump,"ax",%progbits
 3079              		.align	1
 3080              		.global	mpu_reg_dump
 3081              		.syntax unified
 3082              		.thumb
 3083              		.thumb_func
 3085              	mpu_reg_dump:
 3086              	.LFB168:
 682:DMP/driver/eMPL/inv_mpu.c ****     unsigned char ii;
 3087              		.loc 1 682 1 view -0
 3088              		.cfi_startproc
 3089              		@ args = 0, pretend = 0, frame = 8
 3090              		@ frame_needed = 0, uses_anonymous_args = 0
 3091 0000 10B5     		push	{r4, lr}
 3092              	.LCFI26:
 3093              		.cfi_def_cfa_offset 8
 3094              		.cfi_offset 4, -8
 3095              		.cfi_offset 14, -4
 3096 0002 82B0     		sub	sp, sp, #8
 3097              	.LCFI27:
 3098              		.cfi_def_cfa_offset 16
 683:DMP/driver/eMPL/inv_mpu.c ****     unsigned char data;
 3099              		.loc 1 683 5 view .LVU880
 684:DMP/driver/eMPL/inv_mpu.c **** 
 3100              		.loc 1 684 5 view .LVU881
 686:DMP/driver/eMPL/inv_mpu.c ****         if (ii == st.reg->fifo_r_w || ii == st.reg->mem_r_w)
 3101              		.loc 1 686 5 view .LVU882
 3102              	.LVL234:
 686:DMP/driver/eMPL/inv_mpu.c ****         if (ii == st.reg->fifo_r_w || ii == st.reg->mem_r_w)
 3103              		.loc 1 686 13 is_stmt 0 view .LVU883
 3104 0004 0024     		movs	r4, #0
 686:DMP/driver/eMPL/inv_mpu.c ****         if (ii == st.reg->fifo_r_w || ii == st.reg->mem_r_w)
 3105              		.loc 1 686 5 view .LVU884
 3106 0006 01E0     		b	.L199
 3107              	.LVL235:
 3108              	.L200:
 686:DMP/driver/eMPL/inv_mpu.c ****         if (ii == st.reg->fifo_r_w || ii == st.reg->mem_r_w)
 3109              		.loc 1 686 41 is_stmt 1 discriminator 2 view .LVU885
 3110 0008 0134     		adds	r4, r4, #1
 3111              	.LVL236:
 686:DMP/driver/eMPL/inv_mpu.c ****         if (ii == st.reg->fifo_r_w || ii == st.reg->mem_r_w)
 3112              		.loc 1 686 41 is_stmt 0 discriminator 2 view .LVU886
 3113 000a E4B2     		uxtb	r4, r4
 3114              	.LVL237:
 3115              	.L199:
 686:DMP/driver/eMPL/inv_mpu.c ****         if (ii == st.reg->fifo_r_w || ii == st.reg->mem_r_w)
 3116              		.loc 1 686 21 is_stmt 1 discriminator 1 view .LVU887
 686:DMP/driver/eMPL/inv_mpu.c ****         if (ii == st.reg->fifo_r_w || ii == st.reg->mem_r_w)
 3117              		.loc 1 686 25 is_stmt 0 discriminator 1 view .LVU888
 3118 000c 104B     		ldr	r3, .L206
 3119 000e 5868     		ldr	r0, [r3, #4]
 686:DMP/driver/eMPL/inv_mpu.c ****         if (ii == st.reg->fifo_r_w || ii == st.reg->mem_r_w)
 3120              		.loc 1 686 28 discriminator 1 view .LVU889
 3121 0010 0379     		ldrb	r3, [r0, #4]	@ zero_extendqisi2
 686:DMP/driver/eMPL/inv_mpu.c ****         if (ii == st.reg->fifo_r_w || ii == st.reg->mem_r_w)
 3122              		.loc 1 686 21 discriminator 1 view .LVU890
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 110


 3123 0012 A342     		cmp	r3, r4
 3124 0014 16D9     		bls	.L205
 687:DMP/driver/eMPL/inv_mpu.c ****             continue;
 3125              		.loc 1 687 9 is_stmt 1 view .LVU891
 687:DMP/driver/eMPL/inv_mpu.c ****             continue;
 3126              		.loc 1 687 21 is_stmt 0 view .LVU892
 3127 0016 0E4B     		ldr	r3, .L206
 3128 0018 1B68     		ldr	r3, [r3]
 687:DMP/driver/eMPL/inv_mpu.c ****             continue;
 3129              		.loc 1 687 25 view .LVU893
 3130 001a 5A7B     		ldrb	r2, [r3, #13]	@ zero_extendqisi2
 687:DMP/driver/eMPL/inv_mpu.c ****             continue;
 3131              		.loc 1 687 12 view .LVU894
 3132 001c A242     		cmp	r2, r4
 3133 001e F3D0     		beq	.L200
 687:DMP/driver/eMPL/inv_mpu.c ****             continue;
 3134              		.loc 1 687 51 discriminator 2 view .LVU895
 3135 0020 1B7E     		ldrb	r3, [r3, #24]	@ zero_extendqisi2
 687:DMP/driver/eMPL/inv_mpu.c ****             continue;
 3136              		.loc 1 687 36 discriminator 2 view .LVU896
 3137 0022 A342     		cmp	r3, r4
 3138 0024 F0D0     		beq	.L200
 689:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 3139              		.loc 1 689 9 is_stmt 1 view .LVU897
 689:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 3140              		.loc 1 689 13 is_stmt 0 view .LVU898
 3141 0026 0DF10703 		add	r3, sp, #7
 3142 002a 0122     		movs	r2, #1
 3143 002c 2146     		mov	r1, r4
 3144 002e 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 3145 0030 FFF7FEFF 		bl	MPU_Read_Len
 3146              	.LVL238:
 689:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 3147              		.loc 1 689 12 view .LVU899
 3148 0034 48B9     		cbnz	r0, .L203
 691:DMP/driver/eMPL/inv_mpu.c ****     }
 3149              		.loc 1 691 9 is_stmt 1 view .LVU900
 3150 0036 9DF80720 		ldrb	r2, [sp, #7]	@ zero_extendqisi2
 3151 003a 2146     		mov	r1, r4
 3152 003c 0548     		ldr	r0, .L206+4
 3153 003e FFF7FEFF 		bl	printf
 3154              	.LVL239:
 3155 0042 E1E7     		b	.L200
 3156              	.L205:
 693:DMP/driver/eMPL/inv_mpu.c **** }
 3157              		.loc 1 693 12 is_stmt 0 view .LVU901
 3158 0044 0020     		movs	r0, #0
 3159              	.L198:
 694:DMP/driver/eMPL/inv_mpu.c **** 
 3160              		.loc 1 694 1 view .LVU902
 3161 0046 02B0     		add	sp, sp, #8
 3162              	.LCFI28:
 3163              		.cfi_remember_state
 3164              		.cfi_def_cfa_offset 8
 3165              		@ sp needed
 3166 0048 10BD     		pop	{r4, pc}
 3167              	.LVL240:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 111


 3168              	.L203:
 3169              	.LCFI29:
 3170              		.cfi_restore_state
 690:DMP/driver/eMPL/inv_mpu.c ****         log_i("%#5x: %#5x\r\n", ii, data);
 3171              		.loc 1 690 20 view .LVU903
 3172 004a 4FF0FF30 		mov	r0, #-1
 3173 004e FAE7     		b	.L198
 3174              	.L207:
 3175              		.align	2
 3176              	.L206:
 3177 0050 00000000 		.word	st
 3178 0054 00000000 		.word	.LC26
 3179              		.cfi_endproc
 3180              	.LFE168:
 3182              		.section	.text.mpu_read_reg,"ax",%progbits
 3183              		.align	1
 3184              		.global	mpu_read_reg
 3185              		.syntax unified
 3186              		.thumb
 3187              		.thumb_func
 3189              	mpu_read_reg:
 3190              	.LVL241:
 3191              	.LFB169:
 704:DMP/driver/eMPL/inv_mpu.c ****     if (reg == st.reg->fifo_r_w || reg == st.reg->mem_r_w)
 3192              		.loc 1 704 1 is_stmt 1 view -0
 3193              		.cfi_startproc
 3194              		@ args = 0, pretend = 0, frame = 0
 3195              		@ frame_needed = 0, uses_anonymous_args = 0
 704:DMP/driver/eMPL/inv_mpu.c ****     if (reg == st.reg->fifo_r_w || reg == st.reg->mem_r_w)
 3196              		.loc 1 704 1 is_stmt 0 view .LVU905
 3197 0000 0B46     		mov	r3, r1
 705:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 3198              		.loc 1 705 5 is_stmt 1 view .LVU906
 705:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 3199              		.loc 1 705 18 is_stmt 0 view .LVU907
 3200 0002 0E4A     		ldr	r2, .L217
 3201 0004 1268     		ldr	r2, [r2]
 705:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 3202              		.loc 1 705 22 view .LVU908
 3203 0006 517B     		ldrb	r1, [r2, #13]	@ zero_extendqisi2
 3204              	.LVL242:
 705:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 3205              		.loc 1 705 8 view .LVU909
 3206 0008 8142     		cmp	r1, r0
 3207 000a 0ED0     		beq	.L210
 705:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 3208              		.loc 1 705 49 discriminator 1 view .LVU910
 3209 000c 127E     		ldrb	r2, [r2, #24]	@ zero_extendqisi2
 705:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 3210              		.loc 1 705 33 discriminator 1 view .LVU911
 3211 000e 8242     		cmp	r2, r0
 3212 0010 0ED0     		beq	.L211
 704:DMP/driver/eMPL/inv_mpu.c ****     if (reg == st.reg->fifo_r_w || reg == st.reg->mem_r_w)
 3213              		.loc 1 704 1 view .LVU912
 3214 0012 10B5     		push	{r4, lr}
 3215              	.LCFI30:
 3216              		.cfi_def_cfa_offset 8
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 112


 3217              		.cfi_offset 4, -8
 3218              		.cfi_offset 14, -4
 707:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 3219              		.loc 1 707 5 is_stmt 1 view .LVU913
 707:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 3220              		.loc 1 707 18 is_stmt 0 view .LVU914
 3221 0014 094A     		ldr	r2, .L217
 3222 0016 5468     		ldr	r4, [r2, #4]
 707:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 3223              		.loc 1 707 21 view .LVU915
 3224 0018 2279     		ldrb	r2, [r4, #4]	@ zero_extendqisi2
 707:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 3225              		.loc 1 707 8 view .LVU916
 3226 001a 8242     		cmp	r2, r0
 3227 001c 0BD9     		bls	.L212
 709:DMP/driver/eMPL/inv_mpu.c **** }
 3228              		.loc 1 709 5 is_stmt 1 view .LVU917
 709:DMP/driver/eMPL/inv_mpu.c **** }
 3229              		.loc 1 709 12 is_stmt 0 view .LVU918
 3230 001e 0122     		movs	r2, #1
 3231 0020 0146     		mov	r1, r0
 3232 0022 2078     		ldrb	r0, [r4]	@ zero_extendqisi2
 3233              	.LVL243:
 709:DMP/driver/eMPL/inv_mpu.c **** }
 3234              		.loc 1 709 12 view .LVU919
 3235 0024 FFF7FEFF 		bl	MPU_Read_Len
 3236              	.LVL244:
 3237              	.L208:
 710:DMP/driver/eMPL/inv_mpu.c **** 
 3238              		.loc 1 710 1 view .LVU920
 3239 0028 10BD     		pop	{r4, pc}
 3240              	.LVL245:
 3241              	.L210:
 3242              	.LCFI31:
 3243              		.cfi_def_cfa_offset 0
 3244              		.cfi_restore 4
 3245              		.cfi_restore 14
 706:DMP/driver/eMPL/inv_mpu.c ****     if (reg >= st.hw->num_reg)
 3246              		.loc 1 706 16 view .LVU921
 3247 002a 4FF0FF30 		mov	r0, #-1
 3248              	.LVL246:
 706:DMP/driver/eMPL/inv_mpu.c ****     if (reg >= st.hw->num_reg)
 3249              		.loc 1 706 16 view .LVU922
 3250 002e 7047     		bx	lr
 3251              	.LVL247:
 3252              	.L211:
 706:DMP/driver/eMPL/inv_mpu.c ****     if (reg >= st.hw->num_reg)
 3253              		.loc 1 706 16 view .LVU923
 3254 0030 4FF0FF30 		mov	r0, #-1
 3255              	.LVL248:
 710:DMP/driver/eMPL/inv_mpu.c **** 
 3256              		.loc 1 710 1 view .LVU924
 3257 0034 7047     		bx	lr
 3258              	.LVL249:
 3259              	.L212:
 3260              	.LCFI32:
 3261              		.cfi_def_cfa_offset 8
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 113


 3262              		.cfi_offset 4, -8
 3263              		.cfi_offset 14, -4
 708:DMP/driver/eMPL/inv_mpu.c ****     return i2c_read(st.hw->addr, reg, 1, data);
 3264              		.loc 1 708 16 view .LVU925
 3265 0036 4FF0FF30 		mov	r0, #-1
 3266              	.LVL250:
 708:DMP/driver/eMPL/inv_mpu.c ****     return i2c_read(st.hw->addr, reg, 1, data);
 3267              		.loc 1 708 16 view .LVU926
 3268 003a F5E7     		b	.L208
 3269              	.L218:
 3270              		.align	2
 3271              	.L217:
 3272 003c 00000000 		.word	st
 3273              		.cfi_endproc
 3274              	.LFE169:
 3276              		.section	.text.mpu_get_gyro_reg,"ax",%progbits
 3277              		.align	1
 3278              		.global	mpu_get_gyro_reg
 3279              		.syntax unified
 3280              		.thumb
 3281              		.thumb_func
 3283              	mpu_get_gyro_reg:
 3284              	.LVL251:
 3285              	.LFB172:
 904:DMP/driver/eMPL/inv_mpu.c ****     unsigned char tmp[6];
 3286              		.loc 1 904 1 is_stmt 1 view -0
 3287              		.cfi_startproc
 3288              		@ args = 0, pretend = 0, frame = 8
 3289              		@ frame_needed = 0, uses_anonymous_args = 0
 905:DMP/driver/eMPL/inv_mpu.c **** 
 3290              		.loc 1 905 5 view .LVU928
 907:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 3291              		.loc 1 907 5 view .LVU929
 907:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 3292              		.loc 1 907 22 is_stmt 0 view .LVU930
 3293 0000 174B     		ldr	r3, .L227
 3294 0002 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 907:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 3295              		.loc 1 907 8 view .LVU931
 3296 0004 13F0700F 		tst	r3, #112
 3297 0008 23D0     		beq	.L221
 904:DMP/driver/eMPL/inv_mpu.c ****     unsigned char tmp[6];
 3298              		.loc 1 904 1 view .LVU932
 3299 000a 10B5     		push	{r4, lr}
 3300              	.LCFI33:
 3301              		.cfi_def_cfa_offset 8
 3302              		.cfi_offset 4, -8
 3303              		.cfi_offset 14, -4
 3304 000c 82B0     		sub	sp, sp, #8
 3305              	.LCFI34:
 3306              		.cfi_def_cfa_offset 16
 3307 000e 0446     		mov	r4, r0
 910:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 3308              		.loc 1 910 5 is_stmt 1 view .LVU933
 910:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 3309              		.loc 1 910 20 is_stmt 0 view .LVU934
 3310 0010 134B     		ldr	r3, .L227
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 114


 3311 0012 5868     		ldr	r0, [r3, #4]
 3312              	.LVL252:
 910:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 3313              		.loc 1 910 33 view .LVU935
 3314 0014 1968     		ldr	r1, [r3]
 3315              	.LVL253:
 910:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 3316              		.loc 1 910 9 view .LVU936
 3317 0016 6B46     		mov	r3, sp
 3318 0018 0622     		movs	r2, #6
 3319 001a 897B     		ldrb	r1, [r1, #14]	@ zero_extendqisi2
 3320 001c 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 3321 001e FFF7FEFF 		bl	MPU_Read_Len
 3322              	.LVL254:
 910:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 3323              		.loc 1 910 8 view .LVU937
 3324 0022 C8B9     		cbnz	r0, .L222
 912:DMP/driver/eMPL/inv_mpu.c ****     data[1] = (tmp[2] << 8) | tmp[3];
 3325              		.loc 1 912 5 is_stmt 1 view .LVU938
 912:DMP/driver/eMPL/inv_mpu.c ****     data[1] = (tmp[2] << 8) | tmp[3];
 3326              		.loc 1 912 19 is_stmt 0 view .LVU939
 3327 0024 9DF80020 		ldrb	r2, [sp]	@ zero_extendqisi2
 912:DMP/driver/eMPL/inv_mpu.c ****     data[1] = (tmp[2] << 8) | tmp[3];
 3328              		.loc 1 912 34 view .LVU940
 3329 0028 9DF80130 		ldrb	r3, [sp, #1]	@ zero_extendqisi2
 912:DMP/driver/eMPL/inv_mpu.c ****     data[1] = (tmp[2] << 8) | tmp[3];
 3330              		.loc 1 912 29 view .LVU941
 3331 002c 43EA0223 		orr	r3, r3, r2, lsl #8
 912:DMP/driver/eMPL/inv_mpu.c ****     data[1] = (tmp[2] << 8) | tmp[3];
 3332              		.loc 1 912 13 view .LVU942
 3333 0030 2380     		strh	r3, [r4]	@ movhi
 913:DMP/driver/eMPL/inv_mpu.c ****     data[2] = (tmp[4] << 8) | tmp[5];
 3334              		.loc 1 913 5 is_stmt 1 view .LVU943
 913:DMP/driver/eMPL/inv_mpu.c ****     data[2] = (tmp[4] << 8) | tmp[5];
 3335              		.loc 1 913 19 is_stmt 0 view .LVU944
 3336 0032 9DF80220 		ldrb	r2, [sp, #2]	@ zero_extendqisi2
 913:DMP/driver/eMPL/inv_mpu.c ****     data[2] = (tmp[4] << 8) | tmp[5];
 3337              		.loc 1 913 34 view .LVU945
 3338 0036 9DF80330 		ldrb	r3, [sp, #3]	@ zero_extendqisi2
 913:DMP/driver/eMPL/inv_mpu.c ****     data[2] = (tmp[4] << 8) | tmp[5];
 3339              		.loc 1 913 29 view .LVU946
 3340 003a 43EA0223 		orr	r3, r3, r2, lsl #8
 913:DMP/driver/eMPL/inv_mpu.c ****     data[2] = (tmp[4] << 8) | tmp[5];
 3341              		.loc 1 913 13 view .LVU947
 3342 003e 6380     		strh	r3, [r4, #2]	@ movhi
 914:DMP/driver/eMPL/inv_mpu.c ****     if (timestamp)
 3343              		.loc 1 914 5 is_stmt 1 view .LVU948
 914:DMP/driver/eMPL/inv_mpu.c ****     if (timestamp)
 3344              		.loc 1 914 19 is_stmt 0 view .LVU949
 3345 0040 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
 914:DMP/driver/eMPL/inv_mpu.c ****     if (timestamp)
 3346              		.loc 1 914 34 view .LVU950
 3347 0044 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 914:DMP/driver/eMPL/inv_mpu.c ****     if (timestamp)
 3348              		.loc 1 914 29 view .LVU951
 3349 0048 43EA0223 		orr	r3, r3, r2, lsl #8
 914:DMP/driver/eMPL/inv_mpu.c ****     if (timestamp)
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 115


 3350              		.loc 1 914 13 view .LVU952
 3351 004c A380     		strh	r3, [r4, #4]	@ movhi
 915:DMP/driver/eMPL/inv_mpu.c ****         get_ms(timestamp);
 3352              		.loc 1 915 5 is_stmt 1 view .LVU953
 3353              	.L219:
 918:DMP/driver/eMPL/inv_mpu.c **** 
 3354              		.loc 1 918 1 is_stmt 0 view .LVU954
 3355 004e 02B0     		add	sp, sp, #8
 3356              	.LCFI35:
 3357              		.cfi_def_cfa_offset 8
 3358              		@ sp needed
 3359 0050 10BD     		pop	{r4, pc}
 3360              	.LVL255:
 3361              	.L221:
 3362              	.LCFI36:
 3363              		.cfi_def_cfa_offset 0
 3364              		.cfi_restore 4
 3365              		.cfi_restore 14
 908:DMP/driver/eMPL/inv_mpu.c **** 
 3366              		.loc 1 908 16 view .LVU955
 3367 0052 4FF0FF30 		mov	r0, #-1
 3368              	.LVL256:
 918:DMP/driver/eMPL/inv_mpu.c **** 
 3369              		.loc 1 918 1 view .LVU956
 3370 0056 7047     		bx	lr
 3371              	.LVL257:
 3372              	.L222:
 3373              	.LCFI37:
 3374              		.cfi_def_cfa_offset 16
 3375              		.cfi_offset 4, -8
 3376              		.cfi_offset 14, -4
 911:DMP/driver/eMPL/inv_mpu.c ****     data[0] = (tmp[0] << 8) | tmp[1];
 3377              		.loc 1 911 16 view .LVU957
 3378 0058 4FF0FF30 		mov	r0, #-1
 3379 005c F7E7     		b	.L219
 3380              	.L228:
 3381 005e 00BF     		.align	2
 3382              	.L227:
 3383 0060 00000000 		.word	st
 3384              		.cfi_endproc
 3385              	.LFE172:
 3387              		.section	.text.mpu_get_accel_reg,"ax",%progbits
 3388              		.align	1
 3389              		.global	mpu_get_accel_reg
 3390              		.syntax unified
 3391              		.thumb
 3392              		.thumb_func
 3394              	mpu_get_accel_reg:
 3395              	.LVL258:
 3396              	.LFB173:
 927:DMP/driver/eMPL/inv_mpu.c ****     unsigned char tmp[6];
 3397              		.loc 1 927 1 is_stmt 1 view -0
 3398              		.cfi_startproc
 3399              		@ args = 0, pretend = 0, frame = 8
 3400              		@ frame_needed = 0, uses_anonymous_args = 0
 928:DMP/driver/eMPL/inv_mpu.c **** 
 3401              		.loc 1 928 5 view .LVU959
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 116


 930:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 3402              		.loc 1 930 5 view .LVU960
 930:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 3403              		.loc 1 930 22 is_stmt 0 view .LVU961
 3404 0000 174B     		ldr	r3, .L237
 3405 0002 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 930:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 3406              		.loc 1 930 8 view .LVU962
 3407 0004 13F0080F 		tst	r3, #8
 3408 0008 23D0     		beq	.L231
 927:DMP/driver/eMPL/inv_mpu.c ****     unsigned char tmp[6];
 3409              		.loc 1 927 1 view .LVU963
 3410 000a 10B5     		push	{r4, lr}
 3411              	.LCFI38:
 3412              		.cfi_def_cfa_offset 8
 3413              		.cfi_offset 4, -8
 3414              		.cfi_offset 14, -4
 3415 000c 82B0     		sub	sp, sp, #8
 3416              	.LCFI39:
 3417              		.cfi_def_cfa_offset 16
 3418 000e 0446     		mov	r4, r0
 933:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 3419              		.loc 1 933 5 is_stmt 1 view .LVU964
 933:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 3420              		.loc 1 933 20 is_stmt 0 view .LVU965
 3421 0010 134B     		ldr	r3, .L237
 3422 0012 5868     		ldr	r0, [r3, #4]
 3423              	.LVL259:
 933:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 3424              		.loc 1 933 33 view .LVU966
 3425 0014 1968     		ldr	r1, [r3]
 3426              	.LVL260:
 933:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 3427              		.loc 1 933 9 view .LVU967
 3428 0016 6B46     		mov	r3, sp
 3429 0018 0622     		movs	r2, #6
 3430 001a C97B     		ldrb	r1, [r1, #15]	@ zero_extendqisi2
 3431 001c 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 3432 001e FFF7FEFF 		bl	MPU_Read_Len
 3433              	.LVL261:
 933:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 3434              		.loc 1 933 8 view .LVU968
 3435 0022 C8B9     		cbnz	r0, .L232
 935:DMP/driver/eMPL/inv_mpu.c ****     data[1] = (tmp[2] << 8) | tmp[3];
 3436              		.loc 1 935 5 is_stmt 1 view .LVU969
 935:DMP/driver/eMPL/inv_mpu.c ****     data[1] = (tmp[2] << 8) | tmp[3];
 3437              		.loc 1 935 19 is_stmt 0 view .LVU970
 3438 0024 9DF80020 		ldrb	r2, [sp]	@ zero_extendqisi2
 935:DMP/driver/eMPL/inv_mpu.c ****     data[1] = (tmp[2] << 8) | tmp[3];
 3439              		.loc 1 935 34 view .LVU971
 3440 0028 9DF80130 		ldrb	r3, [sp, #1]	@ zero_extendqisi2
 935:DMP/driver/eMPL/inv_mpu.c ****     data[1] = (tmp[2] << 8) | tmp[3];
 3441              		.loc 1 935 29 view .LVU972
 3442 002c 43EA0223 		orr	r3, r3, r2, lsl #8
 935:DMP/driver/eMPL/inv_mpu.c ****     data[1] = (tmp[2] << 8) | tmp[3];
 3443              		.loc 1 935 13 view .LVU973
 3444 0030 2380     		strh	r3, [r4]	@ movhi
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 117


 936:DMP/driver/eMPL/inv_mpu.c ****     data[2] = (tmp[4] << 8) | tmp[5];
 3445              		.loc 1 936 5 is_stmt 1 view .LVU974
 936:DMP/driver/eMPL/inv_mpu.c ****     data[2] = (tmp[4] << 8) | tmp[5];
 3446              		.loc 1 936 19 is_stmt 0 view .LVU975
 3447 0032 9DF80220 		ldrb	r2, [sp, #2]	@ zero_extendqisi2
 936:DMP/driver/eMPL/inv_mpu.c ****     data[2] = (tmp[4] << 8) | tmp[5];
 3448              		.loc 1 936 34 view .LVU976
 3449 0036 9DF80330 		ldrb	r3, [sp, #3]	@ zero_extendqisi2
 936:DMP/driver/eMPL/inv_mpu.c ****     data[2] = (tmp[4] << 8) | tmp[5];
 3450              		.loc 1 936 29 view .LVU977
 3451 003a 43EA0223 		orr	r3, r3, r2, lsl #8
 936:DMP/driver/eMPL/inv_mpu.c ****     data[2] = (tmp[4] << 8) | tmp[5];
 3452              		.loc 1 936 13 view .LVU978
 3453 003e 6380     		strh	r3, [r4, #2]	@ movhi
 937:DMP/driver/eMPL/inv_mpu.c ****     if (timestamp)
 3454              		.loc 1 937 5 is_stmt 1 view .LVU979
 937:DMP/driver/eMPL/inv_mpu.c ****     if (timestamp)
 3455              		.loc 1 937 19 is_stmt 0 view .LVU980
 3456 0040 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
 937:DMP/driver/eMPL/inv_mpu.c ****     if (timestamp)
 3457              		.loc 1 937 34 view .LVU981
 3458 0044 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 937:DMP/driver/eMPL/inv_mpu.c ****     if (timestamp)
 3459              		.loc 1 937 29 view .LVU982
 3460 0048 43EA0223 		orr	r3, r3, r2, lsl #8
 937:DMP/driver/eMPL/inv_mpu.c ****     if (timestamp)
 3461              		.loc 1 937 13 view .LVU983
 3462 004c A380     		strh	r3, [r4, #4]	@ movhi
 938:DMP/driver/eMPL/inv_mpu.c ****         get_ms(timestamp);
 3463              		.loc 1 938 5 is_stmt 1 view .LVU984
 3464              	.L229:
 941:DMP/driver/eMPL/inv_mpu.c **** 
 3465              		.loc 1 941 1 is_stmt 0 view .LVU985
 3466 004e 02B0     		add	sp, sp, #8
 3467              	.LCFI40:
 3468              		.cfi_def_cfa_offset 8
 3469              		@ sp needed
 3470 0050 10BD     		pop	{r4, pc}
 3471              	.LVL262:
 3472              	.L231:
 3473              	.LCFI41:
 3474              		.cfi_def_cfa_offset 0
 3475              		.cfi_restore 4
 3476              		.cfi_restore 14
 931:DMP/driver/eMPL/inv_mpu.c **** 
 3477              		.loc 1 931 16 view .LVU986
 3478 0052 4FF0FF30 		mov	r0, #-1
 3479              	.LVL263:
 941:DMP/driver/eMPL/inv_mpu.c **** 
 3480              		.loc 1 941 1 view .LVU987
 3481 0056 7047     		bx	lr
 3482              	.LVL264:
 3483              	.L232:
 3484              	.LCFI42:
 3485              		.cfi_def_cfa_offset 16
 3486              		.cfi_offset 4, -8
 3487              		.cfi_offset 14, -4
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 118


 934:DMP/driver/eMPL/inv_mpu.c ****     data[0] = (tmp[0] << 8) | tmp[1];
 3488              		.loc 1 934 16 view .LVU988
 3489 0058 4FF0FF30 		mov	r0, #-1
 3490 005c F7E7     		b	.L229
 3491              	.L238:
 3492 005e 00BF     		.align	2
 3493              	.L237:
 3494 0060 00000000 		.word	st
 3495              		.cfi_endproc
 3496              	.LFE173:
 3498              		.section	.text.mpu_get_temperature,"ax",%progbits
 3499              		.align	1
 3500              		.global	mpu_get_temperature
 3501              		.syntax unified
 3502              		.thumb
 3503              		.thumb_func
 3505              	mpu_get_temperature:
 3506              	.LVL265:
 3507              	.LFB174:
 950:DMP/driver/eMPL/inv_mpu.c ****     unsigned char tmp[2];
 3508              		.loc 1 950 1 is_stmt 1 view -0
 3509              		.cfi_startproc
 3510              		@ args = 0, pretend = 0, frame = 8
 3511              		@ frame_needed = 0, uses_anonymous_args = 0
 951:DMP/driver/eMPL/inv_mpu.c ****     short raw;
 3512              		.loc 1 951 5 view .LVU990
 952:DMP/driver/eMPL/inv_mpu.c **** 
 3513              		.loc 1 952 5 view .LVU991
 954:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 3514              		.loc 1 954 5 view .LVU992
 954:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 3515              		.loc 1 954 22 is_stmt 0 view .LVU993
 3516 0000 1D4B     		ldr	r3, .L247
 3517 0002 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 954:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 3518              		.loc 1 954 8 view .LVU994
 3519 0004 93B3     		cbz	r3, .L241
 950:DMP/driver/eMPL/inv_mpu.c ****     unsigned char tmp[2];
 3520              		.loc 1 950 1 view .LVU995
 3521 0006 10B5     		push	{r4, lr}
 3522              	.LCFI43:
 3523              		.cfi_def_cfa_offset 8
 3524              		.cfi_offset 4, -8
 3525              		.cfi_offset 14, -4
 3526 0008 82B0     		sub	sp, sp, #8
 3527              	.LCFI44:
 3528              		.cfi_def_cfa_offset 16
 3529 000a 0446     		mov	r4, r0
 957:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 3530              		.loc 1 957 5 is_stmt 1 view .LVU996
 957:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 3531              		.loc 1 957 20 is_stmt 0 view .LVU997
 3532 000c 1A4B     		ldr	r3, .L247
 3533 000e 5868     		ldr	r0, [r3, #4]
 3534              	.LVL266:
 957:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 3535              		.loc 1 957 33 view .LVU998
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 119


 3536 0010 1968     		ldr	r1, [r3]
 3537              	.LVL267:
 957:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 3538              		.loc 1 957 9 view .LVU999
 3539 0012 01AB     		add	r3, sp, #4
 3540 0014 0222     		movs	r2, #2
 3541 0016 097C     		ldrb	r1, [r1, #16]	@ zero_extendqisi2
 3542 0018 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 3543 001a FFF7FEFF 		bl	MPU_Read_Len
 3544              	.LVL268:
 957:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 3545              		.loc 1 957 8 view .LVU1000
 3546 001e 40BB     		cbnz	r0, .L242
 959:DMP/driver/eMPL/inv_mpu.c ****     if (timestamp)
 3547              		.loc 1 959 5 is_stmt 1 view .LVU1001
 959:DMP/driver/eMPL/inv_mpu.c ****     if (timestamp)
 3548              		.loc 1 959 15 is_stmt 0 view .LVU1002
 3549 0020 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 959:DMP/driver/eMPL/inv_mpu.c ****     if (timestamp)
 3550              		.loc 1 959 19 view .LVU1003
 3551 0024 1B02     		lsls	r3, r3, #8
 959:DMP/driver/eMPL/inv_mpu.c ****     if (timestamp)
 3552              		.loc 1 959 25 view .LVU1004
 3553 0026 1BB2     		sxth	r3, r3
 959:DMP/driver/eMPL/inv_mpu.c ****     if (timestamp)
 3554              		.loc 1 959 30 view .LVU1005
 3555 0028 9DF80520 		ldrb	r2, [sp, #5]	@ zero_extendqisi2
 959:DMP/driver/eMPL/inv_mpu.c ****     if (timestamp)
 3556              		.loc 1 959 9 view .LVU1006
 3557 002c 1343     		orrs	r3, r3, r2
 3558 002e 07EE903A 		vmov	s15, r3	@ int
 3559              	.LVL269:
 960:DMP/driver/eMPL/inv_mpu.c ****         get_ms(timestamp);
 3560              		.loc 1 960 5 is_stmt 1 view .LVU1007
 963:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 3561              		.loc 1 963 5 view .LVU1008
 963:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 3562              		.loc 1 963 45 is_stmt 0 view .LVU1009
 3563 0032 114B     		ldr	r3, .L247
 3564 0034 5B68     		ldr	r3, [r3, #4]
 963:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 3565              		.loc 1 963 48 view .LVU1010
 3566 0036 B3F90820 		ldrsh	r2, [r3, #8]
 3567 003a 07EE102A 		vmov	s14, r2	@ int
 963:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 3568              		.loc 1 963 36 view .LVU1011
 3569 003e B8EEC77A 		vcvt.f32.s32	s14, s14
 963:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 3570              		.loc 1 963 34 view .LVU1012
 3571 0042 F8EEE77A 		vcvt.f32.s32	s15, s15
 3572              	.LVL270:
 963:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 3573              		.loc 1 963 34 view .LVU1013
 3574 0046 77EEC77A 		vsub.f32	s15, s15, s14
 963:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 3575              		.loc 1 963 70 view .LVU1014
 3576 004a DB88     		ldrh	r3, [r3, #6]
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 120


 3577 004c 06EE903A 		vmov	s13, r3	@ int
 963:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 3578              		.loc 1 963 63 view .LVU1015
 3579 0050 F8EEE66A 		vcvt.f32.s32	s13, s13
 3580 0054 87EEA67A 		vdiv.f32	s14, s15, s13
 963:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 3581              		.loc 1 963 26 view .LVU1016
 3582 0058 DFED087A 		vldr.32	s15, .L247+4
 3583 005c 77EE277A 		vadd.f32	s15, s14, s15
 963:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 3584              		.loc 1 963 15 view .LVU1017
 3585 0060 FEEEC87A 		vcvt.s32.f32	s15, s15, #16
 963:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 3586              		.loc 1 963 13 view .LVU1018
 3587 0064 C4ED007A 		vstr.32	s15, [r4]	@ int
 964:DMP/driver/eMPL/inv_mpu.c **** }
 3588              		.loc 1 964 5 is_stmt 1 view .LVU1019
 3589              	.LVL271:
 3590              	.L239:
 965:DMP/driver/eMPL/inv_mpu.c **** 
 3591              		.loc 1 965 1 is_stmt 0 view .LVU1020
 3592 0068 02B0     		add	sp, sp, #8
 3593              	.LCFI45:
 3594              		.cfi_def_cfa_offset 8
 3595              		@ sp needed
 3596 006a 10BD     		pop	{r4, pc}
 3597              	.LVL272:
 3598              	.L241:
 3599              	.LCFI46:
 3600              		.cfi_def_cfa_offset 0
 3601              		.cfi_restore 4
 3602              		.cfi_restore 14
 955:DMP/driver/eMPL/inv_mpu.c **** 
 3603              		.loc 1 955 16 view .LVU1021
 3604 006c 4FF0FF30 		mov	r0, #-1
 3605              	.LVL273:
 965:DMP/driver/eMPL/inv_mpu.c **** 
 3606              		.loc 1 965 1 view .LVU1022
 3607 0070 7047     		bx	lr
 3608              	.LVL274:
 3609              	.L242:
 3610              	.LCFI47:
 3611              		.cfi_def_cfa_offset 16
 3612              		.cfi_offset 4, -8
 3613              		.cfi_offset 14, -4
 958:DMP/driver/eMPL/inv_mpu.c ****     raw = (tmp[0] << 8) | tmp[1];
 3614              		.loc 1 958 16 view .LVU1023
 3615 0072 4FF0FF30 		mov	r0, #-1
 3616 0076 F7E7     		b	.L239
 3617              	.L248:
 3618              		.align	2
 3619              	.L247:
 3620 0078 00000000 		.word	st
 3621 007c 00000C42 		.word	1108082688
 3622              		.cfi_endproc
 3623              	.LFE174:
 3625              		.section	.text.mpu_read_6500_accel_bias,"ax",%progbits
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 121


 3626              		.align	1
 3627              		.global	mpu_read_6500_accel_bias
 3628              		.syntax unified
 3629              		.thumb
 3630              		.thumb_func
 3632              	mpu_read_6500_accel_bias:
 3633              	.LVL275:
 3634              	.LFB175:
 975:DMP/driver/eMPL/inv_mpu.c **** 	unsigned char data[6];
 3635              		.loc 1 975 48 is_stmt 1 view -0
 3636              		.cfi_startproc
 3637              		@ args = 0, pretend = 0, frame = 8
 3638              		@ frame_needed = 0, uses_anonymous_args = 0
 975:DMP/driver/eMPL/inv_mpu.c **** 	unsigned char data[6];
 3639              		.loc 1 975 48 is_stmt 0 view .LVU1025
 3640 0000 10B5     		push	{r4, lr}
 3641              	.LCFI48:
 3642              		.cfi_def_cfa_offset 8
 3643              		.cfi_offset 4, -8
 3644              		.cfi_offset 14, -4
 3645 0002 82B0     		sub	sp, sp, #8
 3646              	.LCFI49:
 3647              		.cfi_def_cfa_offset 16
 3648 0004 0446     		mov	r4, r0
 976:DMP/driver/eMPL/inv_mpu.c **** 	if (i2c_read(st.hw->addr, 0x77, 2, &data[0]))
 3649              		.loc 1 976 2 is_stmt 1 view .LVU1026
 977:DMP/driver/eMPL/inv_mpu.c **** 		return -1;
 3650              		.loc 1 977 2 view .LVU1027
 977:DMP/driver/eMPL/inv_mpu.c **** 		return -1;
 3651              		.loc 1 977 17 is_stmt 0 view .LVU1028
 3652 0006 1E4B     		ldr	r3, .L255
 3653 0008 5868     		ldr	r0, [r3, #4]
 3654              	.LVL276:
 977:DMP/driver/eMPL/inv_mpu.c **** 		return -1;
 3655              		.loc 1 977 6 view .LVU1029
 3656 000a 6B46     		mov	r3, sp
 3657 000c 0222     		movs	r2, #2
 3658 000e 7721     		movs	r1, #119
 3659 0010 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 3660 0012 FFF7FEFF 		bl	MPU_Read_Len
 3661              	.LVL277:
 977:DMP/driver/eMPL/inv_mpu.c **** 		return -1;
 3662              		.loc 1 977 5 view .LVU1030
 3663 0016 48BB     		cbnz	r0, .L251
 979:DMP/driver/eMPL/inv_mpu.c **** 		return -1;
 3664              		.loc 1 979 2 is_stmt 1 view .LVU1031
 979:DMP/driver/eMPL/inv_mpu.c **** 		return -1;
 3665              		.loc 1 979 17 is_stmt 0 view .LVU1032
 3666 0018 194B     		ldr	r3, .L255
 3667 001a 5868     		ldr	r0, [r3, #4]
 979:DMP/driver/eMPL/inv_mpu.c **** 		return -1;
 3668              		.loc 1 979 6 view .LVU1033
 3669 001c 0DF10203 		add	r3, sp, #2
 3670 0020 0222     		movs	r2, #2
 3671 0022 7A21     		movs	r1, #122
 3672 0024 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 3673 0026 FFF7FEFF 		bl	MPU_Read_Len
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 122


 3674              	.LVL278:
 979:DMP/driver/eMPL/inv_mpu.c **** 		return -1;
 3675              		.loc 1 979 5 view .LVU1034
 3676 002a 10BB     		cbnz	r0, .L252
 981:DMP/driver/eMPL/inv_mpu.c **** 		return -1;
 3677              		.loc 1 981 2 is_stmt 1 view .LVU1035
 981:DMP/driver/eMPL/inv_mpu.c **** 		return -1;
 3678              		.loc 1 981 17 is_stmt 0 view .LVU1036
 3679 002c 144B     		ldr	r3, .L255
 3680 002e 5868     		ldr	r0, [r3, #4]
 981:DMP/driver/eMPL/inv_mpu.c **** 		return -1;
 3681              		.loc 1 981 6 view .LVU1037
 3682 0030 01AB     		add	r3, sp, #4
 3683 0032 0222     		movs	r2, #2
 3684 0034 7D21     		movs	r1, #125
 3685 0036 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 3686 0038 FFF7FEFF 		bl	MPU_Read_Len
 3687              	.LVL279:
 981:DMP/driver/eMPL/inv_mpu.c **** 		return -1;
 3688              		.loc 1 981 5 view .LVU1038
 3689 003c E0B9     		cbnz	r0, .L253
 983:DMP/driver/eMPL/inv_mpu.c **** 	accel_bias[1] = ((long)data[2]<<8) | data[3];
 3690              		.loc 1 983 2 is_stmt 1 view .LVU1039
 983:DMP/driver/eMPL/inv_mpu.c **** 	accel_bias[1] = ((long)data[2]<<8) | data[3];
 3691              		.loc 1 983 29 is_stmt 0 view .LVU1040
 3692 003e 9DF80020 		ldrb	r2, [sp]	@ zero_extendqisi2
 983:DMP/driver/eMPL/inv_mpu.c **** 	accel_bias[1] = ((long)data[2]<<8) | data[3];
 3693              		.loc 1 983 43 view .LVU1041
 3694 0042 9DF80130 		ldrb	r3, [sp, #1]	@ zero_extendqisi2
 983:DMP/driver/eMPL/inv_mpu.c **** 	accel_bias[1] = ((long)data[2]<<8) | data[3];
 3695              		.loc 1 983 37 view .LVU1042
 3696 0046 43EA0223 		orr	r3, r3, r2, lsl #8
 983:DMP/driver/eMPL/inv_mpu.c **** 	accel_bias[1] = ((long)data[2]<<8) | data[3];
 3697              		.loc 1 983 16 view .LVU1043
 3698 004a 2360     		str	r3, [r4]
 984:DMP/driver/eMPL/inv_mpu.c **** 	accel_bias[2] = ((long)data[4]<<8) | data[5];
 3699              		.loc 1 984 2 is_stmt 1 view .LVU1044
 984:DMP/driver/eMPL/inv_mpu.c **** 	accel_bias[2] = ((long)data[4]<<8) | data[5];
 3700              		.loc 1 984 29 is_stmt 0 view .LVU1045
 3701 004c 9DF80220 		ldrb	r2, [sp, #2]	@ zero_extendqisi2
 984:DMP/driver/eMPL/inv_mpu.c **** 	accel_bias[2] = ((long)data[4]<<8) | data[5];
 3702              		.loc 1 984 43 view .LVU1046
 3703 0050 9DF80330 		ldrb	r3, [sp, #3]	@ zero_extendqisi2
 984:DMP/driver/eMPL/inv_mpu.c **** 	accel_bias[2] = ((long)data[4]<<8) | data[5];
 3704              		.loc 1 984 37 view .LVU1047
 3705 0054 43EA0223 		orr	r3, r3, r2, lsl #8
 984:DMP/driver/eMPL/inv_mpu.c **** 	accel_bias[2] = ((long)data[4]<<8) | data[5];
 3706              		.loc 1 984 16 view .LVU1048
 3707 0058 6360     		str	r3, [r4, #4]
 985:DMP/driver/eMPL/inv_mpu.c **** 	return 0;
 3708              		.loc 1 985 2 is_stmt 1 view .LVU1049
 985:DMP/driver/eMPL/inv_mpu.c **** 	return 0;
 3709              		.loc 1 985 29 is_stmt 0 view .LVU1050
 3710 005a 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
 985:DMP/driver/eMPL/inv_mpu.c **** 	return 0;
 3711              		.loc 1 985 43 view .LVU1051
 3712 005e 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 123


 985:DMP/driver/eMPL/inv_mpu.c **** 	return 0;
 3713              		.loc 1 985 37 view .LVU1052
 3714 0062 43EA0223 		orr	r3, r3, r2, lsl #8
 985:DMP/driver/eMPL/inv_mpu.c **** 	return 0;
 3715              		.loc 1 985 16 view .LVU1053
 3716 0066 A360     		str	r3, [r4, #8]
 986:DMP/driver/eMPL/inv_mpu.c **** }
 3717              		.loc 1 986 2 is_stmt 1 view .LVU1054
 3718              	.L249:
 987:DMP/driver/eMPL/inv_mpu.c **** 
 3719              		.loc 1 987 1 is_stmt 0 view .LVU1055
 3720 0068 02B0     		add	sp, sp, #8
 3721              	.LCFI50:
 3722              		.cfi_remember_state
 3723              		.cfi_def_cfa_offset 8
 3724              		@ sp needed
 3725 006a 10BD     		pop	{r4, pc}
 3726              	.LVL280:
 3727              	.L251:
 3728              	.LCFI51:
 3729              		.cfi_restore_state
 978:DMP/driver/eMPL/inv_mpu.c **** 	if (i2c_read(st.hw->addr, 0x7A, 2, &data[2]))
 3730              		.loc 1 978 10 view .LVU1056
 3731 006c 4FF0FF30 		mov	r0, #-1
 3732 0070 FAE7     		b	.L249
 3733              	.L252:
 980:DMP/driver/eMPL/inv_mpu.c **** 	if (i2c_read(st.hw->addr, 0x7D, 2, &data[4]))
 3734              		.loc 1 980 10 view .LVU1057
 3735 0072 4FF0FF30 		mov	r0, #-1
 3736 0076 F7E7     		b	.L249
 3737              	.L253:
 982:DMP/driver/eMPL/inv_mpu.c **** 	accel_bias[0] = ((long)data[0]<<8) | data[1];
 3738              		.loc 1 982 10 view .LVU1058
 3739 0078 4FF0FF30 		mov	r0, #-1
 3740 007c F4E7     		b	.L249
 3741              	.L256:
 3742 007e 00BF     		.align	2
 3743              	.L255:
 3744 0080 00000000 		.word	st
 3745              		.cfi_endproc
 3746              	.LFE175:
 3748              		.section	.text.mpu_read_6050_accel_bias,"ax",%progbits
 3749              		.align	1
 3750              		.global	mpu_read_6050_accel_bias
 3751              		.syntax unified
 3752              		.thumb
 3753              		.thumb_func
 3755              	mpu_read_6050_accel_bias:
 3756              	.LVL281:
 3757              	.LFB176:
 997:DMP/driver/eMPL/inv_mpu.c **** 	unsigned char data[6];
 3758              		.loc 1 997 48 is_stmt 1 view -0
 3759              		.cfi_startproc
 3760              		@ args = 0, pretend = 0, frame = 8
 3761              		@ frame_needed = 0, uses_anonymous_args = 0
 997:DMP/driver/eMPL/inv_mpu.c **** 	unsigned char data[6];
 3762              		.loc 1 997 48 is_stmt 0 view .LVU1060
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 124


 3763 0000 10B5     		push	{r4, lr}
 3764              	.LCFI52:
 3765              		.cfi_def_cfa_offset 8
 3766              		.cfi_offset 4, -8
 3767              		.cfi_offset 14, -4
 3768 0002 82B0     		sub	sp, sp, #8
 3769              	.LCFI53:
 3770              		.cfi_def_cfa_offset 16
 3771 0004 0446     		mov	r4, r0
 998:DMP/driver/eMPL/inv_mpu.c **** 	if (i2c_read(st.hw->addr, 0x06, 2, &data[0]))
 3772              		.loc 1 998 2 is_stmt 1 view .LVU1061
 999:DMP/driver/eMPL/inv_mpu.c **** 		return -1;
 3773              		.loc 1 999 2 view .LVU1062
 999:DMP/driver/eMPL/inv_mpu.c **** 		return -1;
 3774              		.loc 1 999 17 is_stmt 0 view .LVU1063
 3775 0006 1E4B     		ldr	r3, .L263
 3776 0008 5868     		ldr	r0, [r3, #4]
 3777              	.LVL282:
 999:DMP/driver/eMPL/inv_mpu.c **** 		return -1;
 3778              		.loc 1 999 6 view .LVU1064
 3779 000a 6B46     		mov	r3, sp
 3780 000c 0222     		movs	r2, #2
 3781 000e 0621     		movs	r1, #6
 3782 0010 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 3783 0012 FFF7FEFF 		bl	MPU_Read_Len
 3784              	.LVL283:
 999:DMP/driver/eMPL/inv_mpu.c **** 		return -1;
 3785              		.loc 1 999 5 view .LVU1065
 3786 0016 48BB     		cbnz	r0, .L259
1001:DMP/driver/eMPL/inv_mpu.c **** 		return -1;
 3787              		.loc 1 1001 2 is_stmt 1 view .LVU1066
1001:DMP/driver/eMPL/inv_mpu.c **** 		return -1;
 3788              		.loc 1 1001 17 is_stmt 0 view .LVU1067
 3789 0018 194B     		ldr	r3, .L263
 3790 001a 5868     		ldr	r0, [r3, #4]
1001:DMP/driver/eMPL/inv_mpu.c **** 		return -1;
 3791              		.loc 1 1001 6 view .LVU1068
 3792 001c 0DF10203 		add	r3, sp, #2
 3793 0020 0222     		movs	r2, #2
 3794 0022 0821     		movs	r1, #8
 3795 0024 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 3796 0026 FFF7FEFF 		bl	MPU_Read_Len
 3797              	.LVL284:
1001:DMP/driver/eMPL/inv_mpu.c **** 		return -1;
 3798              		.loc 1 1001 5 view .LVU1069
 3799 002a 10BB     		cbnz	r0, .L260
1003:DMP/driver/eMPL/inv_mpu.c **** 		return -1;
 3800              		.loc 1 1003 2 is_stmt 1 view .LVU1070
1003:DMP/driver/eMPL/inv_mpu.c **** 		return -1;
 3801              		.loc 1 1003 17 is_stmt 0 view .LVU1071
 3802 002c 144B     		ldr	r3, .L263
 3803 002e 5868     		ldr	r0, [r3, #4]
1003:DMP/driver/eMPL/inv_mpu.c **** 		return -1;
 3804              		.loc 1 1003 6 view .LVU1072
 3805 0030 01AB     		add	r3, sp, #4
 3806 0032 0222     		movs	r2, #2
 3807 0034 0A21     		movs	r1, #10
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 125


 3808 0036 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 3809 0038 FFF7FEFF 		bl	MPU_Read_Len
 3810              	.LVL285:
1003:DMP/driver/eMPL/inv_mpu.c **** 		return -1;
 3811              		.loc 1 1003 5 view .LVU1073
 3812 003c E0B9     		cbnz	r0, .L261
1005:DMP/driver/eMPL/inv_mpu.c **** 	accel_bias[1] = ((long)data[2]<<8) | data[3];
 3813              		.loc 1 1005 2 is_stmt 1 view .LVU1074
1005:DMP/driver/eMPL/inv_mpu.c **** 	accel_bias[1] = ((long)data[2]<<8) | data[3];
 3814              		.loc 1 1005 29 is_stmt 0 view .LVU1075
 3815 003e 9DF80020 		ldrb	r2, [sp]	@ zero_extendqisi2
1005:DMP/driver/eMPL/inv_mpu.c **** 	accel_bias[1] = ((long)data[2]<<8) | data[3];
 3816              		.loc 1 1005 43 view .LVU1076
 3817 0042 9DF80130 		ldrb	r3, [sp, #1]	@ zero_extendqisi2
1005:DMP/driver/eMPL/inv_mpu.c **** 	accel_bias[1] = ((long)data[2]<<8) | data[3];
 3818              		.loc 1 1005 37 view .LVU1077
 3819 0046 43EA0223 		orr	r3, r3, r2, lsl #8
1005:DMP/driver/eMPL/inv_mpu.c **** 	accel_bias[1] = ((long)data[2]<<8) | data[3];
 3820              		.loc 1 1005 16 view .LVU1078
 3821 004a 2360     		str	r3, [r4]
1006:DMP/driver/eMPL/inv_mpu.c **** 	accel_bias[2] = ((long)data[4]<<8) | data[5];
 3822              		.loc 1 1006 2 is_stmt 1 view .LVU1079
1006:DMP/driver/eMPL/inv_mpu.c **** 	accel_bias[2] = ((long)data[4]<<8) | data[5];
 3823              		.loc 1 1006 29 is_stmt 0 view .LVU1080
 3824 004c 9DF80220 		ldrb	r2, [sp, #2]	@ zero_extendqisi2
1006:DMP/driver/eMPL/inv_mpu.c **** 	accel_bias[2] = ((long)data[4]<<8) | data[5];
 3825              		.loc 1 1006 43 view .LVU1081
 3826 0050 9DF80330 		ldrb	r3, [sp, #3]	@ zero_extendqisi2
1006:DMP/driver/eMPL/inv_mpu.c **** 	accel_bias[2] = ((long)data[4]<<8) | data[5];
 3827              		.loc 1 1006 37 view .LVU1082
 3828 0054 43EA0223 		orr	r3, r3, r2, lsl #8
1006:DMP/driver/eMPL/inv_mpu.c **** 	accel_bias[2] = ((long)data[4]<<8) | data[5];
 3829              		.loc 1 1006 16 view .LVU1083
 3830 0058 6360     		str	r3, [r4, #4]
1007:DMP/driver/eMPL/inv_mpu.c **** 	return 0;
 3831              		.loc 1 1007 2 is_stmt 1 view .LVU1084
1007:DMP/driver/eMPL/inv_mpu.c **** 	return 0;
 3832              		.loc 1 1007 29 is_stmt 0 view .LVU1085
 3833 005a 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
1007:DMP/driver/eMPL/inv_mpu.c **** 	return 0;
 3834              		.loc 1 1007 43 view .LVU1086
 3835 005e 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
1007:DMP/driver/eMPL/inv_mpu.c **** 	return 0;
 3836              		.loc 1 1007 37 view .LVU1087
 3837 0062 43EA0223 		orr	r3, r3, r2, lsl #8
1007:DMP/driver/eMPL/inv_mpu.c **** 	return 0;
 3838              		.loc 1 1007 16 view .LVU1088
 3839 0066 A360     		str	r3, [r4, #8]
1008:DMP/driver/eMPL/inv_mpu.c **** }
 3840              		.loc 1 1008 2 is_stmt 1 view .LVU1089
 3841              	.L257:
1009:DMP/driver/eMPL/inv_mpu.c **** 
 3842              		.loc 1 1009 1 is_stmt 0 view .LVU1090
 3843 0068 02B0     		add	sp, sp, #8
 3844              	.LCFI54:
 3845              		.cfi_remember_state
 3846              		.cfi_def_cfa_offset 8
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 126


 3847              		@ sp needed
 3848 006a 10BD     		pop	{r4, pc}
 3849              	.LVL286:
 3850              	.L259:
 3851              	.LCFI55:
 3852              		.cfi_restore_state
1000:DMP/driver/eMPL/inv_mpu.c **** 	if (i2c_read(st.hw->addr, 0x08, 2, &data[2]))
 3853              		.loc 1 1000 10 view .LVU1091
 3854 006c 4FF0FF30 		mov	r0, #-1
 3855 0070 FAE7     		b	.L257
 3856              	.L260:
1002:DMP/driver/eMPL/inv_mpu.c **** 	if (i2c_read(st.hw->addr, 0x0A, 2, &data[4]))
 3857              		.loc 1 1002 10 view .LVU1092
 3858 0072 4FF0FF30 		mov	r0, #-1
 3859 0076 F7E7     		b	.L257
 3860              	.L261:
1004:DMP/driver/eMPL/inv_mpu.c **** 	accel_bias[0] = ((long)data[0]<<8) | data[1];
 3861              		.loc 1 1004 10 view .LVU1093
 3862 0078 4FF0FF30 		mov	r0, #-1
 3863 007c F4E7     		b	.L257
 3864              	.L264:
 3865 007e 00BF     		.align	2
 3866              	.L263:
 3867 0080 00000000 		.word	st
 3868              		.cfi_endproc
 3869              	.LFE176:
 3871              		.section	.text.mpu_read_6500_gyro_bias,"ax",%progbits
 3872              		.align	1
 3873              		.global	mpu_read_6500_gyro_bias
 3874              		.syntax unified
 3875              		.thumb
 3876              		.thumb_func
 3878              	mpu_read_6500_gyro_bias:
 3879              	.LVL287:
 3880              	.LFB177:
1011:DMP/driver/eMPL/inv_mpu.c **** 	unsigned char data[6];
 3881              		.loc 1 1011 46 is_stmt 1 view -0
 3882              		.cfi_startproc
 3883              		@ args = 0, pretend = 0, frame = 8
 3884              		@ frame_needed = 0, uses_anonymous_args = 0
1011:DMP/driver/eMPL/inv_mpu.c **** 	unsigned char data[6];
 3885              		.loc 1 1011 46 is_stmt 0 view .LVU1095
 3886 0000 10B5     		push	{r4, lr}
 3887              	.LCFI56:
 3888              		.cfi_def_cfa_offset 8
 3889              		.cfi_offset 4, -8
 3890              		.cfi_offset 14, -4
 3891 0002 82B0     		sub	sp, sp, #8
 3892              	.LCFI57:
 3893              		.cfi_def_cfa_offset 16
 3894 0004 0446     		mov	r4, r0
1012:DMP/driver/eMPL/inv_mpu.c **** 	if (i2c_read(st.hw->addr, 0x13, 2, &data[0]))
 3895              		.loc 1 1012 2 is_stmt 1 view .LVU1096
1013:DMP/driver/eMPL/inv_mpu.c **** 		return -1;
 3896              		.loc 1 1013 2 view .LVU1097
1013:DMP/driver/eMPL/inv_mpu.c **** 		return -1;
 3897              		.loc 1 1013 17 is_stmt 0 view .LVU1098
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 127


 3898 0006 1E4B     		ldr	r3, .L271
 3899 0008 5868     		ldr	r0, [r3, #4]
 3900              	.LVL288:
1013:DMP/driver/eMPL/inv_mpu.c **** 		return -1;
 3901              		.loc 1 1013 6 view .LVU1099
 3902 000a 6B46     		mov	r3, sp
 3903 000c 0222     		movs	r2, #2
 3904 000e 1321     		movs	r1, #19
 3905 0010 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 3906 0012 FFF7FEFF 		bl	MPU_Read_Len
 3907              	.LVL289:
1013:DMP/driver/eMPL/inv_mpu.c **** 		return -1;
 3908              		.loc 1 1013 5 view .LVU1100
 3909 0016 48BB     		cbnz	r0, .L267
1015:DMP/driver/eMPL/inv_mpu.c **** 		return -1;
 3910              		.loc 1 1015 2 is_stmt 1 view .LVU1101
1015:DMP/driver/eMPL/inv_mpu.c **** 		return -1;
 3911              		.loc 1 1015 17 is_stmt 0 view .LVU1102
 3912 0018 194B     		ldr	r3, .L271
 3913 001a 5868     		ldr	r0, [r3, #4]
1015:DMP/driver/eMPL/inv_mpu.c **** 		return -1;
 3914              		.loc 1 1015 6 view .LVU1103
 3915 001c 0DF10203 		add	r3, sp, #2
 3916 0020 0222     		movs	r2, #2
 3917 0022 1521     		movs	r1, #21
 3918 0024 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 3919 0026 FFF7FEFF 		bl	MPU_Read_Len
 3920              	.LVL290:
1015:DMP/driver/eMPL/inv_mpu.c **** 		return -1;
 3921              		.loc 1 1015 5 view .LVU1104
 3922 002a 10BB     		cbnz	r0, .L268
1017:DMP/driver/eMPL/inv_mpu.c **** 		return -1;
 3923              		.loc 1 1017 2 is_stmt 1 view .LVU1105
1017:DMP/driver/eMPL/inv_mpu.c **** 		return -1;
 3924              		.loc 1 1017 17 is_stmt 0 view .LVU1106
 3925 002c 144B     		ldr	r3, .L271
 3926 002e 5868     		ldr	r0, [r3, #4]
1017:DMP/driver/eMPL/inv_mpu.c **** 		return -1;
 3927              		.loc 1 1017 6 view .LVU1107
 3928 0030 01AB     		add	r3, sp, #4
 3929 0032 0222     		movs	r2, #2
 3930 0034 1721     		movs	r1, #23
 3931 0036 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 3932 0038 FFF7FEFF 		bl	MPU_Read_Len
 3933              	.LVL291:
1017:DMP/driver/eMPL/inv_mpu.c **** 		return -1;
 3934              		.loc 1 1017 5 view .LVU1108
 3935 003c E0B9     		cbnz	r0, .L269
1019:DMP/driver/eMPL/inv_mpu.c **** 	gyro_bias[1] = ((long)data[2]<<8) | data[3];
 3936              		.loc 1 1019 2 is_stmt 1 view .LVU1109
1019:DMP/driver/eMPL/inv_mpu.c **** 	gyro_bias[1] = ((long)data[2]<<8) | data[3];
 3937              		.loc 1 1019 28 is_stmt 0 view .LVU1110
 3938 003e 9DF80020 		ldrb	r2, [sp]	@ zero_extendqisi2
1019:DMP/driver/eMPL/inv_mpu.c **** 	gyro_bias[1] = ((long)data[2]<<8) | data[3];
 3939              		.loc 1 1019 42 view .LVU1111
 3940 0042 9DF80130 		ldrb	r3, [sp, #1]	@ zero_extendqisi2
1019:DMP/driver/eMPL/inv_mpu.c **** 	gyro_bias[1] = ((long)data[2]<<8) | data[3];
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 128


 3941              		.loc 1 1019 36 view .LVU1112
 3942 0046 43EA0223 		orr	r3, r3, r2, lsl #8
1019:DMP/driver/eMPL/inv_mpu.c **** 	gyro_bias[1] = ((long)data[2]<<8) | data[3];
 3943              		.loc 1 1019 15 view .LVU1113
 3944 004a 2360     		str	r3, [r4]
1020:DMP/driver/eMPL/inv_mpu.c **** 	gyro_bias[2] = ((long)data[4]<<8) | data[5];
 3945              		.loc 1 1020 2 is_stmt 1 view .LVU1114
1020:DMP/driver/eMPL/inv_mpu.c **** 	gyro_bias[2] = ((long)data[4]<<8) | data[5];
 3946              		.loc 1 1020 28 is_stmt 0 view .LVU1115
 3947 004c 9DF80220 		ldrb	r2, [sp, #2]	@ zero_extendqisi2
1020:DMP/driver/eMPL/inv_mpu.c **** 	gyro_bias[2] = ((long)data[4]<<8) | data[5];
 3948              		.loc 1 1020 42 view .LVU1116
 3949 0050 9DF80330 		ldrb	r3, [sp, #3]	@ zero_extendqisi2
1020:DMP/driver/eMPL/inv_mpu.c **** 	gyro_bias[2] = ((long)data[4]<<8) | data[5];
 3950              		.loc 1 1020 36 view .LVU1117
 3951 0054 43EA0223 		orr	r3, r3, r2, lsl #8
1020:DMP/driver/eMPL/inv_mpu.c **** 	gyro_bias[2] = ((long)data[4]<<8) | data[5];
 3952              		.loc 1 1020 15 view .LVU1118
 3953 0058 6360     		str	r3, [r4, #4]
1021:DMP/driver/eMPL/inv_mpu.c **** 	return 0;
 3954              		.loc 1 1021 2 is_stmt 1 view .LVU1119
1021:DMP/driver/eMPL/inv_mpu.c **** 	return 0;
 3955              		.loc 1 1021 28 is_stmt 0 view .LVU1120
 3956 005a 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
1021:DMP/driver/eMPL/inv_mpu.c **** 	return 0;
 3957              		.loc 1 1021 42 view .LVU1121
 3958 005e 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
1021:DMP/driver/eMPL/inv_mpu.c **** 	return 0;
 3959              		.loc 1 1021 36 view .LVU1122
 3960 0062 43EA0223 		orr	r3, r3, r2, lsl #8
1021:DMP/driver/eMPL/inv_mpu.c **** 	return 0;
 3961              		.loc 1 1021 15 view .LVU1123
 3962 0066 A360     		str	r3, [r4, #8]
1022:DMP/driver/eMPL/inv_mpu.c **** }
 3963              		.loc 1 1022 2 is_stmt 1 view .LVU1124
 3964              	.L265:
1023:DMP/driver/eMPL/inv_mpu.c **** 
 3965              		.loc 1 1023 1 is_stmt 0 view .LVU1125
 3966 0068 02B0     		add	sp, sp, #8
 3967              	.LCFI58:
 3968              		.cfi_remember_state
 3969              		.cfi_def_cfa_offset 8
 3970              		@ sp needed
 3971 006a 10BD     		pop	{r4, pc}
 3972              	.LVL292:
 3973              	.L267:
 3974              	.LCFI59:
 3975              		.cfi_restore_state
1014:DMP/driver/eMPL/inv_mpu.c **** 	if (i2c_read(st.hw->addr, 0x15, 2, &data[2]))
 3976              		.loc 1 1014 10 view .LVU1126
 3977 006c 4FF0FF30 		mov	r0, #-1
 3978 0070 FAE7     		b	.L265
 3979              	.L268:
1016:DMP/driver/eMPL/inv_mpu.c **** 	if (i2c_read(st.hw->addr, 0x17, 2, &data[4]))
 3980              		.loc 1 1016 10 view .LVU1127
 3981 0072 4FF0FF30 		mov	r0, #-1
 3982 0076 F7E7     		b	.L265
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 129


 3983              	.L269:
1018:DMP/driver/eMPL/inv_mpu.c **** 	gyro_bias[0] = ((long)data[0]<<8) | data[1];
 3984              		.loc 1 1018 10 view .LVU1128
 3985 0078 4FF0FF30 		mov	r0, #-1
 3986 007c F4E7     		b	.L265
 3987              	.L272:
 3988 007e 00BF     		.align	2
 3989              	.L271:
 3990 0080 00000000 		.word	st
 3991              		.cfi_endproc
 3992              	.LFE177:
 3994              		.section	.text.mpu_set_gyro_bias_reg,"ax",%progbits
 3995              		.align	1
 3996              		.global	mpu_set_gyro_bias_reg
 3997              		.syntax unified
 3998              		.thumb
 3999              		.thumb_func
 4001              	mpu_set_gyro_bias_reg:
 4002              	.LVL293:
 4003              	.LFB178:
1034:DMP/driver/eMPL/inv_mpu.c ****     unsigned char data[6] = {0, 0, 0, 0, 0, 0};
 4004              		.loc 1 1034 1 is_stmt 1 view -0
 4005              		.cfi_startproc
 4006              		@ args = 0, pretend = 0, frame = 8
 4007              		@ frame_needed = 0, uses_anonymous_args = 0
1034:DMP/driver/eMPL/inv_mpu.c ****     unsigned char data[6] = {0, 0, 0, 0, 0, 0};
 4008              		.loc 1 1034 1 is_stmt 0 view .LVU1130
 4009 0000 00B5     		push	{lr}
 4010              	.LCFI60:
 4011              		.cfi_def_cfa_offset 4
 4012              		.cfi_offset 14, -4
 4013 0002 83B0     		sub	sp, sp, #12
 4014              	.LCFI61:
 4015              		.cfi_def_cfa_offset 16
 4016 0004 0246     		mov	r2, r0
1035:DMP/driver/eMPL/inv_mpu.c ****     int i=0;
 4017              		.loc 1 1035 5 is_stmt 1 view .LVU1131
1035:DMP/driver/eMPL/inv_mpu.c ****     int i=0;
 4018              		.loc 1 1035 19 is_stmt 0 view .LVU1132
 4019 0006 254B     		ldr	r3, .L281
 4020 0008 93E80300 		ldm	r3, {r0, r1}
 4021              	.LVL294:
1035:DMP/driver/eMPL/inv_mpu.c ****     int i=0;
 4022              		.loc 1 1035 19 view .LVU1133
 4023 000c 0090     		str	r0, [sp]
 4024 000e ADF80410 		strh	r1, [sp, #4]	@ movhi
1036:DMP/driver/eMPL/inv_mpu.c ****     for(i=0;i<3;i++) {
 4025              		.loc 1 1036 5 is_stmt 1 view .LVU1134
 4026              	.LVL295:
1037:DMP/driver/eMPL/inv_mpu.c ****     	gyro_bias[i]= (-gyro_bias[i]);
 4027              		.loc 1 1037 5 view .LVU1135
1037:DMP/driver/eMPL/inv_mpu.c ****     	gyro_bias[i]= (-gyro_bias[i]);
 4028              		.loc 1 1037 10 is_stmt 0 view .LVU1136
 4029 0012 0023     		movs	r3, #0
1037:DMP/driver/eMPL/inv_mpu.c ****     	gyro_bias[i]= (-gyro_bias[i]);
 4030              		.loc 1 1037 5 view .LVU1137
 4031 0014 05E0     		b	.L274
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 130


 4032              	.LVL296:
 4033              	.L275:
1038:DMP/driver/eMPL/inv_mpu.c ****     }
 4034              		.loc 1 1038 6 is_stmt 1 discriminator 3 view .LVU1138
1038:DMP/driver/eMPL/inv_mpu.c ****     }
 4035              		.loc 1 1038 31 is_stmt 0 discriminator 3 view .LVU1139
 4036 0016 52F82310 		ldr	r1, [r2, r3, lsl #2]
1038:DMP/driver/eMPL/inv_mpu.c ****     }
 4037              		.loc 1 1038 21 discriminator 3 view .LVU1140
 4038 001a 4942     		rsbs	r1, r1, #0
1038:DMP/driver/eMPL/inv_mpu.c ****     }
 4039              		.loc 1 1038 18 discriminator 3 view .LVU1141
 4040 001c 42F82310 		str	r1, [r2, r3, lsl #2]
1037:DMP/driver/eMPL/inv_mpu.c ****     	gyro_bias[i]= (-gyro_bias[i]);
 4041              		.loc 1 1037 18 is_stmt 1 discriminator 3 view .LVU1142
 4042 0020 0133     		adds	r3, r3, #1
 4043              	.LVL297:
 4044              	.L274:
1037:DMP/driver/eMPL/inv_mpu.c ****     	gyro_bias[i]= (-gyro_bias[i]);
 4045              		.loc 1 1037 14 discriminator 1 view .LVU1143
 4046 0022 022B     		cmp	r3, #2
 4047 0024 F7DD     		ble	.L275
1040:DMP/driver/eMPL/inv_mpu.c ****     data[1] = (gyro_bias[0]) & 0xff;
 4048              		.loc 1 1040 5 view .LVU1144
1040:DMP/driver/eMPL/inv_mpu.c ****     data[1] = (gyro_bias[0]) & 0xff;
 4049              		.loc 1 1040 25 is_stmt 0 view .LVU1145
 4050 0026 1368     		ldr	r3, [r2]
 4051              	.LVL298:
1040:DMP/driver/eMPL/inv_mpu.c ****     data[1] = (gyro_bias[0]) & 0xff;
 4052              		.loc 1 1040 29 view .LVU1146
 4053 0028 1912     		asrs	r1, r3, #8
1040:DMP/driver/eMPL/inv_mpu.c ****     data[1] = (gyro_bias[0]) & 0xff;
 4054              		.loc 1 1040 13 view .LVU1147
 4055 002a 8DF80010 		strb	r1, [sp]
1041:DMP/driver/eMPL/inv_mpu.c ****     data[2] = (gyro_bias[1] >> 8) & 0xff;
 4056              		.loc 1 1041 5 is_stmt 1 view .LVU1148
1041:DMP/driver/eMPL/inv_mpu.c ****     data[2] = (gyro_bias[1] >> 8) & 0xff;
 4057              		.loc 1 1041 13 is_stmt 0 view .LVU1149
 4058 002e 8DF80130 		strb	r3, [sp, #1]
1042:DMP/driver/eMPL/inv_mpu.c ****     data[3] = (gyro_bias[1]) & 0xff;
 4059              		.loc 1 1042 5 is_stmt 1 view .LVU1150
1042:DMP/driver/eMPL/inv_mpu.c ****     data[3] = (gyro_bias[1]) & 0xff;
 4060              		.loc 1 1042 25 is_stmt 0 view .LVU1151
 4061 0032 5368     		ldr	r3, [r2, #4]
1042:DMP/driver/eMPL/inv_mpu.c ****     data[3] = (gyro_bias[1]) & 0xff;
 4062              		.loc 1 1042 29 view .LVU1152
 4063 0034 1912     		asrs	r1, r3, #8
1042:DMP/driver/eMPL/inv_mpu.c ****     data[3] = (gyro_bias[1]) & 0xff;
 4064              		.loc 1 1042 13 view .LVU1153
 4065 0036 8DF80210 		strb	r1, [sp, #2]
1043:DMP/driver/eMPL/inv_mpu.c ****     data[4] = (gyro_bias[2] >> 8) & 0xff;
 4066              		.loc 1 1043 5 is_stmt 1 view .LVU1154
1043:DMP/driver/eMPL/inv_mpu.c ****     data[4] = (gyro_bias[2] >> 8) & 0xff;
 4067              		.loc 1 1043 13 is_stmt 0 view .LVU1155
 4068 003a 8DF80330 		strb	r3, [sp, #3]
1044:DMP/driver/eMPL/inv_mpu.c ****     data[5] = (gyro_bias[2]) & 0xff;
 4069              		.loc 1 1044 5 is_stmt 1 view .LVU1156
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 131


1044:DMP/driver/eMPL/inv_mpu.c ****     data[5] = (gyro_bias[2]) & 0xff;
 4070              		.loc 1 1044 25 is_stmt 0 view .LVU1157
 4071 003e 9368     		ldr	r3, [r2, #8]
1044:DMP/driver/eMPL/inv_mpu.c ****     data[5] = (gyro_bias[2]) & 0xff;
 4072              		.loc 1 1044 29 view .LVU1158
 4073 0040 1A12     		asrs	r2, r3, #8
 4074              	.LVL299:
1044:DMP/driver/eMPL/inv_mpu.c ****     data[5] = (gyro_bias[2]) & 0xff;
 4075              		.loc 1 1044 13 view .LVU1159
 4076 0042 8DF80420 		strb	r2, [sp, #4]
1045:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, 0x13, 2, &data[0]))
 4077              		.loc 1 1045 5 is_stmt 1 view .LVU1160
1045:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, 0x13, 2, &data[0]))
 4078              		.loc 1 1045 13 is_stmt 0 view .LVU1161
 4079 0046 8DF80530 		strb	r3, [sp, #5]
1046:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4080              		.loc 1 1046 5 is_stmt 1 view .LVU1162
1046:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4081              		.loc 1 1046 21 is_stmt 0 view .LVU1163
 4082 004a 154B     		ldr	r3, .L281+4
 4083 004c 5868     		ldr	r0, [r3, #4]
1046:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4084              		.loc 1 1046 9 view .LVU1164
 4085 004e 6B46     		mov	r3, sp
 4086 0050 0222     		movs	r2, #2
 4087 0052 1321     		movs	r1, #19
 4088 0054 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 4089 0056 FFF7FEFF 		bl	MPU_Write_Len
 4090              	.LVL300:
1046:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4091              		.loc 1 1046 8 view .LVU1165
 4092 005a A8B9     		cbnz	r0, .L277
1048:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4093              		.loc 1 1048 5 is_stmt 1 view .LVU1166
1048:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4094              		.loc 1 1048 21 is_stmt 0 view .LVU1167
 4095 005c 104B     		ldr	r3, .L281+4
 4096 005e 5868     		ldr	r0, [r3, #4]
1048:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4097              		.loc 1 1048 9 view .LVU1168
 4098 0060 0DF10203 		add	r3, sp, #2
 4099 0064 0222     		movs	r2, #2
 4100 0066 1521     		movs	r1, #21
 4101 0068 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 4102 006a FFF7FEFF 		bl	MPU_Write_Len
 4103              	.LVL301:
1048:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4104              		.loc 1 1048 8 view .LVU1169
 4105 006e 70B9     		cbnz	r0, .L278
1050:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4106              		.loc 1 1050 5 is_stmt 1 view .LVU1170
1050:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4107              		.loc 1 1050 21 is_stmt 0 view .LVU1171
 4108 0070 0B4B     		ldr	r3, .L281+4
 4109 0072 5868     		ldr	r0, [r3, #4]
1050:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4110              		.loc 1 1050 9 view .LVU1172
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 132


 4111 0074 01AB     		add	r3, sp, #4
 4112 0076 0222     		movs	r2, #2
 4113 0078 1721     		movs	r1, #23
 4114 007a 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 4115 007c FFF7FEFF 		bl	MPU_Write_Len
 4116              	.LVL302:
1050:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4117              		.loc 1 1050 8 view .LVU1173
 4118 0080 40B9     		cbnz	r0, .L279
 4119              	.L273:
1053:DMP/driver/eMPL/inv_mpu.c **** 
 4120              		.loc 1 1053 1 view .LVU1174
 4121 0082 03B0     		add	sp, sp, #12
 4122              	.LCFI62:
 4123              		.cfi_remember_state
 4124              		.cfi_def_cfa_offset 4
 4125              		@ sp needed
 4126 0084 5DF804FB 		ldr	pc, [sp], #4
 4127              	.L277:
 4128              	.LCFI63:
 4129              		.cfi_restore_state
1047:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, 0x15, 2, &data[2]))
 4130              		.loc 1 1047 16 view .LVU1175
 4131 0088 4FF0FF30 		mov	r0, #-1
 4132 008c F9E7     		b	.L273
 4133              	.L278:
1049:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, 0x17, 2, &data[4]))
 4134              		.loc 1 1049 16 view .LVU1176
 4135 008e 4FF0FF30 		mov	r0, #-1
 4136 0092 F6E7     		b	.L273
 4137              	.L279:
1051:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 4138              		.loc 1 1051 16 view .LVU1177
 4139 0094 4FF0FF30 		mov	r0, #-1
 4140 0098 F3E7     		b	.L273
 4141              	.L282:
 4142 009a 00BF     		.align	2
 4143              	.L281:
 4144 009c 00000000 		.word	.LANCHOR0
 4145 00a0 00000000 		.word	st
 4146              		.cfi_endproc
 4147              	.LFE178:
 4149              		.section	.text.mpu_set_accel_bias_6050_reg,"ax",%progbits
 4150              		.align	1
 4151              		.global	mpu_set_accel_bias_6050_reg
 4152              		.syntax unified
 4153              		.thumb
 4154              		.thumb_func
 4156              	mpu_set_accel_bias_6050_reg:
 4157              	.LVL303:
 4158              	.LFB179:
1063:DMP/driver/eMPL/inv_mpu.c ****     unsigned char data[6] = {0, 0, 0, 0, 0, 0};
 4159              		.loc 1 1063 57 is_stmt 1 view -0
 4160              		.cfi_startproc
 4161              		@ args = 0, pretend = 0, frame = 24
 4162              		@ frame_needed = 0, uses_anonymous_args = 0
1063:DMP/driver/eMPL/inv_mpu.c ****     unsigned char data[6] = {0, 0, 0, 0, 0, 0};
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 133


 4163              		.loc 1 1063 57 is_stmt 0 view .LVU1179
 4164 0000 30B5     		push	{r4, r5, lr}
 4165              	.LCFI64:
 4166              		.cfi_def_cfa_offset 12
 4167              		.cfi_offset 4, -12
 4168              		.cfi_offset 5, -8
 4169              		.cfi_offset 14, -4
 4170 0002 87B0     		sub	sp, sp, #28
 4171              	.LCFI65:
 4172              		.cfi_def_cfa_offset 40
 4173 0004 0446     		mov	r4, r0
1064:DMP/driver/eMPL/inv_mpu.c ****     long accel_reg_bias[3] = {0, 0, 0};
 4174              		.loc 1 1064 5 is_stmt 1 view .LVU1180
1064:DMP/driver/eMPL/inv_mpu.c ****     long accel_reg_bias[3] = {0, 0, 0};
 4175              		.loc 1 1064 19 is_stmt 0 view .LVU1181
 4176 0006 2E4B     		ldr	r3, .L291
 4177 0008 93E80300 		ldm	r3, {r0, r1}
 4178              	.LVL304:
1064:DMP/driver/eMPL/inv_mpu.c ****     long accel_reg_bias[3] = {0, 0, 0};
 4179              		.loc 1 1064 19 view .LVU1182
 4180 000c 0490     		str	r0, [sp, #16]
 4181 000e ADF81410 		strh	r1, [sp, #20]	@ movhi
1065:DMP/driver/eMPL/inv_mpu.c **** 
 4182              		.loc 1 1065 5 is_stmt 1 view .LVU1183
1065:DMP/driver/eMPL/inv_mpu.c **** 
 4183              		.loc 1 1065 10 is_stmt 0 view .LVU1184
 4184 0012 0023     		movs	r3, #0
 4185 0014 0193     		str	r3, [sp, #4]
 4186 0016 0293     		str	r3, [sp, #8]
 4187 0018 0393     		str	r3, [sp, #12]
1067:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4188              		.loc 1 1067 5 is_stmt 1 view .LVU1185
1067:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4189              		.loc 1 1067 8 is_stmt 0 view .LVU1186
 4190 001a 01A8     		add	r0, sp, #4
 4191 001c FFF7FEFF 		bl	mpu_read_6050_accel_bias
 4192              	.LVL305:
1067:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4193              		.loc 1 1067 7 view .LVU1187
 4194 0020 0028     		cmp	r0, #0
 4195 0022 40D1     		bne	.L285
 4196 0024 0546     		mov	r5, r0
1070:DMP/driver/eMPL/inv_mpu.c ****     accel_reg_bias[1] -= (accel_bias[1] & ~1);
 4197              		.loc 1 1070 5 is_stmt 1 view .LVU1188
1070:DMP/driver/eMPL/inv_mpu.c ****     accel_reg_bias[1] -= (accel_bias[1] & ~1);
 4198              		.loc 1 1070 37 is_stmt 0 view .LVU1189
 4199 0026 2368     		ldr	r3, [r4]
1070:DMP/driver/eMPL/inv_mpu.c ****     accel_reg_bias[1] -= (accel_bias[1] & ~1);
 4200              		.loc 1 1070 41 view .LVU1190
 4201 0028 23F00103 		bic	r3, r3, #1
1070:DMP/driver/eMPL/inv_mpu.c ****     accel_reg_bias[1] -= (accel_bias[1] & ~1);
 4202              		.loc 1 1070 23 view .LVU1191
 4203 002c 0199     		ldr	r1, [sp, #4]
 4204 002e C91A     		subs	r1, r1, r3
 4205 0030 0191     		str	r1, [sp, #4]
1071:DMP/driver/eMPL/inv_mpu.c ****     accel_reg_bias[2] -= (accel_bias[2] & ~1);
 4206              		.loc 1 1071 5 is_stmt 1 view .LVU1192
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 134


1071:DMP/driver/eMPL/inv_mpu.c ****     accel_reg_bias[2] -= (accel_bias[2] & ~1);
 4207              		.loc 1 1071 37 is_stmt 0 view .LVU1193
 4208 0032 6368     		ldr	r3, [r4, #4]
1071:DMP/driver/eMPL/inv_mpu.c ****     accel_reg_bias[2] -= (accel_bias[2] & ~1);
 4209              		.loc 1 1071 41 view .LVU1194
 4210 0034 23F00103 		bic	r3, r3, #1
1071:DMP/driver/eMPL/inv_mpu.c ****     accel_reg_bias[2] -= (accel_bias[2] & ~1);
 4211              		.loc 1 1071 23 view .LVU1195
 4212 0038 029A     		ldr	r2, [sp, #8]
 4213 003a D21A     		subs	r2, r2, r3
 4214 003c 0292     		str	r2, [sp, #8]
1072:DMP/driver/eMPL/inv_mpu.c **** 
 4215              		.loc 1 1072 5 is_stmt 1 view .LVU1196
1072:DMP/driver/eMPL/inv_mpu.c **** 
 4216              		.loc 1 1072 37 is_stmt 0 view .LVU1197
 4217 003e A068     		ldr	r0, [r4, #8]
1072:DMP/driver/eMPL/inv_mpu.c **** 
 4218              		.loc 1 1072 41 view .LVU1198
 4219 0040 20F00100 		bic	r0, r0, #1
1072:DMP/driver/eMPL/inv_mpu.c **** 
 4220              		.loc 1 1072 23 view .LVU1199
 4221 0044 039B     		ldr	r3, [sp, #12]
 4222 0046 1B1A     		subs	r3, r3, r0
 4223 0048 0393     		str	r3, [sp, #12]
1074:DMP/driver/eMPL/inv_mpu.c ****     data[1] = (accel_reg_bias[0]) & 0xff;
 4224              		.loc 1 1074 5 is_stmt 1 view .LVU1200
1074:DMP/driver/eMPL/inv_mpu.c ****     data[1] = (accel_reg_bias[0]) & 0xff;
 4225              		.loc 1 1074 34 is_stmt 0 view .LVU1201
 4226 004a 0812     		asrs	r0, r1, #8
1074:DMP/driver/eMPL/inv_mpu.c ****     data[1] = (accel_reg_bias[0]) & 0xff;
 4227              		.loc 1 1074 13 view .LVU1202
 4228 004c 8DF81000 		strb	r0, [sp, #16]
1075:DMP/driver/eMPL/inv_mpu.c ****     data[2] = (accel_reg_bias[1] >> 8) & 0xff;
 4229              		.loc 1 1075 5 is_stmt 1 view .LVU1203
1075:DMP/driver/eMPL/inv_mpu.c ****     data[2] = (accel_reg_bias[1] >> 8) & 0xff;
 4230              		.loc 1 1075 13 is_stmt 0 view .LVU1204
 4231 0050 8DF81110 		strb	r1, [sp, #17]
1076:DMP/driver/eMPL/inv_mpu.c ****     data[3] = (accel_reg_bias[1]) & 0xff;
 4232              		.loc 1 1076 5 is_stmt 1 view .LVU1205
1076:DMP/driver/eMPL/inv_mpu.c ****     data[3] = (accel_reg_bias[1]) & 0xff;
 4233              		.loc 1 1076 34 is_stmt 0 view .LVU1206
 4234 0054 1112     		asrs	r1, r2, #8
1076:DMP/driver/eMPL/inv_mpu.c ****     data[3] = (accel_reg_bias[1]) & 0xff;
 4235              		.loc 1 1076 13 view .LVU1207
 4236 0056 8DF81210 		strb	r1, [sp, #18]
1077:DMP/driver/eMPL/inv_mpu.c ****     data[4] = (accel_reg_bias[2] >> 8) & 0xff;
 4237              		.loc 1 1077 5 is_stmt 1 view .LVU1208
1077:DMP/driver/eMPL/inv_mpu.c ****     data[4] = (accel_reg_bias[2] >> 8) & 0xff;
 4238              		.loc 1 1077 13 is_stmt 0 view .LVU1209
 4239 005a 8DF81320 		strb	r2, [sp, #19]
1078:DMP/driver/eMPL/inv_mpu.c ****     data[5] = (accel_reg_bias[2]) & 0xff;
 4240              		.loc 1 1078 5 is_stmt 1 view .LVU1210
1078:DMP/driver/eMPL/inv_mpu.c ****     data[5] = (accel_reg_bias[2]) & 0xff;
 4241              		.loc 1 1078 34 is_stmt 0 view .LVU1211
 4242 005e 1A12     		asrs	r2, r3, #8
1078:DMP/driver/eMPL/inv_mpu.c ****     data[5] = (accel_reg_bias[2]) & 0xff;
 4243              		.loc 1 1078 13 view .LVU1212
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 135


 4244 0060 8DF81420 		strb	r2, [sp, #20]
1079:DMP/driver/eMPL/inv_mpu.c **** 
 4245              		.loc 1 1079 5 is_stmt 1 view .LVU1213
1079:DMP/driver/eMPL/inv_mpu.c **** 
 4246              		.loc 1 1079 13 is_stmt 0 view .LVU1214
 4247 0064 8DF81530 		strb	r3, [sp, #21]
1081:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4248              		.loc 1 1081 5 is_stmt 1 view .LVU1215
1081:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4249              		.loc 1 1081 21 is_stmt 0 view .LVU1216
 4250 0068 164B     		ldr	r3, .L291+4
 4251 006a 5868     		ldr	r0, [r3, #4]
1081:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4252              		.loc 1 1081 9 view .LVU1217
 4253 006c 04AB     		add	r3, sp, #16
 4254 006e 0222     		movs	r2, #2
 4255 0070 0621     		movs	r1, #6
 4256 0072 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 4257 0074 FFF7FEFF 		bl	MPU_Write_Len
 4258              	.LVL306:
1081:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4259              		.loc 1 1081 8 view .LVU1218
 4260 0078 C0B9     		cbnz	r0, .L286
1083:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4261              		.loc 1 1083 5 is_stmt 1 view .LVU1219
1083:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4262              		.loc 1 1083 21 is_stmt 0 view .LVU1220
 4263 007a 124B     		ldr	r3, .L291+4
 4264 007c 5868     		ldr	r0, [r3, #4]
1083:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4265              		.loc 1 1083 9 view .LVU1221
 4266 007e 0DF11203 		add	r3, sp, #18
 4267 0082 0222     		movs	r2, #2
 4268 0084 0821     		movs	r1, #8
 4269 0086 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 4270 0088 FFF7FEFF 		bl	MPU_Write_Len
 4271              	.LVL307:
1083:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4272              		.loc 1 1083 8 view .LVU1222
 4273 008c 88B9     		cbnz	r0, .L287
1085:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4274              		.loc 1 1085 5 is_stmt 1 view .LVU1223
1085:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4275              		.loc 1 1085 21 is_stmt 0 view .LVU1224
 4276 008e 0D4B     		ldr	r3, .L291+4
 4277 0090 5868     		ldr	r0, [r3, #4]
1085:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4278              		.loc 1 1085 9 view .LVU1225
 4279 0092 05AB     		add	r3, sp, #20
 4280 0094 0222     		movs	r2, #2
 4281 0096 0A21     		movs	r1, #10
 4282 0098 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 4283 009a FFF7FEFF 		bl	MPU_Write_Len
 4284              	.LVL308:
1085:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4285              		.loc 1 1085 8 view .LVU1226
 4286 009e 58B9     		cbnz	r0, .L290
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 136


 4287              	.L283:
1089:DMP/driver/eMPL/inv_mpu.c **** 
 4288              		.loc 1 1089 1 view .LVU1227
 4289 00a0 2846     		mov	r0, r5
 4290 00a2 07B0     		add	sp, sp, #28
 4291              	.LCFI66:
 4292              		.cfi_remember_state
 4293              		.cfi_def_cfa_offset 12
 4294              		@ sp needed
 4295 00a4 30BD     		pop	{r4, r5, pc}
 4296              	.LVL309:
 4297              	.L285:
 4298              	.LCFI67:
 4299              		.cfi_restore_state
1068:DMP/driver/eMPL/inv_mpu.c **** 
 4300              		.loc 1 1068 16 view .LVU1228
 4301 00a6 4FF0FF35 		mov	r5, #-1
 4302 00aa F9E7     		b	.L283
 4303              	.L286:
1082:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, 0x08, 2, &data[2]))
 4304              		.loc 1 1082 16 view .LVU1229
 4305 00ac 4FF0FF35 		mov	r5, #-1
 4306 00b0 F6E7     		b	.L283
 4307              	.L287:
1084:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, 0x0A, 2, &data[4]))
 4308              		.loc 1 1084 16 view .LVU1230
 4309 00b2 4FF0FF35 		mov	r5, #-1
 4310 00b6 F3E7     		b	.L283
 4311              	.L290:
1086:DMP/driver/eMPL/inv_mpu.c **** 
 4312              		.loc 1 1086 16 view .LVU1231
 4313 00b8 4FF0FF35 		mov	r5, #-1
 4314 00bc F0E7     		b	.L283
 4315              	.L292:
 4316 00be 00BF     		.align	2
 4317              	.L291:
 4318 00c0 00000000 		.word	.LANCHOR0
 4319 00c4 00000000 		.word	st
 4320              		.cfi_endproc
 4321              	.LFE179:
 4323              		.section	.text.mpu_set_accel_bias_6500_reg,"ax",%progbits
 4324              		.align	1
 4325              		.global	mpu_set_accel_bias_6500_reg
 4326              		.syntax unified
 4327              		.thumb
 4328              		.thumb_func
 4330              	mpu_set_accel_bias_6500_reg:
 4331              	.LVL310:
 4332              	.LFB180:
1101:DMP/driver/eMPL/inv_mpu.c ****     unsigned char data[6] = {0, 0, 0, 0, 0, 0};
 4333              		.loc 1 1101 57 is_stmt 1 view -0
 4334              		.cfi_startproc
 4335              		@ args = 0, pretend = 0, frame = 24
 4336              		@ frame_needed = 0, uses_anonymous_args = 0
1101:DMP/driver/eMPL/inv_mpu.c ****     unsigned char data[6] = {0, 0, 0, 0, 0, 0};
 4337              		.loc 1 1101 57 is_stmt 0 view .LVU1233
 4338 0000 30B5     		push	{r4, r5, lr}
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 137


 4339              	.LCFI68:
 4340              		.cfi_def_cfa_offset 12
 4341              		.cfi_offset 4, -12
 4342              		.cfi_offset 5, -8
 4343              		.cfi_offset 14, -4
 4344 0002 87B0     		sub	sp, sp, #28
 4345              	.LCFI69:
 4346              		.cfi_def_cfa_offset 40
 4347 0004 0446     		mov	r4, r0
1102:DMP/driver/eMPL/inv_mpu.c ****     long accel_reg_bias[3] = {0, 0, 0};
 4348              		.loc 1 1102 5 is_stmt 1 view .LVU1234
1102:DMP/driver/eMPL/inv_mpu.c ****     long accel_reg_bias[3] = {0, 0, 0};
 4349              		.loc 1 1102 19 is_stmt 0 view .LVU1235
 4350 0006 2E4B     		ldr	r3, .L301
 4351 0008 93E80300 		ldm	r3, {r0, r1}
 4352              	.LVL311:
1102:DMP/driver/eMPL/inv_mpu.c ****     long accel_reg_bias[3] = {0, 0, 0};
 4353              		.loc 1 1102 19 view .LVU1236
 4354 000c 0490     		str	r0, [sp, #16]
 4355 000e ADF81410 		strh	r1, [sp, #20]	@ movhi
1103:DMP/driver/eMPL/inv_mpu.c **** 
 4356              		.loc 1 1103 5 is_stmt 1 view .LVU1237
1103:DMP/driver/eMPL/inv_mpu.c **** 
 4357              		.loc 1 1103 10 is_stmt 0 view .LVU1238
 4358 0012 0023     		movs	r3, #0
 4359 0014 0193     		str	r3, [sp, #4]
 4360 0016 0293     		str	r3, [sp, #8]
 4361 0018 0393     		str	r3, [sp, #12]
1105:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4362              		.loc 1 1105 5 is_stmt 1 view .LVU1239
1105:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4363              		.loc 1 1105 8 is_stmt 0 view .LVU1240
 4364 001a 01A8     		add	r0, sp, #4
 4365 001c FFF7FEFF 		bl	mpu_read_6500_accel_bias
 4366              	.LVL312:
1105:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4367              		.loc 1 1105 7 view .LVU1241
 4368 0020 0028     		cmp	r0, #0
 4369 0022 40D1     		bne	.L295
 4370 0024 0546     		mov	r5, r0
1109:DMP/driver/eMPL/inv_mpu.c ****     accel_reg_bias[1] -= (accel_bias[1] & ~1);
 4371              		.loc 1 1109 5 is_stmt 1 view .LVU1242
1109:DMP/driver/eMPL/inv_mpu.c ****     accel_reg_bias[1] -= (accel_bias[1] & ~1);
 4372              		.loc 1 1109 37 is_stmt 0 view .LVU1243
 4373 0026 2368     		ldr	r3, [r4]
1109:DMP/driver/eMPL/inv_mpu.c ****     accel_reg_bias[1] -= (accel_bias[1] & ~1);
 4374              		.loc 1 1109 41 view .LVU1244
 4375 0028 23F00103 		bic	r3, r3, #1
1109:DMP/driver/eMPL/inv_mpu.c ****     accel_reg_bias[1] -= (accel_bias[1] & ~1);
 4376              		.loc 1 1109 23 view .LVU1245
 4377 002c 0199     		ldr	r1, [sp, #4]
 4378 002e C91A     		subs	r1, r1, r3
 4379 0030 0191     		str	r1, [sp, #4]
1110:DMP/driver/eMPL/inv_mpu.c ****     accel_reg_bias[2] -= (accel_bias[2] & ~1);
 4380              		.loc 1 1110 5 is_stmt 1 view .LVU1246
1110:DMP/driver/eMPL/inv_mpu.c ****     accel_reg_bias[2] -= (accel_bias[2] & ~1);
 4381              		.loc 1 1110 37 is_stmt 0 view .LVU1247
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 138


 4382 0032 6368     		ldr	r3, [r4, #4]
1110:DMP/driver/eMPL/inv_mpu.c ****     accel_reg_bias[2] -= (accel_bias[2] & ~1);
 4383              		.loc 1 1110 41 view .LVU1248
 4384 0034 23F00103 		bic	r3, r3, #1
1110:DMP/driver/eMPL/inv_mpu.c ****     accel_reg_bias[2] -= (accel_bias[2] & ~1);
 4385              		.loc 1 1110 23 view .LVU1249
 4386 0038 029A     		ldr	r2, [sp, #8]
 4387 003a D21A     		subs	r2, r2, r3
 4388 003c 0292     		str	r2, [sp, #8]
1111:DMP/driver/eMPL/inv_mpu.c **** 
 4389              		.loc 1 1111 5 is_stmt 1 view .LVU1250
1111:DMP/driver/eMPL/inv_mpu.c **** 
 4390              		.loc 1 1111 37 is_stmt 0 view .LVU1251
 4391 003e A068     		ldr	r0, [r4, #8]
1111:DMP/driver/eMPL/inv_mpu.c **** 
 4392              		.loc 1 1111 41 view .LVU1252
 4393 0040 20F00100 		bic	r0, r0, #1
1111:DMP/driver/eMPL/inv_mpu.c **** 
 4394              		.loc 1 1111 23 view .LVU1253
 4395 0044 039B     		ldr	r3, [sp, #12]
 4396 0046 1B1A     		subs	r3, r3, r0
 4397 0048 0393     		str	r3, [sp, #12]
1113:DMP/driver/eMPL/inv_mpu.c ****     data[1] = (accel_reg_bias[0]) & 0xff;
 4398              		.loc 1 1113 5 is_stmt 1 view .LVU1254
1113:DMP/driver/eMPL/inv_mpu.c ****     data[1] = (accel_reg_bias[0]) & 0xff;
 4399              		.loc 1 1113 34 is_stmt 0 view .LVU1255
 4400 004a 0812     		asrs	r0, r1, #8
1113:DMP/driver/eMPL/inv_mpu.c ****     data[1] = (accel_reg_bias[0]) & 0xff;
 4401              		.loc 1 1113 13 view .LVU1256
 4402 004c 8DF81000 		strb	r0, [sp, #16]
1114:DMP/driver/eMPL/inv_mpu.c ****     data[2] = (accel_reg_bias[1] >> 8) & 0xff;
 4403              		.loc 1 1114 5 is_stmt 1 view .LVU1257
1114:DMP/driver/eMPL/inv_mpu.c ****     data[2] = (accel_reg_bias[1] >> 8) & 0xff;
 4404              		.loc 1 1114 13 is_stmt 0 view .LVU1258
 4405 0050 8DF81110 		strb	r1, [sp, #17]
1115:DMP/driver/eMPL/inv_mpu.c ****     data[3] = (accel_reg_bias[1]) & 0xff;
 4406              		.loc 1 1115 5 is_stmt 1 view .LVU1259
1115:DMP/driver/eMPL/inv_mpu.c ****     data[3] = (accel_reg_bias[1]) & 0xff;
 4407              		.loc 1 1115 34 is_stmt 0 view .LVU1260
 4408 0054 1112     		asrs	r1, r2, #8
1115:DMP/driver/eMPL/inv_mpu.c ****     data[3] = (accel_reg_bias[1]) & 0xff;
 4409              		.loc 1 1115 13 view .LVU1261
 4410 0056 8DF81210 		strb	r1, [sp, #18]
1116:DMP/driver/eMPL/inv_mpu.c ****     data[4] = (accel_reg_bias[2] >> 8) & 0xff;
 4411              		.loc 1 1116 5 is_stmt 1 view .LVU1262
1116:DMP/driver/eMPL/inv_mpu.c ****     data[4] = (accel_reg_bias[2] >> 8) & 0xff;
 4412              		.loc 1 1116 13 is_stmt 0 view .LVU1263
 4413 005a 8DF81320 		strb	r2, [sp, #19]
1117:DMP/driver/eMPL/inv_mpu.c ****     data[5] = (accel_reg_bias[2]) & 0xff;
 4414              		.loc 1 1117 5 is_stmt 1 view .LVU1264
1117:DMP/driver/eMPL/inv_mpu.c ****     data[5] = (accel_reg_bias[2]) & 0xff;
 4415              		.loc 1 1117 34 is_stmt 0 view .LVU1265
 4416 005e 1A12     		asrs	r2, r3, #8
1117:DMP/driver/eMPL/inv_mpu.c ****     data[5] = (accel_reg_bias[2]) & 0xff;
 4417              		.loc 1 1117 13 view .LVU1266
 4418 0060 8DF81420 		strb	r2, [sp, #20]
1118:DMP/driver/eMPL/inv_mpu.c **** 
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 139


 4419              		.loc 1 1118 5 is_stmt 1 view .LVU1267
1118:DMP/driver/eMPL/inv_mpu.c **** 
 4420              		.loc 1 1118 13 is_stmt 0 view .LVU1268
 4421 0064 8DF81530 		strb	r3, [sp, #21]
1120:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4422              		.loc 1 1120 5 is_stmt 1 view .LVU1269
1120:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4423              		.loc 1 1120 21 is_stmt 0 view .LVU1270
 4424 0068 164B     		ldr	r3, .L301+4
 4425 006a 5868     		ldr	r0, [r3, #4]
1120:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4426              		.loc 1 1120 9 view .LVU1271
 4427 006c 04AB     		add	r3, sp, #16
 4428 006e 0222     		movs	r2, #2
 4429 0070 7721     		movs	r1, #119
 4430 0072 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 4431 0074 FFF7FEFF 		bl	MPU_Write_Len
 4432              	.LVL313:
1120:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4433              		.loc 1 1120 8 view .LVU1272
 4434 0078 C0B9     		cbnz	r0, .L296
1122:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4435              		.loc 1 1122 5 is_stmt 1 view .LVU1273
1122:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4436              		.loc 1 1122 21 is_stmt 0 view .LVU1274
 4437 007a 124B     		ldr	r3, .L301+4
 4438 007c 5868     		ldr	r0, [r3, #4]
1122:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4439              		.loc 1 1122 9 view .LVU1275
 4440 007e 0DF11203 		add	r3, sp, #18
 4441 0082 0222     		movs	r2, #2
 4442 0084 7A21     		movs	r1, #122
 4443 0086 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 4444 0088 FFF7FEFF 		bl	MPU_Write_Len
 4445              	.LVL314:
1122:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4446              		.loc 1 1122 8 view .LVU1276
 4447 008c 88B9     		cbnz	r0, .L297
1124:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4448              		.loc 1 1124 5 is_stmt 1 view .LVU1277
1124:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4449              		.loc 1 1124 21 is_stmt 0 view .LVU1278
 4450 008e 0D4B     		ldr	r3, .L301+4
 4451 0090 5868     		ldr	r0, [r3, #4]
1124:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4452              		.loc 1 1124 9 view .LVU1279
 4453 0092 05AB     		add	r3, sp, #20
 4454 0094 0222     		movs	r2, #2
 4455 0096 7D21     		movs	r1, #125
 4456 0098 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 4457 009a FFF7FEFF 		bl	MPU_Write_Len
 4458              	.LVL315:
1124:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4459              		.loc 1 1124 8 view .LVU1280
 4460 009e 58B9     		cbnz	r0, .L300
 4461              	.L293:
1128:DMP/driver/eMPL/inv_mpu.c **** 
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 140


 4462              		.loc 1 1128 1 view .LVU1281
 4463 00a0 2846     		mov	r0, r5
 4464 00a2 07B0     		add	sp, sp, #28
 4465              	.LCFI70:
 4466              		.cfi_remember_state
 4467              		.cfi_def_cfa_offset 12
 4468              		@ sp needed
 4469 00a4 30BD     		pop	{r4, r5, pc}
 4470              	.LVL316:
 4471              	.L295:
 4472              	.LCFI71:
 4473              		.cfi_restore_state
1106:DMP/driver/eMPL/inv_mpu.c **** 
 4474              		.loc 1 1106 16 view .LVU1282
 4475 00a6 4FF0FF35 		mov	r5, #-1
 4476 00aa F9E7     		b	.L293
 4477              	.L296:
1121:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, 0x7A, 2, &data[2]))
 4478              		.loc 1 1121 16 view .LVU1283
 4479 00ac 4FF0FF35 		mov	r5, #-1
 4480 00b0 F6E7     		b	.L293
 4481              	.L297:
1123:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, 0x7D, 2, &data[4]))
 4482              		.loc 1 1123 16 view .LVU1284
 4483 00b2 4FF0FF35 		mov	r5, #-1
 4484 00b6 F3E7     		b	.L293
 4485              	.L300:
1125:DMP/driver/eMPL/inv_mpu.c **** 
 4486              		.loc 1 1125 16 view .LVU1285
 4487 00b8 4FF0FF35 		mov	r5, #-1
 4488 00bc F0E7     		b	.L293
 4489              	.L302:
 4490 00be 00BF     		.align	2
 4491              	.L301:
 4492 00c0 00000000 		.word	.LANCHOR0
 4493 00c4 00000000 		.word	st
 4494              		.cfi_endproc
 4495              	.LFE180:
 4497              		.section	.text.mpu_reset_fifo,"ax",%progbits
 4498              		.align	1
 4499              		.global	mpu_reset_fifo
 4500              		.syntax unified
 4501              		.thumb
 4502              		.thumb_func
 4504              	mpu_reset_fifo:
 4505              	.LFB181:
1136:DMP/driver/eMPL/inv_mpu.c ****     unsigned char data;
 4506              		.loc 1 1136 1 is_stmt 1 view -0
 4507              		.cfi_startproc
 4508              		@ args = 0, pretend = 0, frame = 8
 4509              		@ frame_needed = 0, uses_anonymous_args = 0
1137:DMP/driver/eMPL/inv_mpu.c **** 
 4510              		.loc 1 1137 5 view .LVU1287
1139:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4511              		.loc 1 1139 5 view .LVU1288
1139:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4512              		.loc 1 1139 22 is_stmt 0 view .LVU1289
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 141


 4513 0000 7C4B     		ldr	r3, .L330
 4514 0002 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
1139:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4515              		.loc 1 1139 8 view .LVU1290
 4516 0004 002B     		cmp	r3, #0
 4517 0006 00F0D480 		beq	.L314
1136:DMP/driver/eMPL/inv_mpu.c ****     unsigned char data;
 4518              		.loc 1 1136 1 view .LVU1291
 4519 000a 00B5     		push	{lr}
 4520              	.LCFI72:
 4521              		.cfi_def_cfa_offset 4
 4522              		.cfi_offset 14, -4
 4523 000c 83B0     		sub	sp, sp, #12
 4524              	.LCFI73:
 4525              		.cfi_def_cfa_offset 16
1142:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->int_enable, 1, &data))
 4526              		.loc 1 1142 5 is_stmt 1 view .LVU1292
1142:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->int_enable, 1, &data))
 4527              		.loc 1 1142 10 is_stmt 0 view .LVU1293
 4528 000e 0023     		movs	r3, #0
 4529 0010 8DF80730 		strb	r3, [sp, #7]
1143:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4530              		.loc 1 1143 5 is_stmt 1 view .LVU1294
1143:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4531              		.loc 1 1143 21 is_stmt 0 view .LVU1295
 4532 0014 774B     		ldr	r3, .L330
 4533 0016 5868     		ldr	r0, [r3, #4]
1143:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4534              		.loc 1 1143 34 view .LVU1296
 4535 0018 1968     		ldr	r1, [r3]
1143:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4536              		.loc 1 1143 9 view .LVU1297
 4537 001a 0DF10703 		add	r3, sp, #7
 4538 001e 0122     		movs	r2, #1
 4539 0020 497C     		ldrb	r1, [r1, #17]	@ zero_extendqisi2
 4540 0022 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 4541 0024 FFF7FEFF 		bl	MPU_Write_Len
 4542              	.LVL317:
1143:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4543              		.loc 1 1143 8 view .LVU1298
 4544 0028 0028     		cmp	r0, #0
 4545 002a 40F0C580 		bne	.L315
1145:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4546              		.loc 1 1145 5 is_stmt 1 view .LVU1299
1145:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4547              		.loc 1 1145 21 is_stmt 0 view .LVU1300
 4548 002e 714B     		ldr	r3, .L330
 4549 0030 5868     		ldr	r0, [r3, #4]
1145:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4550              		.loc 1 1145 34 view .LVU1301
 4551 0032 1968     		ldr	r1, [r3]
1145:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4552              		.loc 1 1145 9 view .LVU1302
 4553 0034 0DF10703 		add	r3, sp, #7
 4554 0038 0122     		movs	r2, #1
 4555 003a 4979     		ldrb	r1, [r1, #5]	@ zero_extendqisi2
 4556 003c 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 142


 4557 003e FFF7FEFF 		bl	MPU_Write_Len
 4558              	.LVL318:
1145:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4559              		.loc 1 1145 8 view .LVU1303
 4560 0042 0028     		cmp	r0, #0
 4561 0044 40F0BB80 		bne	.L316
1147:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4562              		.loc 1 1147 5 is_stmt 1 view .LVU1304
1147:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4563              		.loc 1 1147 21 is_stmt 0 view .LVU1305
 4564 0048 6A4B     		ldr	r3, .L330
 4565 004a 5868     		ldr	r0, [r3, #4]
1147:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4566              		.loc 1 1147 34 view .LVU1306
 4567 004c 1968     		ldr	r1, [r3]
1147:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4568              		.loc 1 1147 9 view .LVU1307
 4569 004e 0DF10703 		add	r3, sp, #7
 4570 0052 0122     		movs	r2, #1
 4571 0054 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 4572 0056 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 4573 0058 FFF7FEFF 		bl	MPU_Write_Len
 4574              	.LVL319:
1147:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4575              		.loc 1 1147 8 view .LVU1308
 4576 005c 0028     		cmp	r0, #0
 4577 005e 40F0B180 		bne	.L317
1150:DMP/driver/eMPL/inv_mpu.c ****         data = BIT_FIFO_RST | BIT_DMP_RST;
 4578              		.loc 1 1150 5 is_stmt 1 view .LVU1309
1150:DMP/driver/eMPL/inv_mpu.c ****         data = BIT_FIFO_RST | BIT_DMP_RST;
 4579              		.loc 1 1150 20 is_stmt 0 view .LVU1310
 4580 0062 644B     		ldr	r3, .L330
 4581 0064 93F82430 		ldrb	r3, [r3, #36]	@ zero_extendqisi2
1150:DMP/driver/eMPL/inv_mpu.c ****         data = BIT_FIFO_RST | BIT_DMP_RST;
 4582              		.loc 1 1150 8 view .LVU1311
 4583 0068 002B     		cmp	r3, #0
 4584 006a 52D0     		beq	.L305
1151:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &data))
 4585              		.loc 1 1151 9 is_stmt 1 view .LVU1312
1151:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &data))
 4586              		.loc 1 1151 14 is_stmt 0 view .LVU1313
 4587 006c 0C23     		movs	r3, #12
 4588 006e 8DF80730 		strb	r3, [sp, #7]
1152:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 4589              		.loc 1 1152 9 is_stmt 1 view .LVU1314
1152:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 4590              		.loc 1 1152 25 is_stmt 0 view .LVU1315
 4591 0072 604B     		ldr	r3, .L330
 4592 0074 5868     		ldr	r0, [r3, #4]
1152:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 4593              		.loc 1 1152 38 view .LVU1316
 4594 0076 1968     		ldr	r1, [r3]
1152:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 4595              		.loc 1 1152 13 view .LVU1317
 4596 0078 0DF10703 		add	r3, sp, #7
 4597 007c 0122     		movs	r2, #1
 4598 007e 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 143


 4599 0080 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 4600 0082 FFF7FEFF 		bl	MPU_Write_Len
 4601              	.LVL320:
1152:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 4602              		.loc 1 1152 12 view .LVU1318
 4603 0086 0028     		cmp	r0, #0
 4604 0088 40F09F80 		bne	.L318
1154:DMP/driver/eMPL/inv_mpu.c ****         data = BIT_DMP_EN | BIT_FIFO_EN;
 4605              		.loc 1 1154 9 is_stmt 1 view .LVU1319
 4606 008c 3220     		movs	r0, #50
 4607 008e FFF7FEFF 		bl	HAL_Delay
 4608              	.LVL321:
1155:DMP/driver/eMPL/inv_mpu.c ****         if (st.chip_cfg.sensors & INV_XYZ_COMPASS)
 4609              		.loc 1 1155 9 view .LVU1320
1155:DMP/driver/eMPL/inv_mpu.c ****         if (st.chip_cfg.sensors & INV_XYZ_COMPASS)
 4610              		.loc 1 1155 14 is_stmt 0 view .LVU1321
 4611 0092 C023     		movs	r3, #192
 4612 0094 8DF80730 		strb	r3, [sp, #7]
1156:DMP/driver/eMPL/inv_mpu.c ****             data |= BIT_AUX_IF_EN;
 4613              		.loc 1 1156 9 is_stmt 1 view .LVU1322
1156:DMP/driver/eMPL/inv_mpu.c ****             data |= BIT_AUX_IF_EN;
 4614              		.loc 1 1156 24 is_stmt 0 view .LVU1323
 4615 0098 564B     		ldr	r3, .L330
 4616 009a 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
1156:DMP/driver/eMPL/inv_mpu.c ****             data |= BIT_AUX_IF_EN;
 4617              		.loc 1 1156 12 view .LVU1324
 4618 009c 13F0010F 		tst	r3, #1
 4619 00a0 02D0     		beq	.L306
1157:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &data))
 4620              		.loc 1 1157 13 is_stmt 1 view .LVU1325
1157:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &data))
 4621              		.loc 1 1157 18 is_stmt 0 view .LVU1326
 4622 00a2 E023     		movs	r3, #224
 4623 00a4 8DF80730 		strb	r3, [sp, #7]
 4624              	.L306:
1158:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 4625              		.loc 1 1158 9 is_stmt 1 view .LVU1327
1158:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 4626              		.loc 1 1158 25 is_stmt 0 view .LVU1328
 4627 00a8 524B     		ldr	r3, .L330
 4628 00aa 5868     		ldr	r0, [r3, #4]
1158:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 4629              		.loc 1 1158 38 view .LVU1329
 4630 00ac 1968     		ldr	r1, [r3]
1158:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 4631              		.loc 1 1158 13 view .LVU1330
 4632 00ae 0DF10703 		add	r3, sp, #7
 4633 00b2 0122     		movs	r2, #1
 4634 00b4 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 4635 00b6 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 4636 00b8 FFF7FEFF 		bl	MPU_Write_Len
 4637              	.LVL322:
1158:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 4638              		.loc 1 1158 12 view .LVU1331
 4639 00bc 0028     		cmp	r0, #0
 4640 00be 40F08780 		bne	.L319
1160:DMP/driver/eMPL/inv_mpu.c ****             data = BIT_DMP_INT_EN;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 144


 4641              		.loc 1 1160 9 is_stmt 1 view .LVU1332
1160:DMP/driver/eMPL/inv_mpu.c ****             data = BIT_DMP_INT_EN;
 4642              		.loc 1 1160 24 is_stmt 0 view .LVU1333
 4643 00c2 4C4B     		ldr	r3, .L330
 4644 00c4 5B7C     		ldrb	r3, [r3, #17]	@ zero_extendqisi2
1160:DMP/driver/eMPL/inv_mpu.c ****             data = BIT_DMP_INT_EN;
 4645              		.loc 1 1160 12 view .LVU1334
 4646 00c6 03B3     		cbz	r3, .L307
1161:DMP/driver/eMPL/inv_mpu.c ****         else
 4647              		.loc 1 1161 13 is_stmt 1 view .LVU1335
1161:DMP/driver/eMPL/inv_mpu.c ****         else
 4648              		.loc 1 1161 18 is_stmt 0 view .LVU1336
 4649 00c8 0223     		movs	r3, #2
 4650 00ca 8DF80730 		strb	r3, [sp, #7]
 4651              	.L308:
1164:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 4652              		.loc 1 1164 9 is_stmt 1 view .LVU1337
1164:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 4653              		.loc 1 1164 25 is_stmt 0 view .LVU1338
 4654 00ce 494B     		ldr	r3, .L330
 4655 00d0 5868     		ldr	r0, [r3, #4]
1164:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 4656              		.loc 1 1164 38 view .LVU1339
 4657 00d2 1968     		ldr	r1, [r3]
1164:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 4658              		.loc 1 1164 13 view .LVU1340
 4659 00d4 0DF10703 		add	r3, sp, #7
 4660 00d8 0122     		movs	r2, #1
 4661 00da 497C     		ldrb	r1, [r1, #17]	@ zero_extendqisi2
 4662 00dc 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 4663 00de FFF7FEFF 		bl	MPU_Write_Len
 4664              	.LVL323:
1164:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 4665              		.loc 1 1164 12 view .LVU1341
 4666 00e2 0028     		cmp	r0, #0
 4667 00e4 77D1     		bne	.L320
1166:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->fifo_en, 1, &data))
 4668              		.loc 1 1166 9 is_stmt 1 view .LVU1342
1166:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->fifo_en, 1, &data))
 4669              		.loc 1 1166 14 is_stmt 0 view .LVU1343
 4670 00e6 0023     		movs	r3, #0
 4671 00e8 8DF80730 		strb	r3, [sp, #7]
1167:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 4672              		.loc 1 1167 9 is_stmt 1 view .LVU1344
1167:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 4673              		.loc 1 1167 25 is_stmt 0 view .LVU1345
 4674 00ec 414B     		ldr	r3, .L330
 4675 00ee 5868     		ldr	r0, [r3, #4]
1167:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 4676              		.loc 1 1167 38 view .LVU1346
 4677 00f0 1968     		ldr	r1, [r3]
1167:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 4678              		.loc 1 1167 13 view .LVU1347
 4679 00f2 0DF10703 		add	r3, sp, #7
 4680 00f6 0122     		movs	r2, #1
 4681 00f8 4979     		ldrb	r1, [r1, #5]	@ zero_extendqisi2
 4682 00fa 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 145


 4683 00fc FFF7FEFF 		bl	MPU_Write_Len
 4684              	.LVL324:
1167:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 4685              		.loc 1 1167 12 view .LVU1348
 4686 0100 0028     		cmp	r0, #0
 4687 0102 6BD1     		bne	.L321
 4688              	.L303:
1190:DMP/driver/eMPL/inv_mpu.c **** 
 4689              		.loc 1 1190 1 view .LVU1349
 4690 0104 03B0     		add	sp, sp, #12
 4691              	.LCFI74:
 4692              		.cfi_remember_state
 4693              		.cfi_def_cfa_offset 4
 4694              		@ sp needed
 4695 0106 5DF804FB 		ldr	pc, [sp], #4
 4696              	.L307:
 4697              	.LCFI75:
 4698              		.cfi_restore_state
1163:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->int_enable, 1, &data))
 4699              		.loc 1 1163 13 is_stmt 1 view .LVU1350
1163:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->int_enable, 1, &data))
 4700              		.loc 1 1163 18 is_stmt 0 view .LVU1351
 4701 010a 0023     		movs	r3, #0
 4702 010c 8DF80730 		strb	r3, [sp, #7]
 4703 0110 DDE7     		b	.L308
 4704              	.L305:
1170:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &data))
 4705              		.loc 1 1170 9 is_stmt 1 view .LVU1352
1170:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &data))
 4706              		.loc 1 1170 14 is_stmt 0 view .LVU1353
 4707 0112 0423     		movs	r3, #4
 4708 0114 8DF80730 		strb	r3, [sp, #7]
1171:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 4709              		.loc 1 1171 9 is_stmt 1 view .LVU1354
1171:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 4710              		.loc 1 1171 25 is_stmt 0 view .LVU1355
 4711 0118 364B     		ldr	r3, .L330
 4712 011a 5868     		ldr	r0, [r3, #4]
1171:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 4713              		.loc 1 1171 38 view .LVU1356
 4714 011c 1968     		ldr	r1, [r3]
1171:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 4715              		.loc 1 1171 13 view .LVU1357
 4716 011e 0DF10703 		add	r3, sp, #7
 4717 0122 0122     		movs	r2, #1
 4718 0124 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 4719 0126 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 4720 0128 FFF7FEFF 		bl	MPU_Write_Len
 4721              	.LVL325:
1171:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 4722              		.loc 1 1171 12 view .LVU1358
 4723 012c 0028     		cmp	r0, #0
 4724 012e 58D1     		bne	.L322
1173:DMP/driver/eMPL/inv_mpu.c ****             data = BIT_FIFO_EN;
 4725              		.loc 1 1173 9 is_stmt 1 view .LVU1359
1173:DMP/driver/eMPL/inv_mpu.c ****             data = BIT_FIFO_EN;
 4726              		.loc 1 1173 24 is_stmt 0 view .LVU1360
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 146


 4727 0130 304B     		ldr	r3, .L330
 4728 0132 9B7C     		ldrb	r3, [r3, #18]	@ zero_extendqisi2
1173:DMP/driver/eMPL/inv_mpu.c ****             data = BIT_FIFO_EN;
 4729              		.loc 1 1173 12 view .LVU1361
 4730 0134 23B9     		cbnz	r3, .L309
1173:DMP/driver/eMPL/inv_mpu.c ****             data = BIT_FIFO_EN;
 4731              		.loc 1 1173 53 discriminator 1 view .LVU1362
 4732 0136 2F4B     		ldr	r3, .L330
 4733 0138 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
1173:DMP/driver/eMPL/inv_mpu.c ****             data = BIT_FIFO_EN;
 4734              		.loc 1 1173 37 discriminator 1 view .LVU1363
 4735 013a 13F0010F 		tst	r3, #1
 4736 013e 30D1     		bne	.L310
 4737              	.L309:
1174:DMP/driver/eMPL/inv_mpu.c ****         else
 4738              		.loc 1 1174 13 is_stmt 1 view .LVU1364
1174:DMP/driver/eMPL/inv_mpu.c ****         else
 4739              		.loc 1 1174 18 is_stmt 0 view .LVU1365
 4740 0140 4023     		movs	r3, #64
 4741 0142 8DF80730 		strb	r3, [sp, #7]
 4742              	.L311:
1177:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 4743              		.loc 1 1177 9 is_stmt 1 view .LVU1366
1177:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 4744              		.loc 1 1177 25 is_stmt 0 view .LVU1367
 4745 0146 2B4B     		ldr	r3, .L330
 4746 0148 5868     		ldr	r0, [r3, #4]
1177:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 4747              		.loc 1 1177 38 view .LVU1368
 4748 014a 1968     		ldr	r1, [r3]
1177:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 4749              		.loc 1 1177 13 view .LVU1369
 4750 014c 0DF10703 		add	r3, sp, #7
 4751 0150 0122     		movs	r2, #1
 4752 0152 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 4753 0154 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 4754 0156 FFF7FEFF 		bl	MPU_Write_Len
 4755              	.LVL326:
1177:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 4756              		.loc 1 1177 12 view .LVU1370
 4757 015a 0028     		cmp	r0, #0
 4758 015c 44D1     		bne	.L323
1179:DMP/driver/eMPL/inv_mpu.c ****         if (st.chip_cfg.int_enable)
 4759              		.loc 1 1179 9 is_stmt 1 view .LVU1371
 4760 015e 3220     		movs	r0, #50
 4761 0160 FFF7FEFF 		bl	HAL_Delay
 4762              	.LVL327:
1180:DMP/driver/eMPL/inv_mpu.c ****             data = BIT_DATA_RDY_EN;
 4763              		.loc 1 1180 9 view .LVU1372
1180:DMP/driver/eMPL/inv_mpu.c ****             data = BIT_DATA_RDY_EN;
 4764              		.loc 1 1180 24 is_stmt 0 view .LVU1373
 4765 0164 234B     		ldr	r3, .L330
 4766 0166 5B7C     		ldrb	r3, [r3, #17]	@ zero_extendqisi2
1180:DMP/driver/eMPL/inv_mpu.c ****             data = BIT_DATA_RDY_EN;
 4767              		.loc 1 1180 12 view .LVU1374
 4768 0168 FBB1     		cbz	r3, .L312
1181:DMP/driver/eMPL/inv_mpu.c ****         else
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 147


 4769              		.loc 1 1181 13 is_stmt 1 view .LVU1375
1181:DMP/driver/eMPL/inv_mpu.c ****         else
 4770              		.loc 1 1181 18 is_stmt 0 view .LVU1376
 4771 016a 0123     		movs	r3, #1
 4772 016c 8DF80730 		strb	r3, [sp, #7]
 4773              	.L313:
1184:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 4774              		.loc 1 1184 9 is_stmt 1 view .LVU1377
1184:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 4775              		.loc 1 1184 25 is_stmt 0 view .LVU1378
 4776 0170 204B     		ldr	r3, .L330
 4777 0172 5868     		ldr	r0, [r3, #4]
1184:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 4778              		.loc 1 1184 38 view .LVU1379
 4779 0174 1968     		ldr	r1, [r3]
1184:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 4780              		.loc 1 1184 13 view .LVU1380
 4781 0176 0DF10703 		add	r3, sp, #7
 4782 017a 0122     		movs	r2, #1
 4783 017c 497C     		ldrb	r1, [r1, #17]	@ zero_extendqisi2
 4784 017e 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 4785 0180 FFF7FEFF 		bl	MPU_Write_Len
 4786              	.LVL328:
1184:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 4787              		.loc 1 1184 12 view .LVU1381
 4788 0184 98BB     		cbnz	r0, .L324
1186:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 4789              		.loc 1 1186 9 is_stmt 1 view .LVU1382
1186:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 4790              		.loc 1 1186 25 is_stmt 0 view .LVU1383
 4791 0186 1B4B     		ldr	r3, .L330
 4792 0188 5868     		ldr	r0, [r3, #4]
1186:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 4793              		.loc 1 1186 38 view .LVU1384
 4794 018a 53F8101B 		ldr	r1, [r3], #16
1186:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 4795              		.loc 1 1186 13 view .LVU1385
 4796 018e 0122     		movs	r2, #1
 4797 0190 4979     		ldrb	r1, [r1, #5]	@ zero_extendqisi2
 4798 0192 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 4799 0194 FFF7FEFF 		bl	MPU_Write_Len
 4800              	.LVL329:
1186:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 4801              		.loc 1 1186 12 view .LVU1386
 4802 0198 0028     		cmp	r0, #0
 4803 019a B3D0     		beq	.L303
1187:DMP/driver/eMPL/inv_mpu.c ****     }
 4804              		.loc 1 1187 20 view .LVU1387
 4805 019c 4FF0FF30 		mov	r0, #-1
 4806 01a0 B0E7     		b	.L303
 4807              	.L310:
1176:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &data))
 4808              		.loc 1 1176 13 is_stmt 1 view .LVU1388
1176:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &data))
 4809              		.loc 1 1176 18 is_stmt 0 view .LVU1389
 4810 01a2 6023     		movs	r3, #96
 4811 01a4 8DF80730 		strb	r3, [sp, #7]
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 148


 4812 01a8 CDE7     		b	.L311
 4813              	.L312:
1183:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->int_enable, 1, &data))
 4814              		.loc 1 1183 13 is_stmt 1 view .LVU1390
1183:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->int_enable, 1, &data))
 4815              		.loc 1 1183 18 is_stmt 0 view .LVU1391
 4816 01aa 0023     		movs	r3, #0
 4817 01ac 8DF80730 		strb	r3, [sp, #7]
 4818 01b0 DEE7     		b	.L313
 4819              	.L314:
 4820              	.LCFI76:
 4821              		.cfi_def_cfa_offset 0
 4822              		.cfi_restore 14
1140:DMP/driver/eMPL/inv_mpu.c **** 
 4823              		.loc 1 1140 16 view .LVU1392
 4824 01b2 4FF0FF30 		mov	r0, #-1
1190:DMP/driver/eMPL/inv_mpu.c **** 
 4825              		.loc 1 1190 1 view .LVU1393
 4826 01b6 7047     		bx	lr
 4827              	.L315:
 4828              	.LCFI77:
 4829              		.cfi_def_cfa_offset 16
 4830              		.cfi_offset 14, -4
1144:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->fifo_en, 1, &data))
 4831              		.loc 1 1144 16 view .LVU1394
 4832 01b8 4FF0FF30 		mov	r0, #-1
 4833 01bc A2E7     		b	.L303
 4834              	.L316:
1146:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &data))
 4835              		.loc 1 1146 16 view .LVU1395
 4836 01be 4FF0FF30 		mov	r0, #-1
 4837 01c2 9FE7     		b	.L303
 4838              	.L317:
1148:DMP/driver/eMPL/inv_mpu.c **** 
 4839              		.loc 1 1148 16 view .LVU1396
 4840 01c4 4FF0FF30 		mov	r0, #-1
 4841 01c8 9CE7     		b	.L303
 4842              	.L318:
1153:DMP/driver/eMPL/inv_mpu.c ****         delay_ms(50);
 4843              		.loc 1 1153 20 view .LVU1397
 4844 01ca 4FF0FF30 		mov	r0, #-1
 4845 01ce 99E7     		b	.L303
 4846              	.L319:
1159:DMP/driver/eMPL/inv_mpu.c ****         if (st.chip_cfg.int_enable)
 4847              		.loc 1 1159 20 view .LVU1398
 4848 01d0 4FF0FF30 		mov	r0, #-1
 4849 01d4 96E7     		b	.L303
 4850              	.L320:
1165:DMP/driver/eMPL/inv_mpu.c ****         data = 0;
 4851              		.loc 1 1165 20 view .LVU1399
 4852 01d6 4FF0FF30 		mov	r0, #-1
 4853 01da 93E7     		b	.L303
 4854              	.L321:
1168:DMP/driver/eMPL/inv_mpu.c ****     } else {
 4855              		.loc 1 1168 20 view .LVU1400
 4856 01dc 4FF0FF30 		mov	r0, #-1
 4857 01e0 90E7     		b	.L303
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 149


 4858              	.L322:
1172:DMP/driver/eMPL/inv_mpu.c ****         if (st.chip_cfg.bypass_mode || !(st.chip_cfg.sensors & INV_XYZ_COMPASS))
 4859              		.loc 1 1172 20 view .LVU1401
 4860 01e2 4FF0FF30 		mov	r0, #-1
 4861 01e6 8DE7     		b	.L303
 4862              	.L323:
1178:DMP/driver/eMPL/inv_mpu.c ****         delay_ms(50);
 4863              		.loc 1 1178 20 view .LVU1402
 4864 01e8 4FF0FF30 		mov	r0, #-1
 4865 01ec 8AE7     		b	.L303
 4866              	.L324:
1185:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->fifo_en, 1, &st.chip_cfg.fifo_enable))
 4867              		.loc 1 1185 20 view .LVU1403
 4868 01ee 4FF0FF30 		mov	r0, #-1
 4869 01f2 87E7     		b	.L303
 4870              	.L331:
 4871              		.align	2
 4872              	.L330:
 4873 01f4 00000000 		.word	st
 4874              		.cfi_endproc
 4875              	.LFE181:
 4877              		.section	.text.mpu_get_gyro_fsr,"ax",%progbits
 4878              		.align	1
 4879              		.global	mpu_get_gyro_fsr
 4880              		.syntax unified
 4881              		.thumb
 4882              		.thumb_func
 4884              	mpu_get_gyro_fsr:
 4885              	.LVL330:
 4886              	.LFB182:
1198:DMP/driver/eMPL/inv_mpu.c ****     switch (st.chip_cfg.gyro_fsr) {
 4887              		.loc 1 1198 1 is_stmt 1 view -0
 4888              		.cfi_startproc
 4889              		@ args = 0, pretend = 0, frame = 0
 4890              		@ frame_needed = 0, uses_anonymous_args = 0
 4891              		@ link register save eliminated.
1199:DMP/driver/eMPL/inv_mpu.c ****     case INV_FSR_250DPS:
 4892              		.loc 1 1199 5 view .LVU1405
1199:DMP/driver/eMPL/inv_mpu.c ****     case INV_FSR_250DPS:
 4893              		.loc 1 1199 24 is_stmt 0 view .LVU1406
 4894 0000 0D4B     		ldr	r3, .L340
 4895 0002 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
1199:DMP/driver/eMPL/inv_mpu.c ****     case INV_FSR_250DPS:
 4896              		.loc 1 1199 5 view .LVU1407
 4897 0004 032B     		cmp	r3, #3
 4898 0006 13D8     		bhi	.L333
 4899 0008 DFE803F0 		tbb	[pc, r3]
 4900              	.L335:
 4901 000c 02       		.byte	(.L338-.L335)/2
 4902 000d 06       		.byte	(.L337-.L335)/2
 4903 000e 0A       		.byte	(.L336-.L335)/2
 4904 000f 0E       		.byte	(.L334-.L335)/2
 4905              		.p2align 1
 4906              	.L338:
1201:DMP/driver/eMPL/inv_mpu.c ****         break;
 4907              		.loc 1 1201 9 is_stmt 1 view .LVU1408
1201:DMP/driver/eMPL/inv_mpu.c ****         break;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 150


 4908              		.loc 1 1201 16 is_stmt 0 view .LVU1409
 4909 0010 FA23     		movs	r3, #250
 4910 0012 0380     		strh	r3, [r0]	@ movhi
1202:DMP/driver/eMPL/inv_mpu.c ****     case INV_FSR_500DPS:
 4911              		.loc 1 1202 9 is_stmt 1 view .LVU1410
 4912              	.L339:
1216:DMP/driver/eMPL/inv_mpu.c **** }
 4913              		.loc 1 1216 5 view .LVU1411
1217:DMP/driver/eMPL/inv_mpu.c **** 
 4914              		.loc 1 1217 1 is_stmt 0 view .LVU1412
 4915 0014 0020     		movs	r0, #0
 4916              	.LVL331:
1217:DMP/driver/eMPL/inv_mpu.c **** 
 4917              		.loc 1 1217 1 view .LVU1413
 4918 0016 7047     		bx	lr
 4919              	.LVL332:
 4920              	.L337:
1204:DMP/driver/eMPL/inv_mpu.c ****         break;
 4921              		.loc 1 1204 9 is_stmt 1 view .LVU1414
1204:DMP/driver/eMPL/inv_mpu.c ****         break;
 4922              		.loc 1 1204 16 is_stmt 0 view .LVU1415
 4923 0018 4FF4FA73 		mov	r3, #500
 4924 001c 0380     		strh	r3, [r0]	@ movhi
1205:DMP/driver/eMPL/inv_mpu.c ****     case INV_FSR_1000DPS:
 4925              		.loc 1 1205 9 is_stmt 1 view .LVU1416
 4926 001e F9E7     		b	.L339
 4927              	.L336:
1207:DMP/driver/eMPL/inv_mpu.c ****         break;
 4928              		.loc 1 1207 9 view .LVU1417
1207:DMP/driver/eMPL/inv_mpu.c ****         break;
 4929              		.loc 1 1207 16 is_stmt 0 view .LVU1418
 4930 0020 4FF47A73 		mov	r3, #1000
 4931 0024 0380     		strh	r3, [r0]	@ movhi
1208:DMP/driver/eMPL/inv_mpu.c ****     case INV_FSR_2000DPS:
 4932              		.loc 1 1208 9 is_stmt 1 view .LVU1419
 4933 0026 F5E7     		b	.L339
 4934              	.L334:
1210:DMP/driver/eMPL/inv_mpu.c ****         break;
 4935              		.loc 1 1210 9 view .LVU1420
1210:DMP/driver/eMPL/inv_mpu.c ****         break;
 4936              		.loc 1 1210 16 is_stmt 0 view .LVU1421
 4937 0028 4FF4FA63 		mov	r3, #2000
 4938 002c 0380     		strh	r3, [r0]	@ movhi
1211:DMP/driver/eMPL/inv_mpu.c ****     default:
 4939              		.loc 1 1211 9 is_stmt 1 view .LVU1422
 4940 002e F1E7     		b	.L339
 4941              	.L333:
1213:DMP/driver/eMPL/inv_mpu.c ****         break;
 4942              		.loc 1 1213 9 view .LVU1423
1213:DMP/driver/eMPL/inv_mpu.c ****         break;
 4943              		.loc 1 1213 16 is_stmt 0 view .LVU1424
 4944 0030 0023     		movs	r3, #0
 4945 0032 0380     		strh	r3, [r0]	@ movhi
1214:DMP/driver/eMPL/inv_mpu.c ****     }
 4946              		.loc 1 1214 9 is_stmt 1 view .LVU1425
 4947 0034 EEE7     		b	.L339
 4948              	.L341:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 151


 4949 0036 00BF     		.align	2
 4950              	.L340:
 4951 0038 00000000 		.word	st
 4952              		.cfi_endproc
 4953              	.LFE182:
 4955              		.section	.text.mpu_set_gyro_fsr,"ax",%progbits
 4956              		.align	1
 4957              		.global	mpu_set_gyro_fsr
 4958              		.syntax unified
 4959              		.thumb
 4960              		.thumb_func
 4962              	mpu_set_gyro_fsr:
 4963              	.LVL333:
 4964              	.LFB183:
1225:DMP/driver/eMPL/inv_mpu.c ****     unsigned char data;
 4965              		.loc 1 1225 1 view -0
 4966              		.cfi_startproc
 4967              		@ args = 0, pretend = 0, frame = 8
 4968              		@ frame_needed = 0, uses_anonymous_args = 0
1226:DMP/driver/eMPL/inv_mpu.c **** 
 4969              		.loc 1 1226 5 view .LVU1427
1228:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4970              		.loc 1 1228 5 view .LVU1428
1228:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4971              		.loc 1 1228 22 is_stmt 0 view .LVU1429
 4972 0000 244B     		ldr	r3, .L359
 4973 0002 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
1228:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 4974              		.loc 1 1228 8 view .LVU1430
 4975 0004 002B     		cmp	r3, #0
 4976 0006 3CD0     		beq	.L350
1225:DMP/driver/eMPL/inv_mpu.c ****     unsigned char data;
 4977              		.loc 1 1225 1 view .LVU1431
 4978 0008 00B5     		push	{lr}
 4979              	.LCFI78:
 4980              		.cfi_def_cfa_offset 4
 4981              		.cfi_offset 14, -4
 4982 000a 83B0     		sub	sp, sp, #12
 4983              	.LCFI79:
 4984              		.cfi_def_cfa_offset 16
1231:DMP/driver/eMPL/inv_mpu.c ****     case 250:
 4985              		.loc 1 1231 5 is_stmt 1 view .LVU1432
 4986 000c B0F57A7F 		cmp	r0, #1000
 4987 0010 33D0     		beq	.L344
 4988 0012 0BD8     		bhi	.L345
 4989 0014 FA28     		cmp	r0, #250
 4990 0016 13D0     		beq	.L346
 4991 0018 B0F5FA7F 		cmp	r0, #500
 4992 001c 03D1     		bne	.L357
1236:DMP/driver/eMPL/inv_mpu.c ****         break;
 4993              		.loc 1 1236 9 view .LVU1433
1236:DMP/driver/eMPL/inv_mpu.c ****         break;
 4994              		.loc 1 1236 14 is_stmt 0 view .LVU1434
 4995 001e 0823     		movs	r3, #8
 4996 0020 8DF80730 		strb	r3, [sp, #7]
1237:DMP/driver/eMPL/inv_mpu.c ****     case 1000:
 4997              		.loc 1 1237 9 is_stmt 1 view .LVU1435
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 152


 4998 0024 0FE0     		b	.L349
 4999              	.L357:
1231:DMP/driver/eMPL/inv_mpu.c ****     case 250:
 5000              		.loc 1 1231 5 is_stmt 0 view .LVU1436
 5001 0026 4FF0FF30 		mov	r0, #-1
 5002              	.LVL334:
1231:DMP/driver/eMPL/inv_mpu.c ****     case 250:
 5003              		.loc 1 1231 5 view .LVU1437
 5004 002a 23E0     		b	.L342
 5005              	.LVL335:
 5006              	.L345:
1231:DMP/driver/eMPL/inv_mpu.c ****     case 250:
 5007              		.loc 1 1231 5 view .LVU1438
 5008 002c B0F5FA6F 		cmp	r0, #2000
 5009 0030 03D1     		bne	.L358
1242:DMP/driver/eMPL/inv_mpu.c ****         break;
 5010              		.loc 1 1242 9 is_stmt 1 view .LVU1439
1242:DMP/driver/eMPL/inv_mpu.c ****         break;
 5011              		.loc 1 1242 14 is_stmt 0 view .LVU1440
 5012 0032 1823     		movs	r3, #24
 5013 0034 8DF80730 		strb	r3, [sp, #7]
1243:DMP/driver/eMPL/inv_mpu.c ****     default:
 5014              		.loc 1 1243 9 is_stmt 1 view .LVU1441
 5015 0038 05E0     		b	.L349
 5016              	.L358:
1231:DMP/driver/eMPL/inv_mpu.c ****     case 250:
 5017              		.loc 1 1231 5 is_stmt 0 view .LVU1442
 5018 003a 4FF0FF30 		mov	r0, #-1
 5019              	.LVL336:
1231:DMP/driver/eMPL/inv_mpu.c ****     case 250:
 5020              		.loc 1 1231 5 view .LVU1443
 5021 003e 19E0     		b	.L342
 5022              	.LVL337:
 5023              	.L346:
1233:DMP/driver/eMPL/inv_mpu.c ****         break;
 5024              		.loc 1 1233 9 is_stmt 1 view .LVU1444
1233:DMP/driver/eMPL/inv_mpu.c ****         break;
 5025              		.loc 1 1233 14 is_stmt 0 view .LVU1445
 5026 0040 0023     		movs	r3, #0
 5027 0042 8DF80730 		strb	r3, [sp, #7]
1234:DMP/driver/eMPL/inv_mpu.c ****     case 500:
 5028              		.loc 1 1234 9 is_stmt 1 view .LVU1446
 5029              	.L349:
1248:DMP/driver/eMPL/inv_mpu.c ****         return 0;
 5030              		.loc 1 1248 5 view .LVU1447
1248:DMP/driver/eMPL/inv_mpu.c ****         return 0;
 5031              		.loc 1 1248 20 is_stmt 0 view .LVU1448
 5032 0046 134B     		ldr	r3, .L359
 5033 0048 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
1248:DMP/driver/eMPL/inv_mpu.c ****         return 0;
 5034              		.loc 1 1248 30 view .LVU1449
 5035 004a 9DF80720 		ldrb	r2, [sp, #7]	@ zero_extendqisi2
1248:DMP/driver/eMPL/inv_mpu.c ****         return 0;
 5036              		.loc 1 1248 8 view .LVU1450
 5037 004e B3EBD20F 		cmp	r3, r2, lsr #3
 5038 0052 19D0     		beq	.L351
1250:DMP/driver/eMPL/inv_mpu.c ****         return -1;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 153


 5039              		.loc 1 1250 5 is_stmt 1 view .LVU1451
1250:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 5040              		.loc 1 1250 21 is_stmt 0 view .LVU1452
 5041 0054 0F4B     		ldr	r3, .L359
 5042 0056 5868     		ldr	r0, [r3, #4]
 5043              	.LVL338:
1250:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 5044              		.loc 1 1250 34 view .LVU1453
 5045 0058 1968     		ldr	r1, [r3]
1250:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 5046              		.loc 1 1250 9 view .LVU1454
 5047 005a 0DF10703 		add	r3, sp, #7
 5048 005e 0122     		movs	r2, #1
 5049 0060 8979     		ldrb	r1, [r1, #6]	@ zero_extendqisi2
 5050 0062 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 5051 0064 FFF7FEFF 		bl	MPU_Write_Len
 5052              	.LVL339:
1250:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 5053              		.loc 1 1250 8 view .LVU1455
 5054 0068 80B9     		cbnz	r0, .L352
1252:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 5055              		.loc 1 1252 5 is_stmt 1 view .LVU1456
1252:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 5056              		.loc 1 1252 26 is_stmt 0 view .LVU1457
 5057 006a 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 5058 006e DB08     		lsrs	r3, r3, #3
 5059 0070 084A     		ldr	r2, .L359
 5060 0072 1372     		strb	r3, [r2, #8]
1253:DMP/driver/eMPL/inv_mpu.c **** }
 5061              		.loc 1 1253 5 is_stmt 1 view .LVU1458
 5062              	.L342:
1254:DMP/driver/eMPL/inv_mpu.c **** 
 5063              		.loc 1 1254 1 is_stmt 0 view .LVU1459
 5064 0074 03B0     		add	sp, sp, #12
 5065              	.LCFI80:
 5066              		.cfi_remember_state
 5067              		.cfi_def_cfa_offset 4
 5068              		@ sp needed
 5069 0076 5DF804FB 		ldr	pc, [sp], #4
 5070              	.LVL340:
 5071              	.L344:
 5072              	.LCFI81:
 5073              		.cfi_restore_state
1239:DMP/driver/eMPL/inv_mpu.c ****         break;
 5074              		.loc 1 1239 9 is_stmt 1 view .LVU1460
1239:DMP/driver/eMPL/inv_mpu.c ****         break;
 5075              		.loc 1 1239 14 is_stmt 0 view .LVU1461
 5076 007a 1023     		movs	r3, #16
 5077 007c 8DF80730 		strb	r3, [sp, #7]
1240:DMP/driver/eMPL/inv_mpu.c ****     case 2000:
 5078              		.loc 1 1240 9 is_stmt 1 view .LVU1462
 5079 0080 E1E7     		b	.L349
 5080              	.L350:
 5081              	.LCFI82:
 5082              		.cfi_def_cfa_offset 0
 5083              		.cfi_restore 14
1229:DMP/driver/eMPL/inv_mpu.c **** 
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 154


 5084              		.loc 1 1229 16 is_stmt 0 view .LVU1463
 5085 0082 4FF0FF30 		mov	r0, #-1
 5086              	.LVL341:
1254:DMP/driver/eMPL/inv_mpu.c **** 
 5087              		.loc 1 1254 1 view .LVU1464
 5088 0086 7047     		bx	lr
 5089              	.LVL342:
 5090              	.L351:
 5091              	.LCFI83:
 5092              		.cfi_def_cfa_offset 16
 5093              		.cfi_offset 14, -4
1249:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->gyro_cfg, 1, &data))
 5094              		.loc 1 1249 16 view .LVU1465
 5095 0088 0020     		movs	r0, #0
 5096              	.LVL343:
1249:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->gyro_cfg, 1, &data))
 5097              		.loc 1 1249 16 view .LVU1466
 5098 008a F3E7     		b	.L342
 5099              	.L352:
1251:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.gyro_fsr = data >> 3;
 5100              		.loc 1 1251 16 view .LVU1467
 5101 008c 4FF0FF30 		mov	r0, #-1
 5102 0090 F0E7     		b	.L342
 5103              	.L360:
 5104 0092 00BF     		.align	2
 5105              	.L359:
 5106 0094 00000000 		.word	st
 5107              		.cfi_endproc
 5108              	.LFE183:
 5110              		.section	.text.mpu_get_accel_fsr,"ax",%progbits
 5111              		.align	1
 5112              		.global	mpu_get_accel_fsr
 5113              		.syntax unified
 5114              		.thumb
 5115              		.thumb_func
 5117              	mpu_get_accel_fsr:
 5118              	.LVL344:
 5119              	.LFB184:
1262:DMP/driver/eMPL/inv_mpu.c ****     switch (st.chip_cfg.accel_fsr) {
 5120              		.loc 1 1262 1 is_stmt 1 view -0
 5121              		.cfi_startproc
 5122              		@ args = 0, pretend = 0, frame = 0
 5123              		@ frame_needed = 0, uses_anonymous_args = 0
 5124              		@ link register save eliminated.
1263:DMP/driver/eMPL/inv_mpu.c ****     case INV_FSR_2G:
 5125              		.loc 1 1263 5 view .LVU1469
1263:DMP/driver/eMPL/inv_mpu.c ****     case INV_FSR_2G:
 5126              		.loc 1 1263 24 is_stmt 0 view .LVU1470
 5127 0000 0F4B     		ldr	r3, .L371
 5128 0002 5B7A     		ldrb	r3, [r3, #9]	@ zero_extendqisi2
1263:DMP/driver/eMPL/inv_mpu.c ****     case INV_FSR_2G:
 5129              		.loc 1 1263 5 view .LVU1471
 5130 0004 032B     		cmp	r3, #3
 5131 0006 16D8     		bhi	.L369
 5132 0008 DFE803F0 		tbb	[pc, r3]
 5133              	.L364:
 5134 000c 02       		.byte	(.L367-.L364)/2
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 155


 5135 000d 0C       		.byte	(.L366-.L364)/2
 5136 000e 0F       		.byte	(.L365-.L364)/2
 5137 000f 12       		.byte	(.L363-.L364)/2
 5138              		.p2align 1
 5139              	.L367:
1265:DMP/driver/eMPL/inv_mpu.c ****         break;
 5140              		.loc 1 1265 9 is_stmt 1 view .LVU1472
1265:DMP/driver/eMPL/inv_mpu.c ****         break;
 5141              		.loc 1 1265 16 is_stmt 0 view .LVU1473
 5142 0010 0223     		movs	r3, #2
 5143 0012 0370     		strb	r3, [r0]
1266:DMP/driver/eMPL/inv_mpu.c ****     case INV_FSR_4G:
 5144              		.loc 1 1266 9 is_stmt 1 view .LVU1474
 5145              	.L368:
1279:DMP/driver/eMPL/inv_mpu.c ****         fsr[0] <<= 1;
 5146              		.loc 1 1279 5 view .LVU1475
1279:DMP/driver/eMPL/inv_mpu.c ****         fsr[0] <<= 1;
 5147              		.loc 1 1279 20 is_stmt 0 view .LVU1476
 5148 0014 0A4B     		ldr	r3, .L371
 5149 0016 DB7C     		ldrb	r3, [r3, #19]	@ zero_extendqisi2
1279:DMP/driver/eMPL/inv_mpu.c ****         fsr[0] <<= 1;
 5150              		.loc 1 1279 8 view .LVU1477
 5151 0018 83B1     		cbz	r3, .L370
1280:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 5152              		.loc 1 1280 9 is_stmt 1 view .LVU1478
1280:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 5153              		.loc 1 1280 12 is_stmt 0 view .LVU1479
 5154 001a 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
1280:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 5155              		.loc 1 1280 16 view .LVU1480
 5156 001c 5B00     		lsls	r3, r3, #1
 5157 001e 0370     		strb	r3, [r0]
1281:DMP/driver/eMPL/inv_mpu.c **** }
 5158              		.loc 1 1281 12 view .LVU1481
 5159 0020 0020     		movs	r0, #0
 5160              	.LVL345:
1281:DMP/driver/eMPL/inv_mpu.c **** }
 5161              		.loc 1 1281 12 view .LVU1482
 5162 0022 7047     		bx	lr
 5163              	.LVL346:
 5164              	.L366:
1268:DMP/driver/eMPL/inv_mpu.c ****         break;
 5165              		.loc 1 1268 9 is_stmt 1 view .LVU1483
1268:DMP/driver/eMPL/inv_mpu.c ****         break;
 5166              		.loc 1 1268 16 is_stmt 0 view .LVU1484
 5167 0024 0423     		movs	r3, #4
 5168 0026 0370     		strb	r3, [r0]
1269:DMP/driver/eMPL/inv_mpu.c ****     case INV_FSR_8G:
 5169              		.loc 1 1269 9 is_stmt 1 view .LVU1485
 5170 0028 F4E7     		b	.L368
 5171              	.L365:
1271:DMP/driver/eMPL/inv_mpu.c ****         break;
 5172              		.loc 1 1271 9 view .LVU1486
1271:DMP/driver/eMPL/inv_mpu.c ****         break;
 5173              		.loc 1 1271 16 is_stmt 0 view .LVU1487
 5174 002a 0823     		movs	r3, #8
 5175 002c 0370     		strb	r3, [r0]
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 156


1272:DMP/driver/eMPL/inv_mpu.c ****     case INV_FSR_16G:
 5176              		.loc 1 1272 9 is_stmt 1 view .LVU1488
 5177 002e F1E7     		b	.L368
 5178              	.L363:
1274:DMP/driver/eMPL/inv_mpu.c ****         break;
 5179              		.loc 1 1274 9 view .LVU1489
1274:DMP/driver/eMPL/inv_mpu.c ****         break;
 5180              		.loc 1 1274 16 is_stmt 0 view .LVU1490
 5181 0030 1023     		movs	r3, #16
 5182 0032 0370     		strb	r3, [r0]
1275:DMP/driver/eMPL/inv_mpu.c ****     default:
 5183              		.loc 1 1275 9 is_stmt 1 view .LVU1491
 5184 0034 EEE7     		b	.L368
 5185              	.L369:
1263:DMP/driver/eMPL/inv_mpu.c ****     case INV_FSR_2G:
 5186              		.loc 1 1263 5 is_stmt 0 view .LVU1492
 5187 0036 4FF0FF30 		mov	r0, #-1
 5188              	.LVL347:
1263:DMP/driver/eMPL/inv_mpu.c ****     case INV_FSR_2G:
 5189              		.loc 1 1263 5 view .LVU1493
 5190 003a 7047     		bx	lr
 5191              	.LVL348:
 5192              	.L370:
1281:DMP/driver/eMPL/inv_mpu.c **** }
 5193              		.loc 1 1281 12 view .LVU1494
 5194 003c 0020     		movs	r0, #0
 5195              	.LVL349:
1282:DMP/driver/eMPL/inv_mpu.c **** 
 5196              		.loc 1 1282 1 view .LVU1495
 5197 003e 7047     		bx	lr
 5198              	.L372:
 5199              		.align	2
 5200              	.L371:
 5201 0040 00000000 		.word	st
 5202              		.cfi_endproc
 5203              	.LFE184:
 5205              		.section	.text.mpu_set_accel_fsr,"ax",%progbits
 5206              		.align	1
 5207              		.global	mpu_set_accel_fsr
 5208              		.syntax unified
 5209              		.thumb
 5210              		.thumb_func
 5212              	mpu_set_accel_fsr:
 5213              	.LVL350:
 5214              	.LFB185:
1290:DMP/driver/eMPL/inv_mpu.c ****     unsigned char data;
 5215              		.loc 1 1290 1 is_stmt 1 view -0
 5216              		.cfi_startproc
 5217              		@ args = 0, pretend = 0, frame = 8
 5218              		@ frame_needed = 0, uses_anonymous_args = 0
1291:DMP/driver/eMPL/inv_mpu.c **** 
 5219              		.loc 1 1291 5 view .LVU1497
1293:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 5220              		.loc 1 1293 5 view .LVU1498
1293:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 5221              		.loc 1 1293 22 is_stmt 0 view .LVU1499
 5222 0000 234B     		ldr	r3, .L389
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 157


 5223 0002 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
1293:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 5224              		.loc 1 1293 8 view .LVU1500
 5225 0004 002B     		cmp	r3, #0
 5226 0006 35D0     		beq	.L381
1290:DMP/driver/eMPL/inv_mpu.c ****     unsigned char data;
 5227              		.loc 1 1290 1 view .LVU1501
 5228 0008 00B5     		push	{lr}
 5229              	.LCFI84:
 5230              		.cfi_def_cfa_offset 4
 5231              		.cfi_offset 14, -4
 5232 000a 83B0     		sub	sp, sp, #12
 5233              	.LCFI85:
 5234              		.cfi_def_cfa_offset 16
1296:DMP/driver/eMPL/inv_mpu.c ****     case 2:
 5235              		.loc 1 1296 5 is_stmt 1 view .LVU1502
 5236 000c 0238     		subs	r0, r0, #2
 5237              	.LVL351:
1296:DMP/driver/eMPL/inv_mpu.c ****     case 2:
 5238              		.loc 1 1296 5 is_stmt 0 view .LVU1503
 5239 000e 0E28     		cmp	r0, #14
 5240 0010 33D8     		bhi	.L382
 5241 0012 DFE800F0 		tbb	[pc, r0]
 5242              	.L376:
 5243 0016 08       		.byte	(.L379-.L376)/2
 5244 0017 32       		.byte	(.L382-.L376)/2
 5245 0018 23       		.byte	(.L378-.L376)/2
 5246 0019 32       		.byte	(.L382-.L376)/2
 5247 001a 32       		.byte	(.L382-.L376)/2
 5248 001b 32       		.byte	(.L382-.L376)/2
 5249 001c 27       		.byte	(.L377-.L376)/2
 5250 001d 32       		.byte	(.L382-.L376)/2
 5251 001e 32       		.byte	(.L382-.L376)/2
 5252 001f 32       		.byte	(.L382-.L376)/2
 5253 0020 32       		.byte	(.L382-.L376)/2
 5254 0021 32       		.byte	(.L382-.L376)/2
 5255 0022 32       		.byte	(.L382-.L376)/2
 5256 0023 32       		.byte	(.L382-.L376)/2
 5257 0024 2B       		.byte	(.L375-.L376)/2
 5258 0025 00       		.p2align 1
 5259              	.L379:
1298:DMP/driver/eMPL/inv_mpu.c ****         break;
 5260              		.loc 1 1298 9 is_stmt 1 view .LVU1504
1298:DMP/driver/eMPL/inv_mpu.c ****         break;
 5261              		.loc 1 1298 14 is_stmt 0 view .LVU1505
 5262 0026 0023     		movs	r3, #0
 5263 0028 8DF80730 		strb	r3, [sp, #7]
1299:DMP/driver/eMPL/inv_mpu.c ****     case 4:
 5264              		.loc 1 1299 9 is_stmt 1 view .LVU1506
 5265              	.L380:
1313:DMP/driver/eMPL/inv_mpu.c ****         return 0;
 5266              		.loc 1 1313 5 view .LVU1507
1313:DMP/driver/eMPL/inv_mpu.c ****         return 0;
 5267              		.loc 1 1313 20 is_stmt 0 view .LVU1508
 5268 002c 184B     		ldr	r3, .L389
 5269 002e 5B7A     		ldrb	r3, [r3, #9]	@ zero_extendqisi2
1313:DMP/driver/eMPL/inv_mpu.c ****         return 0;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 158


 5270              		.loc 1 1313 31 view .LVU1509
 5271 0030 9DF80720 		ldrb	r2, [sp, #7]	@ zero_extendqisi2
1313:DMP/driver/eMPL/inv_mpu.c ****         return 0;
 5272              		.loc 1 1313 8 view .LVU1510
 5273 0034 B3EBD20F 		cmp	r3, r2, lsr #3
 5274 0038 24D0     		beq	.L383
1315:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 5275              		.loc 1 1315 5 is_stmt 1 view .LVU1511
1315:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 5276              		.loc 1 1315 21 is_stmt 0 view .LVU1512
 5277 003a 154B     		ldr	r3, .L389
 5278 003c 5868     		ldr	r0, [r3, #4]
1315:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 5279              		.loc 1 1315 34 view .LVU1513
 5280 003e 1968     		ldr	r1, [r3]
1315:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 5281              		.loc 1 1315 9 view .LVU1514
 5282 0040 0DF10703 		add	r3, sp, #7
 5283 0044 0122     		movs	r2, #1
 5284 0046 C979     		ldrb	r1, [r1, #7]	@ zero_extendqisi2
 5285 0048 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 5286 004a FFF7FEFF 		bl	MPU_Write_Len
 5287              	.LVL352:
1315:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 5288              		.loc 1 1315 8 view .LVU1515
 5289 004e D8B9     		cbnz	r0, .L384
1317:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 5290              		.loc 1 1317 5 is_stmt 1 view .LVU1516
1317:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 5291              		.loc 1 1317 27 is_stmt 0 view .LVU1517
 5292 0050 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 5293 0054 DB08     		lsrs	r3, r3, #3
 5294 0056 0E4A     		ldr	r2, .L389
 5295 0058 5372     		strb	r3, [r2, #9]
1318:DMP/driver/eMPL/inv_mpu.c **** }
 5296              		.loc 1 1318 5 is_stmt 1 view .LVU1518
1318:DMP/driver/eMPL/inv_mpu.c **** }
 5297              		.loc 1 1318 12 is_stmt 0 view .LVU1519
 5298 005a 10E0     		b	.L373
 5299              	.L378:
1301:DMP/driver/eMPL/inv_mpu.c ****         break;
 5300              		.loc 1 1301 9 is_stmt 1 view .LVU1520
1301:DMP/driver/eMPL/inv_mpu.c ****         break;
 5301              		.loc 1 1301 14 is_stmt 0 view .LVU1521
 5302 005c 0823     		movs	r3, #8
 5303 005e 8DF80730 		strb	r3, [sp, #7]
1302:DMP/driver/eMPL/inv_mpu.c ****     case 8:
 5304              		.loc 1 1302 9 is_stmt 1 view .LVU1522
 5305 0062 E3E7     		b	.L380
 5306              	.L377:
1304:DMP/driver/eMPL/inv_mpu.c ****         break;
 5307              		.loc 1 1304 9 view .LVU1523
1304:DMP/driver/eMPL/inv_mpu.c ****         break;
 5308              		.loc 1 1304 14 is_stmt 0 view .LVU1524
 5309 0064 1023     		movs	r3, #16
 5310 0066 8DF80730 		strb	r3, [sp, #7]
1305:DMP/driver/eMPL/inv_mpu.c ****     case 16:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 159


 5311              		.loc 1 1305 9 is_stmt 1 view .LVU1525
 5312 006a DFE7     		b	.L380
 5313              	.L375:
1307:DMP/driver/eMPL/inv_mpu.c ****         break;
 5314              		.loc 1 1307 9 view .LVU1526
1307:DMP/driver/eMPL/inv_mpu.c ****         break;
 5315              		.loc 1 1307 14 is_stmt 0 view .LVU1527
 5316 006c 1823     		movs	r3, #24
 5317 006e 8DF80730 		strb	r3, [sp, #7]
1308:DMP/driver/eMPL/inv_mpu.c ****     default:
 5318              		.loc 1 1308 9 is_stmt 1 view .LVU1528
 5319 0072 DBE7     		b	.L380
 5320              	.LVL353:
 5321              	.L381:
 5322              	.LCFI86:
 5323              		.cfi_def_cfa_offset 0
 5324              		.cfi_restore 14
1294:DMP/driver/eMPL/inv_mpu.c **** 
 5325              		.loc 1 1294 16 is_stmt 0 view .LVU1529
 5326 0074 4FF0FF30 		mov	r0, #-1
 5327              	.LVL354:
1319:DMP/driver/eMPL/inv_mpu.c **** 
 5328              		.loc 1 1319 1 view .LVU1530
 5329 0078 7047     		bx	lr
 5330              	.L382:
 5331              	.LCFI87:
 5332              		.cfi_def_cfa_offset 16
 5333              		.cfi_offset 14, -4
1296:DMP/driver/eMPL/inv_mpu.c ****     case 2:
 5334              		.loc 1 1296 5 view .LVU1531
 5335 007a 4FF0FF30 		mov	r0, #-1
 5336              	.L373:
1319:DMP/driver/eMPL/inv_mpu.c **** 
 5337              		.loc 1 1319 1 view .LVU1532
 5338 007e 03B0     		add	sp, sp, #12
 5339              	.LCFI88:
 5340              		.cfi_remember_state
 5341              		.cfi_def_cfa_offset 4
 5342              		@ sp needed
 5343 0080 5DF804FB 		ldr	pc, [sp], #4
 5344              	.L383:
 5345              	.LCFI89:
 5346              		.cfi_restore_state
1314:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->accel_cfg, 1, &data))
 5347              		.loc 1 1314 16 view .LVU1533
 5348 0084 0020     		movs	r0, #0
 5349 0086 FAE7     		b	.L373
 5350              	.L384:
1316:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.accel_fsr = data >> 3;
 5351              		.loc 1 1316 16 view .LVU1534
 5352 0088 4FF0FF30 		mov	r0, #-1
 5353 008c F7E7     		b	.L373
 5354              	.L390:
 5355 008e 00BF     		.align	2
 5356              	.L389:
 5357 0090 00000000 		.word	st
 5358              		.cfi_endproc
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 160


 5359              	.LFE185:
 5361              		.section	.text.mpu_get_lpf,"ax",%progbits
 5362              		.align	1
 5363              		.global	mpu_get_lpf
 5364              		.syntax unified
 5365              		.thumb
 5366              		.thumb_func
 5368              	mpu_get_lpf:
 5369              	.LVL355:
 5370              	.LFB186:
1327:DMP/driver/eMPL/inv_mpu.c ****     switch (st.chip_cfg.lpf) {
 5371              		.loc 1 1327 1 is_stmt 1 view -0
 5372              		.cfi_startproc
 5373              		@ args = 0, pretend = 0, frame = 0
 5374              		@ frame_needed = 0, uses_anonymous_args = 0
 5375              		@ link register save eliminated.
1328:DMP/driver/eMPL/inv_mpu.c ****     case INV_FILTER_188HZ:
 5376              		.loc 1 1328 5 view .LVU1536
1328:DMP/driver/eMPL/inv_mpu.c ****     case INV_FILTER_188HZ:
 5377              		.loc 1 1328 24 is_stmt 0 view .LVU1537
 5378 0000 0F4B     		ldr	r3, .L401
 5379 0002 DB7A     		ldrb	r3, [r3, #11]	@ zero_extendqisi2
1328:DMP/driver/eMPL/inv_mpu.c ****     case INV_FILTER_188HZ:
 5380              		.loc 1 1328 5 view .LVU1538
 5381 0004 013B     		subs	r3, r3, #1
 5382 0006 052B     		cmp	r3, #5
 5383 0008 17D8     		bhi	.L392
 5384 000a DFE803F0 		tbb	[pc, r3]
 5385              	.L394:
 5386 000e 03       		.byte	(.L399-.L394)/2
 5387 000f 07       		.byte	(.L398-.L394)/2
 5388 0010 0A       		.byte	(.L397-.L394)/2
 5389 0011 0D       		.byte	(.L396-.L394)/2
 5390 0012 10       		.byte	(.L395-.L394)/2
 5391 0013 13       		.byte	(.L393-.L394)/2
 5392              		.p2align 1
 5393              	.L399:
1330:DMP/driver/eMPL/inv_mpu.c ****         break;
 5394              		.loc 1 1330 9 is_stmt 1 view .LVU1539
1330:DMP/driver/eMPL/inv_mpu.c ****         break;
 5395              		.loc 1 1330 16 is_stmt 0 view .LVU1540
 5396 0014 BC23     		movs	r3, #188
 5397 0016 0380     		strh	r3, [r0]	@ movhi
1331:DMP/driver/eMPL/inv_mpu.c ****     case INV_FILTER_98HZ:
 5398              		.loc 1 1331 9 is_stmt 1 view .LVU1541
 5399              	.L400:
1353:DMP/driver/eMPL/inv_mpu.c **** }
 5400              		.loc 1 1353 5 view .LVU1542
1354:DMP/driver/eMPL/inv_mpu.c **** 
 5401              		.loc 1 1354 1 is_stmt 0 view .LVU1543
 5402 0018 0020     		movs	r0, #0
 5403              	.LVL356:
1354:DMP/driver/eMPL/inv_mpu.c **** 
 5404              		.loc 1 1354 1 view .LVU1544
 5405 001a 7047     		bx	lr
 5406              	.LVL357:
 5407              	.L398:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 161


1333:DMP/driver/eMPL/inv_mpu.c ****         break;
 5408              		.loc 1 1333 9 is_stmt 1 view .LVU1545
1333:DMP/driver/eMPL/inv_mpu.c ****         break;
 5409              		.loc 1 1333 16 is_stmt 0 view .LVU1546
 5410 001c 6223     		movs	r3, #98
 5411 001e 0380     		strh	r3, [r0]	@ movhi
1334:DMP/driver/eMPL/inv_mpu.c ****     case INV_FILTER_42HZ:
 5412              		.loc 1 1334 9 is_stmt 1 view .LVU1547
 5413 0020 FAE7     		b	.L400
 5414              	.L397:
1336:DMP/driver/eMPL/inv_mpu.c ****         break;
 5415              		.loc 1 1336 9 view .LVU1548
1336:DMP/driver/eMPL/inv_mpu.c ****         break;
 5416              		.loc 1 1336 16 is_stmt 0 view .LVU1549
 5417 0022 2A23     		movs	r3, #42
 5418 0024 0380     		strh	r3, [r0]	@ movhi
1337:DMP/driver/eMPL/inv_mpu.c ****     case INV_FILTER_20HZ:
 5419              		.loc 1 1337 9 is_stmt 1 view .LVU1550
 5420 0026 F7E7     		b	.L400
 5421              	.L396:
1339:DMP/driver/eMPL/inv_mpu.c ****         break;
 5422              		.loc 1 1339 9 view .LVU1551
1339:DMP/driver/eMPL/inv_mpu.c ****         break;
 5423              		.loc 1 1339 16 is_stmt 0 view .LVU1552
 5424 0028 1423     		movs	r3, #20
 5425 002a 0380     		strh	r3, [r0]	@ movhi
1340:DMP/driver/eMPL/inv_mpu.c ****     case INV_FILTER_10HZ:
 5426              		.loc 1 1340 9 is_stmt 1 view .LVU1553
 5427 002c F4E7     		b	.L400
 5428              	.L395:
1342:DMP/driver/eMPL/inv_mpu.c ****         break;
 5429              		.loc 1 1342 9 view .LVU1554
1342:DMP/driver/eMPL/inv_mpu.c ****         break;
 5430              		.loc 1 1342 16 is_stmt 0 view .LVU1555
 5431 002e 0A23     		movs	r3, #10
 5432 0030 0380     		strh	r3, [r0]	@ movhi
1343:DMP/driver/eMPL/inv_mpu.c ****     case INV_FILTER_5HZ:
 5433              		.loc 1 1343 9 is_stmt 1 view .LVU1556
 5434 0032 F1E7     		b	.L400
 5435              	.L393:
1345:DMP/driver/eMPL/inv_mpu.c ****         break;
 5436              		.loc 1 1345 9 view .LVU1557
1345:DMP/driver/eMPL/inv_mpu.c ****         break;
 5437              		.loc 1 1345 16 is_stmt 0 view .LVU1558
 5438 0034 0523     		movs	r3, #5
 5439 0036 0380     		strh	r3, [r0]	@ movhi
1346:DMP/driver/eMPL/inv_mpu.c ****     case INV_FILTER_256HZ_NOLPF2:
 5440              		.loc 1 1346 9 is_stmt 1 view .LVU1559
 5441 0038 EEE7     		b	.L400
 5442              	.L392:
1350:DMP/driver/eMPL/inv_mpu.c ****         break;
 5443              		.loc 1 1350 9 view .LVU1560
1350:DMP/driver/eMPL/inv_mpu.c ****         break;
 5444              		.loc 1 1350 16 is_stmt 0 view .LVU1561
 5445 003a 0023     		movs	r3, #0
 5446 003c 0380     		strh	r3, [r0]	@ movhi
1351:DMP/driver/eMPL/inv_mpu.c ****     }
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 162


 5447              		.loc 1 1351 9 is_stmt 1 view .LVU1562
 5448 003e EBE7     		b	.L400
 5449              	.L402:
 5450              		.align	2
 5451              	.L401:
 5452 0040 00000000 		.word	st
 5453              		.cfi_endproc
 5454              	.LFE186:
 5456              		.section	.text.mpu_set_lpf,"ax",%progbits
 5457              		.align	1
 5458              		.global	mpu_set_lpf
 5459              		.syntax unified
 5460              		.thumb
 5461              		.thumb_func
 5463              	mpu_set_lpf:
 5464              	.LVL358:
 5465              	.LFB187:
1363:DMP/driver/eMPL/inv_mpu.c ****     unsigned char data;
 5466              		.loc 1 1363 1 view -0
 5467              		.cfi_startproc
 5468              		@ args = 0, pretend = 0, frame = 8
 5469              		@ frame_needed = 0, uses_anonymous_args = 0
1364:DMP/driver/eMPL/inv_mpu.c **** 
 5470              		.loc 1 1364 5 view .LVU1564
1366:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 5471              		.loc 1 1366 5 view .LVU1565
1366:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 5472              		.loc 1 1366 22 is_stmt 0 view .LVU1566
 5473 0000 234B     		ldr	r3, .L418
 5474 0002 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
1366:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 5475              		.loc 1 1366 8 view .LVU1567
 5476 0004 002B     		cmp	r3, #0
 5477 0006 3AD0     		beq	.L411
1363:DMP/driver/eMPL/inv_mpu.c ****     unsigned char data;
 5478              		.loc 1 1363 1 view .LVU1568
 5479 0008 00B5     		push	{lr}
 5480              	.LCFI90:
 5481              		.cfi_def_cfa_offset 4
 5482              		.cfi_offset 14, -4
 5483 000a 83B0     		sub	sp, sp, #12
 5484              	.LCFI91:
 5485              		.cfi_def_cfa_offset 16
1369:DMP/driver/eMPL/inv_mpu.c ****         data = INV_FILTER_188HZ;
 5486              		.loc 1 1369 5 is_stmt 1 view .LVU1569
1369:DMP/driver/eMPL/inv_mpu.c ****         data = INV_FILTER_188HZ;
 5487              		.loc 1 1369 8 is_stmt 0 view .LVU1570
 5488 000c BB28     		cmp	r0, #187
 5489 000e 1AD9     		bls	.L405
1370:DMP/driver/eMPL/inv_mpu.c ****     else if (lpf >= 98)
 5490              		.loc 1 1370 9 is_stmt 1 view .LVU1571
1370:DMP/driver/eMPL/inv_mpu.c ****     else if (lpf >= 98)
 5491              		.loc 1 1370 14 is_stmt 0 view .LVU1572
 5492 0010 0123     		movs	r3, #1
 5493 0012 8DF80730 		strb	r3, [sp, #7]
 5494              	.L406:
1382:DMP/driver/eMPL/inv_mpu.c ****         return 0;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 163


 5495              		.loc 1 1382 5 is_stmt 1 view .LVU1573
1382:DMP/driver/eMPL/inv_mpu.c ****         return 0;
 5496              		.loc 1 1382 20 is_stmt 0 view .LVU1574
 5497 0016 1E4B     		ldr	r3, .L418
 5498 0018 DA7A     		ldrb	r2, [r3, #11]	@ zero_extendqisi2
1382:DMP/driver/eMPL/inv_mpu.c ****         return 0;
 5499              		.loc 1 1382 25 view .LVU1575
 5500 001a 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
1382:DMP/driver/eMPL/inv_mpu.c ****         return 0;
 5501              		.loc 1 1382 8 view .LVU1576
 5502 001e 9A42     		cmp	r2, r3
 5503 0020 30D0     		beq	.L412
1384:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 5504              		.loc 1 1384 5 is_stmt 1 view .LVU1577
1384:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 5505              		.loc 1 1384 21 is_stmt 0 view .LVU1578
 5506 0022 1B4B     		ldr	r3, .L418
 5507 0024 5868     		ldr	r0, [r3, #4]
 5508              	.LVL359:
1384:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 5509              		.loc 1 1384 34 view .LVU1579
 5510 0026 1968     		ldr	r1, [r3]
1384:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 5511              		.loc 1 1384 9 view .LVU1580
 5512 0028 0DF10703 		add	r3, sp, #7
 5513 002c 0122     		movs	r2, #1
 5514 002e 8978     		ldrb	r1, [r1, #2]	@ zero_extendqisi2
 5515 0030 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 5516 0032 FFF7FEFF 		bl	MPU_Write_Len
 5517              	.LVL360:
1384:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 5518              		.loc 1 1384 8 view .LVU1581
 5519 0036 38BB     		cbnz	r0, .L413
1386:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 5520              		.loc 1 1386 5 is_stmt 1 view .LVU1582
1386:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 5521              		.loc 1 1386 21 is_stmt 0 view .LVU1583
 5522 0038 9DF80720 		ldrb	r2, [sp, #7]	@ zero_extendqisi2
 5523 003c 144B     		ldr	r3, .L418
 5524 003e DA72     		strb	r2, [r3, #11]
1387:DMP/driver/eMPL/inv_mpu.c **** }
 5525              		.loc 1 1387 5 is_stmt 1 view .LVU1584
 5526              	.L403:
1388:DMP/driver/eMPL/inv_mpu.c **** 
 5527              		.loc 1 1388 1 is_stmt 0 view .LVU1585
 5528 0040 03B0     		add	sp, sp, #12
 5529              	.LCFI92:
 5530              		.cfi_remember_state
 5531              		.cfi_def_cfa_offset 4
 5532              		@ sp needed
 5533 0042 5DF804FB 		ldr	pc, [sp], #4
 5534              	.LVL361:
 5535              	.L405:
 5536              	.LCFI93:
 5537              		.cfi_restore_state
1371:DMP/driver/eMPL/inv_mpu.c ****         data = INV_FILTER_98HZ;
 5538              		.loc 1 1371 10 is_stmt 1 view .LVU1586
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 164


1371:DMP/driver/eMPL/inv_mpu.c ****         data = INV_FILTER_98HZ;
 5539              		.loc 1 1371 13 is_stmt 0 view .LVU1587
 5540 0046 6128     		cmp	r0, #97
 5541 0048 03D9     		bls	.L407
1372:DMP/driver/eMPL/inv_mpu.c ****     else if (lpf >= 42)
 5542              		.loc 1 1372 9 is_stmt 1 view .LVU1588
1372:DMP/driver/eMPL/inv_mpu.c ****     else if (lpf >= 42)
 5543              		.loc 1 1372 14 is_stmt 0 view .LVU1589
 5544 004a 0223     		movs	r3, #2
 5545 004c 8DF80730 		strb	r3, [sp, #7]
 5546 0050 E1E7     		b	.L406
 5547              	.L407:
1373:DMP/driver/eMPL/inv_mpu.c ****         data = INV_FILTER_42HZ;
 5548              		.loc 1 1373 10 is_stmt 1 view .LVU1590
1373:DMP/driver/eMPL/inv_mpu.c ****         data = INV_FILTER_42HZ;
 5549              		.loc 1 1373 13 is_stmt 0 view .LVU1591
 5550 0052 2928     		cmp	r0, #41
 5551 0054 03D9     		bls	.L408
1374:DMP/driver/eMPL/inv_mpu.c ****     else if (lpf >= 20)
 5552              		.loc 1 1374 9 is_stmt 1 view .LVU1592
1374:DMP/driver/eMPL/inv_mpu.c ****     else if (lpf >= 20)
 5553              		.loc 1 1374 14 is_stmt 0 view .LVU1593
 5554 0056 0323     		movs	r3, #3
 5555 0058 8DF80730 		strb	r3, [sp, #7]
 5556 005c DBE7     		b	.L406
 5557              	.L408:
1375:DMP/driver/eMPL/inv_mpu.c ****         data = INV_FILTER_20HZ;
 5558              		.loc 1 1375 10 is_stmt 1 view .LVU1594
1375:DMP/driver/eMPL/inv_mpu.c ****         data = INV_FILTER_20HZ;
 5559              		.loc 1 1375 13 is_stmt 0 view .LVU1595
 5560 005e 1328     		cmp	r0, #19
 5561 0060 03D9     		bls	.L409
1376:DMP/driver/eMPL/inv_mpu.c ****     else if (lpf >= 10)
 5562              		.loc 1 1376 9 is_stmt 1 view .LVU1596
1376:DMP/driver/eMPL/inv_mpu.c ****     else if (lpf >= 10)
 5563              		.loc 1 1376 14 is_stmt 0 view .LVU1597
 5564 0062 0423     		movs	r3, #4
 5565 0064 8DF80730 		strb	r3, [sp, #7]
 5566 0068 D5E7     		b	.L406
 5567              	.L409:
1377:DMP/driver/eMPL/inv_mpu.c ****         data = INV_FILTER_10HZ;
 5568              		.loc 1 1377 10 is_stmt 1 view .LVU1598
1377:DMP/driver/eMPL/inv_mpu.c ****         data = INV_FILTER_10HZ;
 5569              		.loc 1 1377 13 is_stmt 0 view .LVU1599
 5570 006a 0928     		cmp	r0, #9
 5571 006c 03D9     		bls	.L410
1378:DMP/driver/eMPL/inv_mpu.c ****     else
 5572              		.loc 1 1378 9 is_stmt 1 view .LVU1600
1378:DMP/driver/eMPL/inv_mpu.c ****     else
 5573              		.loc 1 1378 14 is_stmt 0 view .LVU1601
 5574 006e 0523     		movs	r3, #5
 5575 0070 8DF80730 		strb	r3, [sp, #7]
 5576 0074 CFE7     		b	.L406
 5577              	.L410:
1380:DMP/driver/eMPL/inv_mpu.c **** 
 5578              		.loc 1 1380 9 is_stmt 1 view .LVU1602
1380:DMP/driver/eMPL/inv_mpu.c **** 
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 165


 5579              		.loc 1 1380 14 is_stmt 0 view .LVU1603
 5580 0076 0623     		movs	r3, #6
 5581 0078 8DF80730 		strb	r3, [sp, #7]
 5582 007c CBE7     		b	.L406
 5583              	.L411:
 5584              	.LCFI94:
 5585              		.cfi_def_cfa_offset 0
 5586              		.cfi_restore 14
1367:DMP/driver/eMPL/inv_mpu.c **** 
 5587              		.loc 1 1367 16 view .LVU1604
 5588 007e 4FF0FF30 		mov	r0, #-1
 5589              	.LVL362:
1388:DMP/driver/eMPL/inv_mpu.c **** 
 5590              		.loc 1 1388 1 view .LVU1605
 5591 0082 7047     		bx	lr
 5592              	.LVL363:
 5593              	.L412:
 5594              	.LCFI95:
 5595              		.cfi_def_cfa_offset 16
 5596              		.cfi_offset 14, -4
1383:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->lpf, 1, &data))
 5597              		.loc 1 1383 16 view .LVU1606
 5598 0084 0020     		movs	r0, #0
 5599              	.LVL364:
1383:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->lpf, 1, &data))
 5600              		.loc 1 1383 16 view .LVU1607
 5601 0086 DBE7     		b	.L403
 5602              	.L413:
1385:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.lpf = data;
 5603              		.loc 1 1385 16 view .LVU1608
 5604 0088 4FF0FF30 		mov	r0, #-1
 5605 008c D8E7     		b	.L403
 5606              	.L419:
 5607 008e 00BF     		.align	2
 5608              	.L418:
 5609 0090 00000000 		.word	st
 5610              		.cfi_endproc
 5611              	.LFE187:
 5613              		.section	.text.mpu_get_sample_rate,"ax",%progbits
 5614              		.align	1
 5615              		.global	mpu_get_sample_rate
 5616              		.syntax unified
 5617              		.thumb
 5618              		.thumb_func
 5620              	mpu_get_sample_rate:
 5621              	.LVL365:
 5622              	.LFB188:
1396:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.dmp_on)
 5623              		.loc 1 1396 1 is_stmt 1 view -0
 5624              		.cfi_startproc
 5625              		@ args = 0, pretend = 0, frame = 0
 5626              		@ frame_needed = 0, uses_anonymous_args = 0
 5627              		@ link register save eliminated.
1397:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 5628              		.loc 1 1397 5 view .LVU1610
1397:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 5629              		.loc 1 1397 20 is_stmt 0 view .LVU1611
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 166


 5630 0000 054B     		ldr	r3, .L423
 5631 0002 93F82430 		ldrb	r3, [r3, #36]	@ zero_extendqisi2
1397:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 5632              		.loc 1 1397 8 view .LVU1612
 5633 0006 23B9     		cbnz	r3, .L422
1400:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 5634              		.loc 1 1400 9 is_stmt 1 view .LVU1613
1400:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 5635              		.loc 1 1400 30 is_stmt 0 view .LVU1614
 5636 0008 034B     		ldr	r3, .L423
 5637 000a DB89     		ldrh	r3, [r3, #14]
1400:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 5638              		.loc 1 1400 17 view .LVU1615
 5639 000c 0380     		strh	r3, [r0]	@ movhi
1401:DMP/driver/eMPL/inv_mpu.c **** }
 5640              		.loc 1 1401 5 is_stmt 1 view .LVU1616
1401:DMP/driver/eMPL/inv_mpu.c **** }
 5641              		.loc 1 1401 12 is_stmt 0 view .LVU1617
 5642 000e 0020     		movs	r0, #0
 5643              	.LVL366:
1401:DMP/driver/eMPL/inv_mpu.c **** }
 5644              		.loc 1 1401 12 view .LVU1618
 5645 0010 7047     		bx	lr
 5646              	.LVL367:
 5647              	.L422:
1398:DMP/driver/eMPL/inv_mpu.c ****     else
 5648              		.loc 1 1398 16 view .LVU1619
 5649 0012 4FF0FF30 		mov	r0, #-1
 5650              	.LVL368:
1402:DMP/driver/eMPL/inv_mpu.c **** 
 5651              		.loc 1 1402 1 view .LVU1620
 5652 0016 7047     		bx	lr
 5653              	.L424:
 5654              		.align	2
 5655              	.L423:
 5656 0018 00000000 		.word	st
 5657              		.cfi_endproc
 5658              	.LFE188:
 5660              		.section	.text.mpu_get_compass_sample_rate,"ax",%progbits
 5661              		.align	1
 5662              		.global	mpu_get_compass_sample_rate
 5663              		.syntax unified
 5664              		.thumb
 5665              		.thumb_func
 5667              	mpu_get_compass_sample_rate:
 5668              	.LVL369:
 5669              	.LFB190:
1458:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
 5670              		.loc 1 1458 1 is_stmt 1 view -0
 5671              		.cfi_startproc
 5672              		@ args = 0, pretend = 0, frame = 0
 5673              		@ frame_needed = 0, uses_anonymous_args = 0
 5674              		@ link register save eliminated.
1460:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 5675              		.loc 1 1460 5 view .LVU1622
1460:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 5676              		.loc 1 1460 26 is_stmt 0 view .LVU1623
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 167


 5677 0000 024B     		ldr	r3, .L426
 5678 0002 1B8D     		ldrh	r3, [r3, #40]
1460:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 5679              		.loc 1 1460 13 view .LVU1624
 5680 0004 0380     		strh	r3, [r0]	@ movhi
1461:DMP/driver/eMPL/inv_mpu.c **** #else
 5681              		.loc 1 1461 5 is_stmt 1 view .LVU1625
1466:DMP/driver/eMPL/inv_mpu.c **** 
 5682              		.loc 1 1466 1 is_stmt 0 view .LVU1626
 5683 0006 0020     		movs	r0, #0
 5684              	.LVL370:
1466:DMP/driver/eMPL/inv_mpu.c **** 
 5685              		.loc 1 1466 1 view .LVU1627
 5686 0008 7047     		bx	lr
 5687              	.L427:
 5688 000a 00BF     		.align	2
 5689              	.L426:
 5690 000c 00000000 		.word	st
 5691              		.cfi_endproc
 5692              	.LFE190:
 5694              		.section	.text.mpu_set_compass_sample_rate,"ax",%progbits
 5695              		.align	1
 5696              		.global	mpu_set_compass_sample_rate
 5697              		.syntax unified
 5698              		.thumb
 5699              		.thumb_func
 5701              	mpu_set_compass_sample_rate:
 5702              	.LVL371:
 5703              	.LFB191:
1480:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
 5704              		.loc 1 1480 1 is_stmt 1 view -0
 5705              		.cfi_startproc
 5706              		@ args = 0, pretend = 0, frame = 8
 5707              		@ frame_needed = 0, uses_anonymous_args = 0
1482:DMP/driver/eMPL/inv_mpu.c ****     if (!rate || rate > st.chip_cfg.sample_rate || rate > MAX_COMPASS_SAMPLE_RATE)
 5708              		.loc 1 1482 5 view .LVU1629
1483:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 5709              		.loc 1 1483 5 view .LVU1630
1483:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 5710              		.loc 1 1483 8 is_stmt 0 view .LVU1631
 5711 0000 18B3     		cbz	r0, .L430
1483:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 5712              		.loc 1 1483 36 discriminator 1 view .LVU1632
 5713 0002 184B     		ldr	r3, .L438
 5714 0004 DB89     		ldrh	r3, [r3, #14]
1483:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 5715              		.loc 1 1483 15 discriminator 1 view .LVU1633
 5716 0006 8342     		cmp	r3, r0
 5717 0008 22D3     		bcc	.L431
1483:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 5718              		.loc 1 1483 49 discriminator 2 view .LVU1634
 5719 000a 6428     		cmp	r0, #100
 5720 000c 23D8     		bhi	.L432
1480:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
 5721              		.loc 1 1480 1 view .LVU1635
 5722 000e 00B5     		push	{lr}
 5723              	.LCFI96:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 168


 5724              		.cfi_def_cfa_offset 4
 5725              		.cfi_offset 14, -4
 5726 0010 83B0     		sub	sp, sp, #12
 5727              	.LCFI97:
 5728              		.cfi_def_cfa_offset 16
1486:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->s4_ctrl, 1, &div))
 5729              		.loc 1 1486 5 is_stmt 1 view .LVU1636
1486:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->s4_ctrl, 1, &div))
 5730              		.loc 1 1486 42 is_stmt 0 view .LVU1637
 5731 0012 B3FBF0F3 		udiv	r3, r3, r0
 5732 0016 013B     		subs	r3, r3, #1
1486:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->s4_ctrl, 1, &div))
 5733              		.loc 1 1486 9 view .LVU1638
 5734 0018 8DF80730 		strb	r3, [sp, #7]
1487:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 5735              		.loc 1 1487 5 is_stmt 1 view .LVU1639
1487:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 5736              		.loc 1 1487 21 is_stmt 0 view .LVU1640
 5737 001c 114B     		ldr	r3, .L438
 5738 001e 5868     		ldr	r0, [r3, #4]
 5739              	.LVL372:
1487:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 5740              		.loc 1 1487 34 view .LVU1641
 5741 0020 1968     		ldr	r1, [r3]
1487:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 5742              		.loc 1 1487 9 view .LVU1642
 5743 0022 0DF10703 		add	r3, sp, #7
 5744 0026 0122     		movs	r2, #1
 5745 0028 91F82410 		ldrb	r1, [r1, #36]	@ zero_extendqisi2
 5746 002c 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 5747 002e FFF7FEFF 		bl	MPU_Write_Len
 5748              	.LVL373:
1487:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 5749              		.loc 1 1487 8 view .LVU1643
 5750 0032 98B9     		cbnz	r0, .L433
1489:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 5751              		.loc 1 1489 5 is_stmt 1 view .LVU1644
1489:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 5752              		.loc 1 1489 50 is_stmt 0 view .LVU1645
 5753 0034 0B49     		ldr	r1, .L438
 5754 0036 CB89     		ldrh	r3, [r1, #14]
1489:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 5755              		.loc 1 1489 70 view .LVU1646
 5756 0038 9DF80720 		ldrb	r2, [sp, #7]	@ zero_extendqisi2
 5757 003c 0132     		adds	r2, r2, #1
1489:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 5758              		.loc 1 1489 63 view .LVU1647
 5759 003e 93FBF2F3 		sdiv	r3, r3, r2
1489:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 5760              		.loc 1 1489 37 view .LVU1648
 5761 0042 0B85     		strh	r3, [r1, #40]	@ movhi
1490:DMP/driver/eMPL/inv_mpu.c **** #else
 5762              		.loc 1 1490 5 is_stmt 1 view .LVU1649
 5763              	.L428:
1494:DMP/driver/eMPL/inv_mpu.c **** 
 5764              		.loc 1 1494 1 is_stmt 0 view .LVU1650
 5765 0044 03B0     		add	sp, sp, #12
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 169


 5766              	.LCFI98:
 5767              		.cfi_def_cfa_offset 4
 5768              		@ sp needed
 5769 0046 5DF804FB 		ldr	pc, [sp], #4
 5770              	.LVL374:
 5771              	.L430:
 5772              	.LCFI99:
 5773              		.cfi_def_cfa_offset 0
 5774              		.cfi_restore 14
1484:DMP/driver/eMPL/inv_mpu.c **** 
 5775              		.loc 1 1484 16 view .LVU1651
 5776 004a 4FF0FF30 		mov	r0, #-1
 5777              	.LVL375:
1484:DMP/driver/eMPL/inv_mpu.c **** 
 5778              		.loc 1 1484 16 view .LVU1652
 5779 004e 7047     		bx	lr
 5780              	.LVL376:
 5781              	.L431:
1484:DMP/driver/eMPL/inv_mpu.c **** 
 5782              		.loc 1 1484 16 view .LVU1653
 5783 0050 4FF0FF30 		mov	r0, #-1
 5784              	.LVL377:
1484:DMP/driver/eMPL/inv_mpu.c **** 
 5785              		.loc 1 1484 16 view .LVU1654
 5786 0054 7047     		bx	lr
 5787              	.LVL378:
 5788              	.L432:
1484:DMP/driver/eMPL/inv_mpu.c **** 
 5789              		.loc 1 1484 16 view .LVU1655
 5790 0056 4FF0FF30 		mov	r0, #-1
 5791              	.LVL379:
1494:DMP/driver/eMPL/inv_mpu.c **** 
 5792              		.loc 1 1494 1 view .LVU1656
 5793 005a 7047     		bx	lr
 5794              	.L433:
 5795              	.LCFI100:
 5796              		.cfi_def_cfa_offset 16
 5797              		.cfi_offset 14, -4
1488:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.compass_sample_rate = st.chip_cfg.sample_rate / (div + 1);
 5798              		.loc 1 1488 16 view .LVU1657
 5799 005c 4FF0FF30 		mov	r0, #-1
 5800 0060 F0E7     		b	.L428
 5801              	.L439:
 5802 0062 00BF     		.align	2
 5803              	.L438:
 5804 0064 00000000 		.word	st
 5805              		.cfi_endproc
 5806              	.LFE191:
 5808              		.section	.text.mpu_get_gyro_sens,"ax",%progbits
 5809              		.align	1
 5810              		.global	mpu_get_gyro_sens
 5811              		.syntax unified
 5812              		.thumb
 5813              		.thumb_func
 5815              	mpu_get_gyro_sens:
 5816              	.LVL380:
 5817              	.LFB192:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 170


1502:DMP/driver/eMPL/inv_mpu.c ****     switch (st.chip_cfg.gyro_fsr) {
 5818              		.loc 1 1502 1 is_stmt 1 view -0
 5819              		.cfi_startproc
 5820              		@ args = 0, pretend = 0, frame = 0
 5821              		@ frame_needed = 0, uses_anonymous_args = 0
 5822              		@ link register save eliminated.
1503:DMP/driver/eMPL/inv_mpu.c ****     case INV_FSR_250DPS:
 5823              		.loc 1 1503 5 view .LVU1659
1503:DMP/driver/eMPL/inv_mpu.c ****     case INV_FSR_250DPS:
 5824              		.loc 1 1503 24 is_stmt 0 view .LVU1660
 5825 0000 0D4B     		ldr	r3, .L448
 5826 0002 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
1503:DMP/driver/eMPL/inv_mpu.c ****     case INV_FSR_250DPS:
 5827              		.loc 1 1503 5 view .LVU1661
 5828 0004 032B     		cmp	r3, #3
 5829 0006 13D8     		bhi	.L447
 5830 0008 DFE803F0 		tbb	[pc, r3]
 5831              	.L443:
 5832 000c 02       		.byte	(.L446-.L443)/2
 5833 000d 06       		.byte	(.L445-.L443)/2
 5834 000e 0A       		.byte	(.L444-.L443)/2
 5835 000f 0E       		.byte	(.L442-.L443)/2
 5836              		.p2align 1
 5837              	.L446:
1505:DMP/driver/eMPL/inv_mpu.c ****         break;
 5838              		.loc 1 1505 9 is_stmt 1 view .LVU1662
1505:DMP/driver/eMPL/inv_mpu.c ****         break;
 5839              		.loc 1 1505 17 is_stmt 0 view .LVU1663
 5840 0010 0A4B     		ldr	r3, .L448+4
 5841 0012 0360     		str	r3, [r0]	@ float
1506:DMP/driver/eMPL/inv_mpu.c ****     case INV_FSR_500DPS:
 5842              		.loc 1 1506 9 is_stmt 1 view .LVU1664
1519:DMP/driver/eMPL/inv_mpu.c **** }
 5843              		.loc 1 1519 12 is_stmt 0 view .LVU1665
 5844 0014 0020     		movs	r0, #0
 5845              	.LVL381:
1506:DMP/driver/eMPL/inv_mpu.c ****     case INV_FSR_500DPS:
 5846              		.loc 1 1506 9 view .LVU1666
 5847 0016 7047     		bx	lr
 5848              	.LVL382:
 5849              	.L445:
1508:DMP/driver/eMPL/inv_mpu.c ****         break;
 5850              		.loc 1 1508 9 is_stmt 1 view .LVU1667
1508:DMP/driver/eMPL/inv_mpu.c ****         break;
 5851              		.loc 1 1508 17 is_stmt 0 view .LVU1668
 5852 0018 094B     		ldr	r3, .L448+8
 5853 001a 0360     		str	r3, [r0]	@ float
1509:DMP/driver/eMPL/inv_mpu.c ****     case INV_FSR_1000DPS:
 5854              		.loc 1 1509 9 is_stmt 1 view .LVU1669
1519:DMP/driver/eMPL/inv_mpu.c **** }
 5855              		.loc 1 1519 12 is_stmt 0 view .LVU1670
 5856 001c 0020     		movs	r0, #0
 5857              	.LVL383:
1509:DMP/driver/eMPL/inv_mpu.c ****     case INV_FSR_1000DPS:
 5858              		.loc 1 1509 9 view .LVU1671
 5859 001e 7047     		bx	lr
 5860              	.LVL384:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 171


 5861              	.L444:
1511:DMP/driver/eMPL/inv_mpu.c ****         break;
 5862              		.loc 1 1511 9 is_stmt 1 view .LVU1672
1511:DMP/driver/eMPL/inv_mpu.c ****         break;
 5863              		.loc 1 1511 17 is_stmt 0 view .LVU1673
 5864 0020 084B     		ldr	r3, .L448+12
 5865 0022 0360     		str	r3, [r0]	@ float
1512:DMP/driver/eMPL/inv_mpu.c ****     case INV_FSR_2000DPS:
 5866              		.loc 1 1512 9 is_stmt 1 view .LVU1674
1519:DMP/driver/eMPL/inv_mpu.c **** }
 5867              		.loc 1 1519 12 is_stmt 0 view .LVU1675
 5868 0024 0020     		movs	r0, #0
 5869              	.LVL385:
1512:DMP/driver/eMPL/inv_mpu.c ****     case INV_FSR_2000DPS:
 5870              		.loc 1 1512 9 view .LVU1676
 5871 0026 7047     		bx	lr
 5872              	.LVL386:
 5873              	.L442:
1514:DMP/driver/eMPL/inv_mpu.c ****         break;
 5874              		.loc 1 1514 9 is_stmt 1 view .LVU1677
1514:DMP/driver/eMPL/inv_mpu.c ****         break;
 5875              		.loc 1 1514 17 is_stmt 0 view .LVU1678
 5876 0028 074B     		ldr	r3, .L448+16
 5877 002a 0360     		str	r3, [r0]	@ float
1515:DMP/driver/eMPL/inv_mpu.c ****     default:
 5878              		.loc 1 1515 9 is_stmt 1 view .LVU1679
1519:DMP/driver/eMPL/inv_mpu.c **** }
 5879              		.loc 1 1519 12 is_stmt 0 view .LVU1680
 5880 002c 0020     		movs	r0, #0
 5881              	.LVL387:
1515:DMP/driver/eMPL/inv_mpu.c ****     default:
 5882              		.loc 1 1515 9 view .LVU1681
 5883 002e 7047     		bx	lr
 5884              	.LVL388:
 5885              	.L447:
1503:DMP/driver/eMPL/inv_mpu.c ****     case INV_FSR_250DPS:
 5886              		.loc 1 1503 5 view .LVU1682
 5887 0030 4FF0FF30 		mov	r0, #-1
 5888              	.LVL389:
1520:DMP/driver/eMPL/inv_mpu.c **** 
 5889              		.loc 1 1520 1 view .LVU1683
 5890 0034 7047     		bx	lr
 5891              	.L449:
 5892 0036 00BF     		.align	2
 5893              	.L448:
 5894 0038 00000000 		.word	st
 5895 003c 00000343 		.word	1124270080
 5896 0040 00008342 		.word	1115881472
 5897 0044 33330342 		.word	1107505971
 5898 0048 33338341 		.word	1099117363
 5899              		.cfi_endproc
 5900              	.LFE192:
 5902              		.section	.text.mpu_get_accel_sens,"ax",%progbits
 5903              		.align	1
 5904              		.global	mpu_get_accel_sens
 5905              		.syntax unified
 5906              		.thumb
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 172


 5907              		.thumb_func
 5909              	mpu_get_accel_sens:
 5910              	.LVL390:
 5911              	.LFB193:
1528:DMP/driver/eMPL/inv_mpu.c ****     switch (st.chip_cfg.accel_fsr) {
 5912              		.loc 1 1528 1 is_stmt 1 view -0
 5913              		.cfi_startproc
 5914              		@ args = 0, pretend = 0, frame = 0
 5915              		@ frame_needed = 0, uses_anonymous_args = 0
 5916              		@ link register save eliminated.
1529:DMP/driver/eMPL/inv_mpu.c ****     case INV_FSR_2G:
 5917              		.loc 1 1529 5 view .LVU1685
1529:DMP/driver/eMPL/inv_mpu.c ****     case INV_FSR_2G:
 5918              		.loc 1 1529 24 is_stmt 0 view .LVU1686
 5919 0000 114B     		ldr	r3, .L460
 5920 0002 5B7A     		ldrb	r3, [r3, #9]	@ zero_extendqisi2
1529:DMP/driver/eMPL/inv_mpu.c ****     case INV_FSR_2G:
 5921              		.loc 1 1529 5 view .LVU1687
 5922 0004 032B     		cmp	r3, #3
 5923 0006 1AD8     		bhi	.L458
 5924 0008 DFE803F0 		tbb	[pc, r3]
 5925              	.L453:
 5926 000c 02       		.byte	(.L456-.L453)/2
 5927 000d 0D       		.byte	(.L455-.L453)/2
 5928 000e 11       		.byte	(.L454-.L453)/2
 5929 000f 15       		.byte	(.L452-.L453)/2
 5930              		.p2align 1
 5931              	.L456:
1531:DMP/driver/eMPL/inv_mpu.c ****         break;
 5932              		.loc 1 1531 9 is_stmt 1 view .LVU1688
1531:DMP/driver/eMPL/inv_mpu.c ****         break;
 5933              		.loc 1 1531 17 is_stmt 0 view .LVU1689
 5934 0010 4FF48043 		mov	r3, #16384
 5935 0014 0380     		strh	r3, [r0]	@ movhi
1532:DMP/driver/eMPL/inv_mpu.c ****     case INV_FSR_4G:
 5936              		.loc 1 1532 9 is_stmt 1 view .LVU1690
 5937              	.L457:
1545:DMP/driver/eMPL/inv_mpu.c ****         sens[0] >>= 1;
 5938              		.loc 1 1545 5 view .LVU1691
1545:DMP/driver/eMPL/inv_mpu.c ****         sens[0] >>= 1;
 5939              		.loc 1 1545 20 is_stmt 0 view .LVU1692
 5940 0016 0C4B     		ldr	r3, .L460
 5941 0018 DB7C     		ldrb	r3, [r3, #19]	@ zero_extendqisi2
1545:DMP/driver/eMPL/inv_mpu.c ****         sens[0] >>= 1;
 5942              		.loc 1 1545 8 view .LVU1693
 5943 001a 9BB1     		cbz	r3, .L459
1546:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 5944              		.loc 1 1546 9 is_stmt 1 view .LVU1694
1546:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 5945              		.loc 1 1546 13 is_stmt 0 view .LVU1695
 5946 001c 0388     		ldrh	r3, [r0]
1546:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 5947              		.loc 1 1546 17 view .LVU1696
 5948 001e 5B08     		lsrs	r3, r3, #1
 5949 0020 0380     		strh	r3, [r0]	@ movhi
1547:DMP/driver/eMPL/inv_mpu.c **** }
 5950              		.loc 1 1547 12 view .LVU1697
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 173


 5951 0022 0020     		movs	r0, #0
 5952              	.LVL391:
1547:DMP/driver/eMPL/inv_mpu.c **** }
 5953              		.loc 1 1547 12 view .LVU1698
 5954 0024 7047     		bx	lr
 5955              	.LVL392:
 5956              	.L455:
1534:DMP/driver/eMPL/inv_mpu.c ****         break;
 5957              		.loc 1 1534 9 is_stmt 1 view .LVU1699
1534:DMP/driver/eMPL/inv_mpu.c ****         break;
 5958              		.loc 1 1534 17 is_stmt 0 view .LVU1700
 5959 0026 4FF40053 		mov	r3, #8192
 5960 002a 0380     		strh	r3, [r0]	@ movhi
1535:DMP/driver/eMPL/inv_mpu.c ****     case INV_FSR_8G:
 5961              		.loc 1 1535 9 is_stmt 1 view .LVU1701
 5962 002c F3E7     		b	.L457
 5963              	.L454:
1537:DMP/driver/eMPL/inv_mpu.c ****         break;
 5964              		.loc 1 1537 9 view .LVU1702
1537:DMP/driver/eMPL/inv_mpu.c ****         break;
 5965              		.loc 1 1537 17 is_stmt 0 view .LVU1703
 5966 002e 4FF48053 		mov	r3, #4096
 5967 0032 0380     		strh	r3, [r0]	@ movhi
1538:DMP/driver/eMPL/inv_mpu.c ****     case INV_FSR_16G:
 5968              		.loc 1 1538 9 is_stmt 1 view .LVU1704
 5969 0034 EFE7     		b	.L457
 5970              	.L452:
1540:DMP/driver/eMPL/inv_mpu.c ****         break;
 5971              		.loc 1 1540 9 view .LVU1705
1540:DMP/driver/eMPL/inv_mpu.c ****         break;
 5972              		.loc 1 1540 17 is_stmt 0 view .LVU1706
 5973 0036 4FF40063 		mov	r3, #2048
 5974 003a 0380     		strh	r3, [r0]	@ movhi
1541:DMP/driver/eMPL/inv_mpu.c ****     default:
 5975              		.loc 1 1541 9 is_stmt 1 view .LVU1707
 5976 003c EBE7     		b	.L457
 5977              	.L458:
1529:DMP/driver/eMPL/inv_mpu.c ****     case INV_FSR_2G:
 5978              		.loc 1 1529 5 is_stmt 0 view .LVU1708
 5979 003e 4FF0FF30 		mov	r0, #-1
 5980              	.LVL393:
1529:DMP/driver/eMPL/inv_mpu.c ****     case INV_FSR_2G:
 5981              		.loc 1 1529 5 view .LVU1709
 5982 0042 7047     		bx	lr
 5983              	.LVL394:
 5984              	.L459:
1547:DMP/driver/eMPL/inv_mpu.c **** }
 5985              		.loc 1 1547 12 view .LVU1710
 5986 0044 0020     		movs	r0, #0
 5987              	.LVL395:
1548:DMP/driver/eMPL/inv_mpu.c **** 
 5988              		.loc 1 1548 1 view .LVU1711
 5989 0046 7047     		bx	lr
 5990              	.L461:
 5991              		.align	2
 5992              	.L460:
 5993 0048 00000000 		.word	st
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 174


 5994              		.cfi_endproc
 5995              	.LFE193:
 5997              		.section	.text.mpu_get_fifo_config,"ax",%progbits
 5998              		.align	1
 5999              		.global	mpu_get_fifo_config
 6000              		.syntax unified
 6001              		.thumb
 6002              		.thumb_func
 6004              	mpu_get_fifo_config:
 6005              	.LVL396:
 6006              	.LFB194:
1560:DMP/driver/eMPL/inv_mpu.c ****     sensors[0] = st.chip_cfg.fifo_enable;
 6007              		.loc 1 1560 1 is_stmt 1 view -0
 6008              		.cfi_startproc
 6009              		@ args = 0, pretend = 0, frame = 0
 6010              		@ frame_needed = 0, uses_anonymous_args = 0
 6011              		@ link register save eliminated.
1561:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 6012              		.loc 1 1561 5 view .LVU1713
1561:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 6013              		.loc 1 1561 29 is_stmt 0 view .LVU1714
 6014 0000 024B     		ldr	r3, .L463
 6015 0002 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
1561:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 6016              		.loc 1 1561 16 view .LVU1715
 6017 0004 0370     		strb	r3, [r0]
1562:DMP/driver/eMPL/inv_mpu.c **** }
 6018              		.loc 1 1562 5 is_stmt 1 view .LVU1716
1563:DMP/driver/eMPL/inv_mpu.c **** 
 6019              		.loc 1 1563 1 is_stmt 0 view .LVU1717
 6020 0006 0020     		movs	r0, #0
 6021              	.LVL397:
1563:DMP/driver/eMPL/inv_mpu.c **** 
 6022              		.loc 1 1563 1 view .LVU1718
 6023 0008 7047     		bx	lr
 6024              	.L464:
 6025 000a 00BF     		.align	2
 6026              	.L463:
 6027 000c 00000000 		.word	st
 6028              		.cfi_endproc
 6029              	.LFE194:
 6031              		.section	.text.mpu_configure_fifo,"ax",%progbits
 6032              		.align	1
 6033              		.global	mpu_configure_fifo
 6034              		.syntax unified
 6035              		.thumb
 6036              		.thumb_func
 6038              	mpu_configure_fifo:
 6039              	.LVL398:
 6040              	.LFB195:
1575:DMP/driver/eMPL/inv_mpu.c ****     unsigned char prev;
 6041              		.loc 1 1575 1 is_stmt 1 view -0
 6042              		.cfi_startproc
 6043              		@ args = 0, pretend = 0, frame = 0
 6044              		@ frame_needed = 0, uses_anonymous_args = 0
1575:DMP/driver/eMPL/inv_mpu.c ****     unsigned char prev;
 6045              		.loc 1 1575 1 is_stmt 0 view .LVU1720
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 175


 6046 0000 70B5     		push	{r4, r5, r6, lr}
 6047              	.LCFI101:
 6048              		.cfi_def_cfa_offset 16
 6049              		.cfi_offset 4, -16
 6050              		.cfi_offset 5, -12
 6051              		.cfi_offset 6, -8
 6052              		.cfi_offset 14, -4
1576:DMP/driver/eMPL/inv_mpu.c ****     int result = 0;
 6053              		.loc 1 1576 5 is_stmt 1 view .LVU1721
1577:DMP/driver/eMPL/inv_mpu.c **** 
 6054              		.loc 1 1577 5 view .LVU1722
 6055              	.LVL399:
1580:DMP/driver/eMPL/inv_mpu.c **** 
 6056              		.loc 1 1580 5 view .LVU1723
1582:DMP/driver/eMPL/inv_mpu.c ****         return 0;
 6057              		.loc 1 1582 5 view .LVU1724
1582:DMP/driver/eMPL/inv_mpu.c ****         return 0;
 6058              		.loc 1 1582 20 is_stmt 0 view .LVU1725
 6059 0002 174B     		ldr	r3, .L476
 6060 0004 93F82430 		ldrb	r3, [r3, #36]	@ zero_extendqisi2
1582:DMP/driver/eMPL/inv_mpu.c ****         return 0;
 6061              		.loc 1 1582 8 view .LVU1726
 6062 0008 2BBB     		cbnz	r3, .L471
 6063 000a 00F0FE04 		and	r4, r0, #254
1585:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 6064              		.loc 1 1585 9 is_stmt 1 view .LVU1727
1585:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 6065              		.loc 1 1585 26 is_stmt 0 view .LVU1728
 6066 000e 144B     		ldr	r3, .L476
 6067 0010 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
1585:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 6068              		.loc 1 1585 12 view .LVU1729
 6069 0012 13B3     		cbz	r3, .L472
1587:DMP/driver/eMPL/inv_mpu.c ****         st.chip_cfg.fifo_enable = sensors & st.chip_cfg.sensors;
 6070              		.loc 1 1587 9 is_stmt 1 view .LVU1730
1587:DMP/driver/eMPL/inv_mpu.c ****         st.chip_cfg.fifo_enable = sensors & st.chip_cfg.sensors;
 6071              		.loc 1 1587 14 is_stmt 0 view .LVU1731
 6072 0014 124A     		ldr	r2, .L476
 6073 0016 167C     		ldrb	r6, [r2, #16]	@ zero_extendqisi2
 6074              	.LVL400:
1588:DMP/driver/eMPL/inv_mpu.c ****         if (st.chip_cfg.fifo_enable != sensors)
 6075              		.loc 1 1588 9 is_stmt 1 view .LVU1732
1588:DMP/driver/eMPL/inv_mpu.c ****         if (st.chip_cfg.fifo_enable != sensors)
 6076              		.loc 1 1588 33 is_stmt 0 view .LVU1733
 6077 0018 2340     		ands	r3, r3, r4
 6078 001a 1374     		strb	r3, [r2, #16]
1589:DMP/driver/eMPL/inv_mpu.c ****             /* You're not getting what you asked for. Some sensors are
 6079              		.loc 1 1589 9 is_stmt 1 view .LVU1734
1589:DMP/driver/eMPL/inv_mpu.c ****             /* You're not getting what you asked for. Some sensors are
 6080              		.loc 1 1589 12 is_stmt 0 view .LVU1735
 6081 001c A342     		cmp	r3, r4
 6082 001e 0BD0     		beq	.L473
1593:DMP/driver/eMPL/inv_mpu.c ****         else
 6083              		.loc 1 1593 20 view .LVU1736
 6084 0020 4FF0FF35 		mov	r5, #-1
 6085              	.L467:
 6086              	.LVL401:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 176


1596:DMP/driver/eMPL/inv_mpu.c ****             set_int_enable(1);
 6087              		.loc 1 1596 9 is_stmt 1 view .LVU1737
1596:DMP/driver/eMPL/inv_mpu.c ****             set_int_enable(1);
 6088              		.loc 1 1596 12 is_stmt 0 view .LVU1738
 6089 0024 14B9     		cbnz	r4, .L468
1596:DMP/driver/eMPL/inv_mpu.c ****             set_int_enable(1);
 6090              		.loc 1 1596 35 discriminator 1 view .LVU1739
 6091 0026 0E4B     		ldr	r3, .L476
 6092 0028 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
1596:DMP/driver/eMPL/inv_mpu.c ****             set_int_enable(1);
 6093              		.loc 1 1596 21 discriminator 1 view .LVU1740
 6094 002a 3BB1     		cbz	r3, .L469
 6095              	.L468:
1597:DMP/driver/eMPL/inv_mpu.c ****         else
 6096              		.loc 1 1597 13 is_stmt 1 view .LVU1741
 6097 002c 0120     		movs	r0, #1
 6098              	.LVL402:
1597:DMP/driver/eMPL/inv_mpu.c ****         else
 6099              		.loc 1 1597 13 is_stmt 0 view .LVU1742
 6100 002e FFF7FEFF 		bl	set_int_enable
 6101              	.LVL403:
 6102              	.L470:
1600:DMP/driver/eMPL/inv_mpu.c ****             if (mpu_reset_fifo()) {
 6103              		.loc 1 1600 9 is_stmt 1 view .LVU1743
1600:DMP/driver/eMPL/inv_mpu.c ****             if (mpu_reset_fifo()) {
 6104              		.loc 1 1600 12 is_stmt 0 view .LVU1744
 6105 0032 3CB9     		cbnz	r4, .L475
 6106              	.LVL404:
 6107              	.L465:
1609:DMP/driver/eMPL/inv_mpu.c **** 
 6108              		.loc 1 1609 1 view .LVU1745
 6109 0034 2846     		mov	r0, r5
 6110 0036 70BD     		pop	{r4, r5, r6, pc}
 6111              	.LVL405:
 6112              	.L473:
1595:DMP/driver/eMPL/inv_mpu.c ****         if (sensors || st.chip_cfg.lp_accel_mode)
 6113              		.loc 1 1595 20 view .LVU1746
 6114 0038 0025     		movs	r5, #0
 6115 003a F3E7     		b	.L467
 6116              	.LVL406:
 6117              	.L469:
1599:DMP/driver/eMPL/inv_mpu.c ****         if (sensors) {
 6118              		.loc 1 1599 13 is_stmt 1 view .LVU1747
 6119 003c 0020     		movs	r0, #0
 6120              	.LVL407:
1599:DMP/driver/eMPL/inv_mpu.c ****         if (sensors) {
 6121              		.loc 1 1599 13 is_stmt 0 view .LVU1748
 6122 003e FFF7FEFF 		bl	set_int_enable
 6123              	.LVL408:
 6124 0042 F6E7     		b	.L470
 6125              	.L475:
1601:DMP/driver/eMPL/inv_mpu.c ****                 st.chip_cfg.fifo_enable = prev;
 6126              		.loc 1 1601 13 is_stmt 1 view .LVU1749
1601:DMP/driver/eMPL/inv_mpu.c ****                 st.chip_cfg.fifo_enable = prev;
 6127              		.loc 1 1601 17 is_stmt 0 view .LVU1750
 6128 0044 FFF7FEFF 		bl	mpu_reset_fifo
 6129              	.LVL409:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 177


1601:DMP/driver/eMPL/inv_mpu.c ****                 st.chip_cfg.fifo_enable = prev;
 6130              		.loc 1 1601 16 view .LVU1751
 6131 0048 0028     		cmp	r0, #0
 6132 004a F3D0     		beq	.L465
1602:DMP/driver/eMPL/inv_mpu.c ****                 return -1;
 6133              		.loc 1 1602 17 is_stmt 1 view .LVU1752
1602:DMP/driver/eMPL/inv_mpu.c ****                 return -1;
 6134              		.loc 1 1602 41 is_stmt 0 view .LVU1753
 6135 004c 044B     		ldr	r3, .L476
 6136 004e 1E74     		strb	r6, [r3, #16]
1603:DMP/driver/eMPL/inv_mpu.c ****             }
 6137              		.loc 1 1603 17 is_stmt 1 view .LVU1754
1603:DMP/driver/eMPL/inv_mpu.c ****             }
 6138              		.loc 1 1603 24 is_stmt 0 view .LVU1755
 6139 0050 4FF0FF35 		mov	r5, #-1
 6140              	.LVL410:
1603:DMP/driver/eMPL/inv_mpu.c ****             }
 6141              		.loc 1 1603 24 view .LVU1756
 6142 0054 EEE7     		b	.L465
 6143              	.LVL411:
 6144              	.L471:
1583:DMP/driver/eMPL/inv_mpu.c ****     else {
 6145              		.loc 1 1583 16 view .LVU1757
 6146 0056 0025     		movs	r5, #0
 6147 0058 ECE7     		b	.L465
 6148              	.L472:
1586:DMP/driver/eMPL/inv_mpu.c ****         prev = st.chip_cfg.fifo_enable;
 6149              		.loc 1 1586 20 view .LVU1758
 6150 005a 4FF0FF35 		mov	r5, #-1
 6151 005e E9E7     		b	.L465
 6152              	.L477:
 6153              		.align	2
 6154              	.L476:
 6155 0060 00000000 		.word	st
 6156              		.cfi_endproc
 6157              	.LFE195:
 6159              		.section	.text.mpu_get_power_state,"ax",%progbits
 6160              		.align	1
 6161              		.global	mpu_get_power_state
 6162              		.syntax unified
 6163              		.thumb
 6164              		.thumb_func
 6166              	mpu_get_power_state:
 6167              	.LVL412:
 6168              	.LFB196:
1617:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.sensors)
 6169              		.loc 1 1617 1 is_stmt 1 view -0
 6170              		.cfi_startproc
 6171              		@ args = 0, pretend = 0, frame = 0
 6172              		@ frame_needed = 0, uses_anonymous_args = 0
 6173              		@ link register save eliminated.
1618:DMP/driver/eMPL/inv_mpu.c ****         power_on[0] = 1;
 6174              		.loc 1 1618 5 view .LVU1760
1618:DMP/driver/eMPL/inv_mpu.c ****         power_on[0] = 1;
 6175              		.loc 1 1618 20 is_stmt 0 view .LVU1761
 6176 0000 044B     		ldr	r3, .L481
 6177 0002 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 178


1618:DMP/driver/eMPL/inv_mpu.c ****         power_on[0] = 1;
 6178              		.loc 1 1618 8 view .LVU1762
 6179 0004 1BB1     		cbz	r3, .L479
1619:DMP/driver/eMPL/inv_mpu.c ****     else
 6180              		.loc 1 1619 9 is_stmt 1 view .LVU1763
1619:DMP/driver/eMPL/inv_mpu.c ****     else
 6181              		.loc 1 1619 21 is_stmt 0 view .LVU1764
 6182 0006 0123     		movs	r3, #1
 6183 0008 0370     		strb	r3, [r0]
 6184              	.L480:
1622:DMP/driver/eMPL/inv_mpu.c **** }
 6185              		.loc 1 1622 5 is_stmt 1 view .LVU1765
1623:DMP/driver/eMPL/inv_mpu.c **** 
 6186              		.loc 1 1623 1 is_stmt 0 view .LVU1766
 6187 000a 0020     		movs	r0, #0
 6188              	.LVL413:
1623:DMP/driver/eMPL/inv_mpu.c **** 
 6189              		.loc 1 1623 1 view .LVU1767
 6190 000c 7047     		bx	lr
 6191              	.LVL414:
 6192              	.L479:
1621:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 6193              		.loc 1 1621 9 is_stmt 1 view .LVU1768
1621:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 6194              		.loc 1 1621 21 is_stmt 0 view .LVU1769
 6195 000e 0023     		movs	r3, #0
 6196 0010 0370     		strb	r3, [r0]
 6197 0012 FAE7     		b	.L480
 6198              	.L482:
 6199              		.align	2
 6200              	.L481:
 6201 0014 00000000 		.word	st
 6202              		.cfi_endproc
 6203              	.LFE196:
 6205              		.section	.text.mpu_get_int_status,"ax",%progbits
 6206              		.align	1
 6207              		.global	mpu_get_int_status
 6208              		.syntax unified
 6209              		.thumb
 6210              		.thumb_func
 6212              	mpu_get_int_status:
 6213              	.LVL415:
 6214              	.LFB198:
1713:DMP/driver/eMPL/inv_mpu.c ****     unsigned char tmp[2];
 6215              		.loc 1 1713 1 is_stmt 1 view -0
 6216              		.cfi_startproc
 6217              		@ args = 0, pretend = 0, frame = 8
 6218              		@ frame_needed = 0, uses_anonymous_args = 0
1714:DMP/driver/eMPL/inv_mpu.c ****     if (!st.chip_cfg.sensors)
 6219              		.loc 1 1714 5 view .LVU1771
1715:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 6220              		.loc 1 1715 5 view .LVU1772
1715:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 6221              		.loc 1 1715 21 is_stmt 0 view .LVU1773
 6222 0000 0F4B     		ldr	r3, .L491
 6223 0002 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
1715:DMP/driver/eMPL/inv_mpu.c ****         return -1;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 179


 6224              		.loc 1 1715 8 view .LVU1774
 6225 0004 ABB1     		cbz	r3, .L485
1713:DMP/driver/eMPL/inv_mpu.c ****     unsigned char tmp[2];
 6226              		.loc 1 1713 1 view .LVU1775
 6227 0006 10B5     		push	{r4, lr}
 6228              	.LCFI102:
 6229              		.cfi_def_cfa_offset 8
 6230              		.cfi_offset 4, -8
 6231              		.cfi_offset 14, -4
 6232 0008 82B0     		sub	sp, sp, #8
 6233              	.LCFI103:
 6234              		.cfi_def_cfa_offset 16
 6235 000a 0446     		mov	r4, r0
1717:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 6236              		.loc 1 1717 5 is_stmt 1 view .LVU1776
1717:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 6237              		.loc 1 1717 20 is_stmt 0 view .LVU1777
 6238 000c 0C4B     		ldr	r3, .L491
 6239 000e 5868     		ldr	r0, [r3, #4]
 6240              	.LVL416:
1717:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 6241              		.loc 1 1717 33 view .LVU1778
 6242 0010 1968     		ldr	r1, [r3]
1717:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 6243              		.loc 1 1717 9 view .LVU1779
 6244 0012 01AB     		add	r3, sp, #4
 6245 0014 0222     		movs	r2, #2
 6246 0016 897C     		ldrb	r1, [r1, #18]	@ zero_extendqisi2
 6247 0018 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 6248 001a FFF7FEFF 		bl	MPU_Read_Len
 6249              	.LVL417:
1717:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 6250              		.loc 1 1717 8 view .LVU1780
 6251 001e 58B9     		cbnz	r0, .L486
1719:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 6252              		.loc 1 1719 5 is_stmt 1 view .LVU1781
1719:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 6253              		.loc 1 1719 21 is_stmt 0 view .LVU1782
 6254 0020 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
1719:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 6255              		.loc 1 1719 36 view .LVU1783
 6256 0024 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
1719:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 6257              		.loc 1 1719 31 view .LVU1784
 6258 0028 43EA0223 		orr	r3, r3, r2, lsl #8
1719:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 6259              		.loc 1 1719 15 view .LVU1785
 6260 002c 2380     		strh	r3, [r4]	@ movhi
1720:DMP/driver/eMPL/inv_mpu.c **** }
 6261              		.loc 1 1720 5 is_stmt 1 view .LVU1786
 6262              	.L483:
1721:DMP/driver/eMPL/inv_mpu.c **** 
 6263              		.loc 1 1721 1 is_stmt 0 view .LVU1787
 6264 002e 02B0     		add	sp, sp, #8
 6265              	.LCFI104:
 6266              		.cfi_def_cfa_offset 8
 6267              		@ sp needed
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 180


 6268 0030 10BD     		pop	{r4, pc}
 6269              	.LVL418:
 6270              	.L485:
 6271              	.LCFI105:
 6272              		.cfi_def_cfa_offset 0
 6273              		.cfi_restore 4
 6274              		.cfi_restore 14
1716:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_read(st.hw->addr, st.reg->dmp_int_status, 2, tmp))
 6275              		.loc 1 1716 16 view .LVU1788
 6276 0032 4FF0FF30 		mov	r0, #-1
 6277              	.LVL419:
1721:DMP/driver/eMPL/inv_mpu.c **** 
 6278              		.loc 1 1721 1 view .LVU1789
 6279 0036 7047     		bx	lr
 6280              	.LVL420:
 6281              	.L486:
 6282              	.LCFI106:
 6283              		.cfi_def_cfa_offset 16
 6284              		.cfi_offset 4, -8
 6285              		.cfi_offset 14, -4
1718:DMP/driver/eMPL/inv_mpu.c ****     status[0] = (tmp[0] << 8) | tmp[1];
 6286              		.loc 1 1718 16 view .LVU1790
 6287 0038 4FF0FF30 		mov	r0, #-1
 6288 003c F7E7     		b	.L483
 6289              	.L492:
 6290 003e 00BF     		.align	2
 6291              	.L491:
 6292 0040 00000000 		.word	st
 6293              		.cfi_endproc
 6294              	.LFE198:
 6296              		.section	.text.mpu_read_fifo,"ax",%progbits
 6297              		.align	1
 6298              		.global	mpu_read_fifo
 6299              		.syntax unified
 6300              		.thumb
 6301              		.thumb_func
 6303              	mpu_read_fifo:
 6304              	.LVL421:
 6305              	.LFB199:
1743:DMP/driver/eMPL/inv_mpu.c ****     /* Assumes maximum packet size is gyro (6) + accel (6). */
 6306              		.loc 1 1743 1 is_stmt 1 view -0
 6307              		.cfi_startproc
 6308              		@ args = 4, pretend = 0, frame = 16
 6309              		@ frame_needed = 0, uses_anonymous_args = 0
1743:DMP/driver/eMPL/inv_mpu.c ****     /* Assumes maximum packet size is gyro (6) + accel (6). */
 6310              		.loc 1 1743 1 is_stmt 0 view .LVU1792
 6311 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 6312              	.LCFI107:
 6313              		.cfi_def_cfa_offset 28
 6314              		.cfi_offset 4, -28
 6315              		.cfi_offset 5, -24
 6316              		.cfi_offset 6, -20
 6317              		.cfi_offset 7, -16
 6318              		.cfi_offset 8, -12
 6319              		.cfi_offset 9, -8
 6320              		.cfi_offset 14, -4
 6321 0004 85B0     		sub	sp, sp, #20
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 181


 6322              	.LCFI108:
 6323              		.cfi_def_cfa_offset 48
 6324 0006 1E46     		mov	r6, r3
1745:DMP/driver/eMPL/inv_mpu.c ****     unsigned char packet_size = 0;
 6325              		.loc 1 1745 5 is_stmt 1 view .LVU1793
1746:DMP/driver/eMPL/inv_mpu.c ****     unsigned short fifo_count, index = 0;
 6326              		.loc 1 1746 5 view .LVU1794
 6327              	.LVL422:
1747:DMP/driver/eMPL/inv_mpu.c **** 
 6328              		.loc 1 1747 5 view .LVU1795
1749:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 6329              		.loc 1 1749 5 view .LVU1796
1749:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 6330              		.loc 1 1749 20 is_stmt 0 view .LVU1797
 6331 0008 7C4B     		ldr	r3, .L517
 6332              	.LVL423:
1749:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 6333              		.loc 1 1749 20 view .LVU1798
 6334 000a 93F82430 		ldrb	r3, [r3, #36]	@ zero_extendqisi2
1749:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 6335              		.loc 1 1749 8 view .LVU1799
 6336 000e 002B     		cmp	r3, #0
 6337 0010 40F0D980 		bne	.L503
 6338 0014 0746     		mov	r7, r0
 6339 0016 8846     		mov	r8, r1
1752:DMP/driver/eMPL/inv_mpu.c ****     if (!st.chip_cfg.sensors)
 6340              		.loc 1 1752 5 is_stmt 1 view .LVU1800
1752:DMP/driver/eMPL/inv_mpu.c ****     if (!st.chip_cfg.sensors)
 6341              		.loc 1 1752 16 is_stmt 0 view .LVU1801
 6342 0018 3370     		strb	r3, [r6]
1753:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 6343              		.loc 1 1753 5 is_stmt 1 view .LVU1802
1753:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 6344              		.loc 1 1753 21 is_stmt 0 view .LVU1803
 6345 001a 784B     		ldr	r3, .L517
 6346 001c 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
1753:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 6347              		.loc 1 1753 8 view .LVU1804
 6348 001e 002B     		cmp	r3, #0
 6349 0020 00F0D480 		beq	.L504
1755:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 6350              		.loc 1 1755 5 is_stmt 1 view .LVU1805
1755:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 6351              		.loc 1 1755 21 is_stmt 0 view .LVU1806
 6352 0024 754B     		ldr	r3, .L517
 6353 0026 1A7C     		ldrb	r2, [r3, #16]	@ zero_extendqisi2
 6354              	.LVL424:
1755:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 6355              		.loc 1 1755 8 view .LVU1807
 6356 0028 002A     		cmp	r2, #0
 6357 002a 00F0D280 		beq	.L505
1758:DMP/driver/eMPL/inv_mpu.c ****         packet_size += 2;
 6358              		.loc 1 1758 5 is_stmt 1 view .LVU1808
1758:DMP/driver/eMPL/inv_mpu.c ****         packet_size += 2;
 6359              		.loc 1 1758 8 is_stmt 0 view .LVU1809
 6360 002e 12F04004 		ands	r4, r2, #64
 6361 0032 00D0     		beq	.L495
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 182


1759:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.fifo_enable & INV_Y_GYRO)
 6362              		.loc 1 1759 21 view .LVU1810
 6363 0034 0224     		movs	r4, #2
 6364              	.L495:
 6365              	.LVL425:
1760:DMP/driver/eMPL/inv_mpu.c ****         packet_size += 2;
 6366              		.loc 1 1760 5 is_stmt 1 view .LVU1811
1760:DMP/driver/eMPL/inv_mpu.c ****         packet_size += 2;
 6367              		.loc 1 1760 8 is_stmt 0 view .LVU1812
 6368 0036 12F0200F 		tst	r2, #32
 6369 003a 01D0     		beq	.L496
1761:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.fifo_enable & INV_Z_GYRO)
 6370              		.loc 1 1761 9 is_stmt 1 view .LVU1813
1761:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.fifo_enable & INV_Z_GYRO)
 6371              		.loc 1 1761 21 is_stmt 0 view .LVU1814
 6372 003c 0234     		adds	r4, r4, #2
 6373              	.LVL426:
1761:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.fifo_enable & INV_Z_GYRO)
 6374              		.loc 1 1761 21 view .LVU1815
 6375 003e E4B2     		uxtb	r4, r4
 6376              	.LVL427:
 6377              	.L496:
1762:DMP/driver/eMPL/inv_mpu.c ****         packet_size += 2;
 6378              		.loc 1 1762 5 is_stmt 1 view .LVU1816
1762:DMP/driver/eMPL/inv_mpu.c ****         packet_size += 2;
 6379              		.loc 1 1762 8 is_stmt 0 view .LVU1817
 6380 0040 12F0100F 		tst	r2, #16
 6381 0044 01D0     		beq	.L497
1763:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.fifo_enable & INV_XYZ_ACCEL)
 6382              		.loc 1 1763 9 is_stmt 1 view .LVU1818
1763:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.fifo_enable & INV_XYZ_ACCEL)
 6383              		.loc 1 1763 21 is_stmt 0 view .LVU1819
 6384 0046 0234     		adds	r4, r4, #2
 6385              	.LVL428:
1763:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.fifo_enable & INV_XYZ_ACCEL)
 6386              		.loc 1 1763 21 view .LVU1820
 6387 0048 E4B2     		uxtb	r4, r4
 6388              	.LVL429:
 6389              	.L497:
1764:DMP/driver/eMPL/inv_mpu.c ****         packet_size += 6;
 6390              		.loc 1 1764 5 is_stmt 1 view .LVU1821
1764:DMP/driver/eMPL/inv_mpu.c ****         packet_size += 6;
 6391              		.loc 1 1764 8 is_stmt 0 view .LVU1822
 6392 004a 12F0080F 		tst	r2, #8
 6393 004e 01D0     		beq	.L498
1765:DMP/driver/eMPL/inv_mpu.c **** 
 6394              		.loc 1 1765 9 is_stmt 1 view .LVU1823
1765:DMP/driver/eMPL/inv_mpu.c **** 
 6395              		.loc 1 1765 21 is_stmt 0 view .LVU1824
 6396 0050 0634     		adds	r4, r4, #6
 6397              	.LVL430:
1765:DMP/driver/eMPL/inv_mpu.c **** 
 6398              		.loc 1 1765 21 view .LVU1825
 6399 0052 E4B2     		uxtb	r4, r4
 6400              	.LVL431:
 6401              	.L498:
1767:DMP/driver/eMPL/inv_mpu.c ****         return -1;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 183


 6402              		.loc 1 1767 5 is_stmt 1 view .LVU1826
1767:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 6403              		.loc 1 1767 20 is_stmt 0 view .LVU1827
 6404 0054 694B     		ldr	r3, .L517
 6405 0056 5868     		ldr	r0, [r3, #4]
 6406              	.LVL432:
1767:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 6407              		.loc 1 1767 33 view .LVU1828
 6408 0058 1968     		ldr	r1, [r3]
 6409              	.LVL433:
1767:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 6410              		.loc 1 1767 9 view .LVU1829
 6411 005a 01AB     		add	r3, sp, #4
 6412 005c 0222     		movs	r2, #2
 6413 005e 097B     		ldrb	r1, [r1, #12]	@ zero_extendqisi2
 6414 0060 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 6415 0062 FFF7FEFF 		bl	MPU_Read_Len
 6416              	.LVL434:
1767:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 6417              		.loc 1 1767 8 view .LVU1830
 6418 0066 0028     		cmp	r0, #0
 6419 0068 40F0B680 		bne	.L507
1769:DMP/driver/eMPL/inv_mpu.c ****     if (fifo_count < packet_size)
 6420              		.loc 1 1769 5 is_stmt 1 view .LVU1831
1769:DMP/driver/eMPL/inv_mpu.c ****     if (fifo_count < packet_size)
 6421              		.loc 1 1769 23 is_stmt 0 view .LVU1832
 6422 006c 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
1769:DMP/driver/eMPL/inv_mpu.c ****     if (fifo_count < packet_size)
 6423              		.loc 1 1769 39 view .LVU1833
 6424 0070 9DF80550 		ldrb	r5, [sp, #5]	@ zero_extendqisi2
1769:DMP/driver/eMPL/inv_mpu.c ****     if (fifo_count < packet_size)
 6425              		.loc 1 1769 16 view .LVU1834
 6426 0074 45EA0325 		orr	r5, r5, r3, lsl #8
 6427              	.LVL435:
1770:DMP/driver/eMPL/inv_mpu.c ****         return 0;
 6428              		.loc 1 1770 5 is_stmt 1 view .LVU1835
1770:DMP/driver/eMPL/inv_mpu.c ****         return 0;
 6429              		.loc 1 1770 20 is_stmt 0 view .LVU1836
 6430 0078 A146     		mov	r9, r4
1770:DMP/driver/eMPL/inv_mpu.c ****         return 0;
 6431              		.loc 1 1770 8 view .LVU1837
 6432 007a AC42     		cmp	r4, r5
 6433 007c 00F2AF80 		bhi	.L508
1773:DMP/driver/eMPL/inv_mpu.c ****         /* FIFO is 50% full, better check overflow bit. */
 6434              		.loc 1 1773 5 is_stmt 1 view .LVU1838
1773:DMP/driver/eMPL/inv_mpu.c ****         /* FIFO is 50% full, better check overflow bit. */
 6435              		.loc 1 1773 25 is_stmt 0 view .LVU1839
 6436 0080 5E4B     		ldr	r3, .L517
 6437 0082 5868     		ldr	r0, [r3, #4]
1773:DMP/driver/eMPL/inv_mpu.c ****         /* FIFO is 50% full, better check overflow bit. */
 6438              		.loc 1 1773 28 view .LVU1840
 6439 0084 4388     		ldrh	r3, [r0, #2]
1773:DMP/driver/eMPL/inv_mpu.c ****         /* FIFO is 50% full, better check overflow bit. */
 6440              		.loc 1 1773 8 view .LVU1841
 6441 0086 B5EB530F 		cmp	r5, r3, lsr #1
 6442 008a 0FD9     		bls	.L499
1775:DMP/driver/eMPL/inv_mpu.c ****             return -1;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 184


 6443              		.loc 1 1775 9 is_stmt 1 view .LVU1842
1775:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 6444              		.loc 1 1775 37 is_stmt 0 view .LVU1843
 6445 008c 5B4B     		ldr	r3, .L517
 6446 008e 1968     		ldr	r1, [r3]
1775:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 6447              		.loc 1 1775 13 view .LVU1844
 6448 0090 01AB     		add	r3, sp, #4
 6449 0092 0122     		movs	r2, #1
 6450 0094 C97C     		ldrb	r1, [r1, #19]	@ zero_extendqisi2
 6451 0096 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 6452 0098 FFF7FEFF 		bl	MPU_Read_Len
 6453              	.LVL436:
1775:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 6454              		.loc 1 1775 12 view .LVU1845
 6455 009c 0028     		cmp	r0, #0
 6456 009e 40F0A280 		bne	.L509
1777:DMP/driver/eMPL/inv_mpu.c ****             mpu_reset_fifo();
 6457              		.loc 1 1777 9 is_stmt 1 view .LVU1846
1777:DMP/driver/eMPL/inv_mpu.c ****             mpu_reset_fifo();
 6458              		.loc 1 1777 17 is_stmt 0 view .LVU1847
 6459 00a2 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
1777:DMP/driver/eMPL/inv_mpu.c ****             mpu_reset_fifo();
 6460              		.loc 1 1777 12 view .LVU1848
 6461 00a6 13F0100F 		tst	r3, #16
 6462 00aa 37D1     		bne	.L516
 6463              	.L499:
1782:DMP/driver/eMPL/inv_mpu.c **** 
 6464              		.loc 1 1782 5 is_stmt 1 view .LVU1849
1784:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 6465              		.loc 1 1784 5 view .LVU1850
1784:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 6466              		.loc 1 1784 20 is_stmt 0 view .LVU1851
 6467 00ac 534B     		ldr	r3, .L517
 6468 00ae 5868     		ldr	r0, [r3, #4]
1784:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 6469              		.loc 1 1784 33 view .LVU1852
 6470 00b0 1968     		ldr	r1, [r3]
1784:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 6471              		.loc 1 1784 9 view .LVU1853
 6472 00b2 01AB     		add	r3, sp, #4
 6473 00b4 2246     		mov	r2, r4
 6474 00b6 497B     		ldrb	r1, [r1, #13]	@ zero_extendqisi2
 6475 00b8 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 6476 00ba FFF7FEFF 		bl	MPU_Read_Len
 6477              	.LVL437:
1784:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 6478              		.loc 1 1784 8 view .LVU1854
 6479 00be 0028     		cmp	r0, #0
 6480 00c0 40F09480 		bne	.L510
1786:DMP/driver/eMPL/inv_mpu.c ****     sensors[0] = 0;
 6481              		.loc 1 1786 5 is_stmt 1 view .LVU1855
1786:DMP/driver/eMPL/inv_mpu.c ****     sensors[0] = 0;
 6482              		.loc 1 1786 26 is_stmt 0 view .LVU1856
 6483 00c4 95FBF4F5 		sdiv	r5, r5, r4
 6484              	.LVL438:
1786:DMP/driver/eMPL/inv_mpu.c ****     sensors[0] = 0;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 185


 6485              		.loc 1 1786 40 view .LVU1857
 6486 00c8 013D     		subs	r5, r5, #1
1786:DMP/driver/eMPL/inv_mpu.c ****     sensors[0] = 0;
 6487              		.loc 1 1786 13 view .LVU1858
 6488 00ca 0C9B     		ldr	r3, [sp, #48]
 6489 00cc 1D70     		strb	r5, [r3]
1787:DMP/driver/eMPL/inv_mpu.c **** 
 6490              		.loc 1 1787 5 is_stmt 1 view .LVU1859
1787:DMP/driver/eMPL/inv_mpu.c **** 
 6491              		.loc 1 1787 16 is_stmt 0 view .LVU1860
 6492 00ce 0023     		movs	r3, #0
 6493 00d0 3370     		strb	r3, [r6]
1789:DMP/driver/eMPL/inv_mpu.c ****         accel[0] = (data[index+0] << 8) | data[index+1];
 6494              		.loc 1 1789 5 is_stmt 1 view .LVU1861
1789:DMP/driver/eMPL/inv_mpu.c ****         accel[0] = (data[index+0] << 8) | data[index+1];
 6495              		.loc 1 1789 8 is_stmt 0 view .LVU1862
 6496 00d2 002C     		cmp	r4, #0
 6497 00d4 43D0     		beq	.L511
1789:DMP/driver/eMPL/inv_mpu.c ****         accel[0] = (data[index+0] << 8) | data[index+1];
 6498              		.loc 1 1789 46 discriminator 1 view .LVU1863
 6499 00d6 494B     		ldr	r3, .L517
 6500 00d8 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
1789:DMP/driver/eMPL/inv_mpu.c ****         accel[0] = (data[index+0] << 8) | data[index+1];
 6501              		.loc 1 1789 32 discriminator 1 view .LVU1864
 6502 00da 13F0080F 		tst	r3, #8
 6503 00de 22D0     		beq	.L512
1790:DMP/driver/eMPL/inv_mpu.c ****         accel[1] = (data[index+2] << 8) | data[index+3];
 6504              		.loc 1 1790 9 is_stmt 1 view .LVU1865
1790:DMP/driver/eMPL/inv_mpu.c ****         accel[1] = (data[index+2] << 8) | data[index+3];
 6505              		.loc 1 1790 25 is_stmt 0 view .LVU1866
 6506 00e0 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
1790:DMP/driver/eMPL/inv_mpu.c ****         accel[1] = (data[index+2] << 8) | data[index+3];
 6507              		.loc 1 1790 47 view .LVU1867
 6508 00e4 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
1790:DMP/driver/eMPL/inv_mpu.c ****         accel[1] = (data[index+2] << 8) | data[index+3];
 6509              		.loc 1 1790 41 view .LVU1868
 6510 00e8 43EA0223 		orr	r3, r3, r2, lsl #8
1790:DMP/driver/eMPL/inv_mpu.c ****         accel[1] = (data[index+2] << 8) | data[index+3];
 6511              		.loc 1 1790 18 view .LVU1869
 6512 00ec A8F80030 		strh	r3, [r8]	@ movhi
1791:DMP/driver/eMPL/inv_mpu.c ****         accel[2] = (data[index+4] << 8) | data[index+5];
 6513              		.loc 1 1791 9 is_stmt 1 view .LVU1870
1791:DMP/driver/eMPL/inv_mpu.c ****         accel[2] = (data[index+4] << 8) | data[index+5];
 6514              		.loc 1 1791 25 is_stmt 0 view .LVU1871
 6515 00f0 9DF80620 		ldrb	r2, [sp, #6]	@ zero_extendqisi2
1791:DMP/driver/eMPL/inv_mpu.c ****         accel[2] = (data[index+4] << 8) | data[index+5];
 6516              		.loc 1 1791 47 view .LVU1872
 6517 00f4 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
1791:DMP/driver/eMPL/inv_mpu.c ****         accel[2] = (data[index+4] << 8) | data[index+5];
 6518              		.loc 1 1791 41 view .LVU1873
 6519 00f8 43EA0223 		orr	r3, r3, r2, lsl #8
1791:DMP/driver/eMPL/inv_mpu.c ****         accel[2] = (data[index+4] << 8) | data[index+5];
 6520              		.loc 1 1791 18 view .LVU1874
 6521 00fc A8F80230 		strh	r3, [r8, #2]	@ movhi
1792:DMP/driver/eMPL/inv_mpu.c ****         sensors[0] |= INV_XYZ_ACCEL;
 6522              		.loc 1 1792 9 is_stmt 1 view .LVU1875
1792:DMP/driver/eMPL/inv_mpu.c ****         sensors[0] |= INV_XYZ_ACCEL;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 186


 6523              		.loc 1 1792 25 is_stmt 0 view .LVU1876
 6524 0100 9DF80820 		ldrb	r2, [sp, #8]	@ zero_extendqisi2
1792:DMP/driver/eMPL/inv_mpu.c ****         sensors[0] |= INV_XYZ_ACCEL;
 6525              		.loc 1 1792 47 view .LVU1877
 6526 0104 9DF80930 		ldrb	r3, [sp, #9]	@ zero_extendqisi2
1792:DMP/driver/eMPL/inv_mpu.c ****         sensors[0] |= INV_XYZ_ACCEL;
 6527              		.loc 1 1792 41 view .LVU1878
 6528 0108 43EA0223 		orr	r3, r3, r2, lsl #8
1792:DMP/driver/eMPL/inv_mpu.c ****         sensors[0] |= INV_XYZ_ACCEL;
 6529              		.loc 1 1792 18 view .LVU1879
 6530 010c A8F80430 		strh	r3, [r8, #4]	@ movhi
1793:DMP/driver/eMPL/inv_mpu.c ****         index += 6;
 6531              		.loc 1 1793 9 is_stmt 1 view .LVU1880
1793:DMP/driver/eMPL/inv_mpu.c ****         index += 6;
 6532              		.loc 1 1793 16 is_stmt 0 view .LVU1881
 6533 0110 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
1793:DMP/driver/eMPL/inv_mpu.c ****         index += 6;
 6534              		.loc 1 1793 20 view .LVU1882
 6535 0112 43F00803 		orr	r3, r3, #8
 6536 0116 3370     		strb	r3, [r6]
1794:DMP/driver/eMPL/inv_mpu.c ****     }
 6537              		.loc 1 1794 9 is_stmt 1 view .LVU1883
 6538              	.LVL439:
1794:DMP/driver/eMPL/inv_mpu.c ****     }
 6539              		.loc 1 1794 15 is_stmt 0 view .LVU1884
 6540 0118 0623     		movs	r3, #6
 6541 011a 05E0     		b	.L501
 6542              	.LVL440:
 6543              	.L516:
1778:DMP/driver/eMPL/inv_mpu.c ****             return -2;
 6544              		.loc 1 1778 13 is_stmt 1 view .LVU1885
 6545 011c FFF7FEFF 		bl	mpu_reset_fifo
 6546              	.LVL441:
1779:DMP/driver/eMPL/inv_mpu.c ****         }
 6547              		.loc 1 1779 13 view .LVU1886
1779:DMP/driver/eMPL/inv_mpu.c ****         }
 6548              		.loc 1 1779 20 is_stmt 0 view .LVU1887
 6549 0120 6FF00100 		mvn	r0, #1
 6550 0124 5CE0     		b	.L493
 6551              	.LVL442:
 6552              	.L512:
1747:DMP/driver/eMPL/inv_mpu.c **** 
 6553              		.loc 1 1747 32 view .LVU1888
 6554 0126 0023     		movs	r3, #0
 6555              	.LVL443:
 6556              	.L501:
1796:DMP/driver/eMPL/inv_mpu.c ****         gyro[0] = (data[index+0] << 8) | data[index+1];
 6557              		.loc 1 1796 5 is_stmt 1 view .LVU1889
1796:DMP/driver/eMPL/inv_mpu.c ****         gyro[0] = (data[index+0] << 8) | data[index+1];
 6558              		.loc 1 1796 8 is_stmt 0 view .LVU1890
 6559 0128 9945     		cmp	r9, r3
 6560 012a 19D0     		beq	.L500
1796:DMP/driver/eMPL/inv_mpu.c ****         gyro[0] = (data[index+0] << 8) | data[index+1];
 6561              		.loc 1 1796 46 discriminator 1 view .LVU1891
 6562 012c 334A     		ldr	r2, .L517
 6563 012e 127C     		ldrb	r2, [r2, #16]	@ zero_extendqisi2
1796:DMP/driver/eMPL/inv_mpu.c ****         gyro[0] = (data[index+0] << 8) | data[index+1];
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 187


 6564              		.loc 1 1796 32 discriminator 1 view .LVU1892
 6565 0130 12F0400F 		tst	r2, #64
 6566 0134 14D0     		beq	.L500
1797:DMP/driver/eMPL/inv_mpu.c ****         sensors[0] |= INV_X_GYRO;
 6567              		.loc 1 1797 9 is_stmt 1 view .LVU1893
1797:DMP/driver/eMPL/inv_mpu.c ****         sensors[0] |= INV_X_GYRO;
 6568              		.loc 1 1797 24 is_stmt 0 view .LVU1894
 6569 0136 03F11002 		add	r2, r3, #16
 6570 013a 6A44     		add	r2, sp, r2
 6571 013c 12F80C1C 		ldrb	r1, [r2, #-12]	@ zero_extendqisi2
1797:DMP/driver/eMPL/inv_mpu.c ****         sensors[0] |= INV_X_GYRO;
 6572              		.loc 1 1797 46 view .LVU1895
 6573 0140 03F11102 		add	r2, r3, #17
 6574 0144 6A44     		add	r2, sp, r2
 6575 0146 12F80C2C 		ldrb	r2, [r2, #-12]	@ zero_extendqisi2
1797:DMP/driver/eMPL/inv_mpu.c ****         sensors[0] |= INV_X_GYRO;
 6576              		.loc 1 1797 40 view .LVU1896
 6577 014a 42EA0122 		orr	r2, r2, r1, lsl #8
1797:DMP/driver/eMPL/inv_mpu.c ****         sensors[0] |= INV_X_GYRO;
 6578              		.loc 1 1797 17 view .LVU1897
 6579 014e 3A80     		strh	r2, [r7]	@ movhi
1798:DMP/driver/eMPL/inv_mpu.c ****         index += 2;
 6580              		.loc 1 1798 9 is_stmt 1 view .LVU1898
1798:DMP/driver/eMPL/inv_mpu.c ****         index += 2;
 6581              		.loc 1 1798 16 is_stmt 0 view .LVU1899
 6582 0150 3278     		ldrb	r2, [r6]	@ zero_extendqisi2
1798:DMP/driver/eMPL/inv_mpu.c ****         index += 2;
 6583              		.loc 1 1798 20 view .LVU1900
 6584 0152 42F04002 		orr	r2, r2, #64
 6585 0156 3270     		strb	r2, [r6]
1799:DMP/driver/eMPL/inv_mpu.c ****     }
 6586              		.loc 1 1799 9 is_stmt 1 view .LVU1901
1799:DMP/driver/eMPL/inv_mpu.c ****     }
 6587              		.loc 1 1799 15 is_stmt 0 view .LVU1902
 6588 0158 0233     		adds	r3, r3, #2
 6589              	.LVL444:
1799:DMP/driver/eMPL/inv_mpu.c ****     }
 6590              		.loc 1 1799 15 view .LVU1903
 6591 015a 9BB2     		uxth	r3, r3
1799:DMP/driver/eMPL/inv_mpu.c ****     }
 6592              		.loc 1 1799 15 view .LVU1904
 6593 015c 00E0     		b	.L500
 6594              	.LVL445:
 6595              	.L511:
1747:DMP/driver/eMPL/inv_mpu.c **** 
 6596              		.loc 1 1747 32 view .LVU1905
 6597 015e 0023     		movs	r3, #0
 6598              	.LVL446:
 6599              	.L500:
1801:DMP/driver/eMPL/inv_mpu.c ****         gyro[1] = (data[index+0] << 8) | data[index+1];
 6600              		.loc 1 1801 5 is_stmt 1 view .LVU1906
1801:DMP/driver/eMPL/inv_mpu.c ****         gyro[1] = (data[index+0] << 8) | data[index+1];
 6601              		.loc 1 1801 8 is_stmt 0 view .LVU1907
 6602 0160 9945     		cmp	r9, r3
 6603 0162 17D0     		beq	.L502
1801:DMP/driver/eMPL/inv_mpu.c ****         gyro[1] = (data[index+0] << 8) | data[index+1];
 6604              		.loc 1 1801 46 discriminator 1 view .LVU1908
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 188


 6605 0164 254A     		ldr	r2, .L517
 6606 0166 127C     		ldrb	r2, [r2, #16]	@ zero_extendqisi2
1801:DMP/driver/eMPL/inv_mpu.c ****         gyro[1] = (data[index+0] << 8) | data[index+1];
 6607              		.loc 1 1801 32 discriminator 1 view .LVU1909
 6608 0168 12F0200F 		tst	r2, #32
 6609 016c 12D0     		beq	.L502
1802:DMP/driver/eMPL/inv_mpu.c ****         sensors[0] |= INV_Y_GYRO;
 6610              		.loc 1 1802 9 is_stmt 1 view .LVU1910
1802:DMP/driver/eMPL/inv_mpu.c ****         sensors[0] |= INV_Y_GYRO;
 6611              		.loc 1 1802 24 is_stmt 0 view .LVU1911
 6612 016e 03F11002 		add	r2, r3, #16
 6613 0172 6A44     		add	r2, sp, r2
 6614 0174 12F80C1C 		ldrb	r1, [r2, #-12]	@ zero_extendqisi2
1802:DMP/driver/eMPL/inv_mpu.c ****         sensors[0] |= INV_Y_GYRO;
 6615              		.loc 1 1802 46 view .LVU1912
 6616 0178 03F11102 		add	r2, r3, #17
 6617 017c 6A44     		add	r2, sp, r2
 6618 017e 12F80C2C 		ldrb	r2, [r2, #-12]	@ zero_extendqisi2
1802:DMP/driver/eMPL/inv_mpu.c ****         sensors[0] |= INV_Y_GYRO;
 6619              		.loc 1 1802 40 view .LVU1913
 6620 0182 42EA0122 		orr	r2, r2, r1, lsl #8
1802:DMP/driver/eMPL/inv_mpu.c ****         sensors[0] |= INV_Y_GYRO;
 6621              		.loc 1 1802 17 view .LVU1914
 6622 0186 7A80     		strh	r2, [r7, #2]	@ movhi
1803:DMP/driver/eMPL/inv_mpu.c ****         index += 2;
 6623              		.loc 1 1803 9 is_stmt 1 view .LVU1915
1803:DMP/driver/eMPL/inv_mpu.c ****         index += 2;
 6624              		.loc 1 1803 16 is_stmt 0 view .LVU1916
 6625 0188 3278     		ldrb	r2, [r6]	@ zero_extendqisi2
1803:DMP/driver/eMPL/inv_mpu.c ****         index += 2;
 6626              		.loc 1 1803 20 view .LVU1917
 6627 018a 42F02002 		orr	r2, r2, #32
 6628 018e 3270     		strb	r2, [r6]
1804:DMP/driver/eMPL/inv_mpu.c ****     }
 6629              		.loc 1 1804 9 is_stmt 1 view .LVU1918
1804:DMP/driver/eMPL/inv_mpu.c ****     }
 6630              		.loc 1 1804 15 is_stmt 0 view .LVU1919
 6631 0190 0233     		adds	r3, r3, #2
 6632              	.LVL447:
1804:DMP/driver/eMPL/inv_mpu.c ****     }
 6633              		.loc 1 1804 15 view .LVU1920
 6634 0192 9BB2     		uxth	r3, r3
 6635              	.LVL448:
 6636              	.L502:
1806:DMP/driver/eMPL/inv_mpu.c ****         gyro[2] = (data[index+0] << 8) | data[index+1];
 6637              		.loc 1 1806 5 is_stmt 1 view .LVU1921
1806:DMP/driver/eMPL/inv_mpu.c ****         gyro[2] = (data[index+0] << 8) | data[index+1];
 6638              		.loc 1 1806 8 is_stmt 0 view .LVU1922
 6639 0194 9945     		cmp	r9, r3
 6640 0196 2CD0     		beq	.L513
1806:DMP/driver/eMPL/inv_mpu.c ****         gyro[2] = (data[index+0] << 8) | data[index+1];
 6641              		.loc 1 1806 46 discriminator 1 view .LVU1923
 6642 0198 184A     		ldr	r2, .L517
 6643 019a 127C     		ldrb	r2, [r2, #16]	@ zero_extendqisi2
1806:DMP/driver/eMPL/inv_mpu.c ****         gyro[2] = (data[index+0] << 8) | data[index+1];
 6644              		.loc 1 1806 32 discriminator 1 view .LVU1924
 6645 019c 12F0100F 		tst	r2, #16
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 189


 6646 01a0 29D0     		beq	.L514
1807:DMP/driver/eMPL/inv_mpu.c ****         sensors[0] |= INV_Z_GYRO;
 6647              		.loc 1 1807 9 is_stmt 1 view .LVU1925
1807:DMP/driver/eMPL/inv_mpu.c ****         sensors[0] |= INV_Z_GYRO;
 6648              		.loc 1 1807 24 is_stmt 0 view .LVU1926
 6649 01a2 03F11002 		add	r2, r3, #16
 6650 01a6 6A44     		add	r2, sp, r2
 6651 01a8 12F80C2C 		ldrb	r2, [r2, #-12]	@ zero_extendqisi2
1807:DMP/driver/eMPL/inv_mpu.c ****         sensors[0] |= INV_Z_GYRO;
 6652              		.loc 1 1807 46 view .LVU1927
 6653 01ac 1133     		adds	r3, r3, #17
 6654 01ae 6B44     		add	r3, sp, r3
 6655 01b0 13F80C3C 		ldrb	r3, [r3, #-12]	@ zero_extendqisi2
1807:DMP/driver/eMPL/inv_mpu.c ****         sensors[0] |= INV_Z_GYRO;
 6656              		.loc 1 1807 40 view .LVU1928
 6657 01b4 43EA0223 		orr	r3, r3, r2, lsl #8
1807:DMP/driver/eMPL/inv_mpu.c ****         sensors[0] |= INV_Z_GYRO;
 6658              		.loc 1 1807 17 view .LVU1929
 6659 01b8 BB80     		strh	r3, [r7, #4]	@ movhi
1808:DMP/driver/eMPL/inv_mpu.c ****         index += 2;
 6660              		.loc 1 1808 9 is_stmt 1 view .LVU1930
1808:DMP/driver/eMPL/inv_mpu.c ****         index += 2;
 6661              		.loc 1 1808 16 is_stmt 0 view .LVU1931
 6662 01ba 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
1808:DMP/driver/eMPL/inv_mpu.c ****         index += 2;
 6663              		.loc 1 1808 20 view .LVU1932
 6664 01bc 43F01003 		orr	r3, r3, #16
 6665 01c0 3370     		strb	r3, [r6]
1809:DMP/driver/eMPL/inv_mpu.c ****     }
 6666              		.loc 1 1809 9 is_stmt 1 view .LVU1933
1812:DMP/driver/eMPL/inv_mpu.c **** }
 6667              		.loc 1 1812 12 is_stmt 0 view .LVU1934
 6668 01c2 0020     		movs	r0, #0
 6669 01c4 0CE0     		b	.L493
 6670              	.LVL449:
 6671              	.L503:
1750:DMP/driver/eMPL/inv_mpu.c **** 
 6672              		.loc 1 1750 16 view .LVU1935
 6673 01c6 4FF0FF30 		mov	r0, #-1
 6674              	.LVL450:
1750:DMP/driver/eMPL/inv_mpu.c **** 
 6675              		.loc 1 1750 16 view .LVU1936
 6676 01ca 09E0     		b	.L493
 6677              	.LVL451:
 6678              	.L504:
1754:DMP/driver/eMPL/inv_mpu.c ****     if (!st.chip_cfg.fifo_enable)
 6679              		.loc 1 1754 16 view .LVU1937
 6680 01cc 4FF0FF30 		mov	r0, #-1
 6681              	.LVL452:
1754:DMP/driver/eMPL/inv_mpu.c ****     if (!st.chip_cfg.fifo_enable)
 6682              		.loc 1 1754 16 view .LVU1938
 6683 01d0 06E0     		b	.L493
 6684              	.LVL453:
 6685              	.L505:
1756:DMP/driver/eMPL/inv_mpu.c **** 
 6686              		.loc 1 1756 16 view .LVU1939
 6687 01d2 4FF0FF30 		mov	r0, #-1
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 190


 6688              	.LVL454:
1756:DMP/driver/eMPL/inv_mpu.c **** 
 6689              		.loc 1 1756 16 view .LVU1940
 6690 01d6 03E0     		b	.L493
 6691              	.LVL455:
 6692              	.L507:
1768:DMP/driver/eMPL/inv_mpu.c ****     fifo_count = (data[0] << 8) | data[1];
 6693              		.loc 1 1768 16 view .LVU1941
 6694 01d8 4FF0FF30 		mov	r0, #-1
 6695 01dc 00E0     		b	.L493
 6696              	.LVL456:
 6697              	.L508:
1771:DMP/driver/eMPL/inv_mpu.c **** //    log_i("FIFO count: %hd\n", fifo_count);
 6698              		.loc 1 1771 16 view .LVU1942
 6699 01de 0020     		movs	r0, #0
 6700              	.LVL457:
 6701              	.L493:
1813:DMP/driver/eMPL/inv_mpu.c **** 
 6702              		.loc 1 1813 1 view .LVU1943
 6703 01e0 05B0     		add	sp, sp, #20
 6704              	.LCFI109:
 6705              		.cfi_remember_state
 6706              		.cfi_def_cfa_offset 28
 6707              		@ sp needed
 6708 01e2 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 6709              	.LVL458:
 6710              	.L509:
 6711              	.LCFI110:
 6712              		.cfi_restore_state
1776:DMP/driver/eMPL/inv_mpu.c ****         if (data[0] & BIT_FIFO_OVERFLOW) {
 6713              		.loc 1 1776 20 view .LVU1944
 6714 01e6 4FF0FF30 		mov	r0, #-1
 6715 01ea F9E7     		b	.L493
 6716              	.L510:
1785:DMP/driver/eMPL/inv_mpu.c ****     more[0] = fifo_count / packet_size - 1;
 6717              		.loc 1 1785 16 view .LVU1945
 6718 01ec 4FF0FF30 		mov	r0, #-1
 6719 01f0 F6E7     		b	.L493
 6720              	.LVL459:
 6721              	.L513:
1812:DMP/driver/eMPL/inv_mpu.c **** }
 6722              		.loc 1 1812 12 view .LVU1946
 6723 01f2 0020     		movs	r0, #0
 6724 01f4 F4E7     		b	.L493
 6725              	.L514:
 6726 01f6 0020     		movs	r0, #0
 6727 01f8 F2E7     		b	.L493
 6728              	.L518:
 6729 01fa 00BF     		.align	2
 6730              	.L517:
 6731 01fc 00000000 		.word	st
 6732              		.cfi_endproc
 6733              	.LFE199:
 6735              		.section	.text.mpu_read_fifo_stream,"ax",%progbits
 6736              		.align	1
 6737              		.global	mpu_read_fifo_stream
 6738              		.syntax unified
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 191


 6739              		.thumb
 6740              		.thumb_func
 6742              	mpu_read_fifo_stream:
 6743              	.LVL460:
 6744              	.LFB200:
1824:DMP/driver/eMPL/inv_mpu.c ****     unsigned char tmp[2];
 6745              		.loc 1 1824 1 is_stmt 1 view -0
 6746              		.cfi_startproc
 6747              		@ args = 0, pretend = 0, frame = 8
 6748              		@ frame_needed = 0, uses_anonymous_args = 0
1825:DMP/driver/eMPL/inv_mpu.c ****     unsigned short fifo_count;
 6749              		.loc 1 1825 5 view .LVU1948
1826:DMP/driver/eMPL/inv_mpu.c ****     if (!st.chip_cfg.dmp_on)
 6750              		.loc 1 1826 5 view .LVU1949
1827:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 6751              		.loc 1 1827 5 view .LVU1950
1827:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 6752              		.loc 1 1827 21 is_stmt 0 view .LVU1951
 6753 0000 2E4B     		ldr	r3, .L534
 6754 0002 93F82430 		ldrb	r3, [r3, #36]	@ zero_extendqisi2
1827:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 6755              		.loc 1 1827 8 view .LVU1952
 6756 0006 002B     		cmp	r3, #0
 6757 0008 49D0     		beq	.L523
1824:DMP/driver/eMPL/inv_mpu.c ****     unsigned char tmp[2];
 6758              		.loc 1 1824 1 view .LVU1953
 6759 000a F0B5     		push	{r4, r5, r6, r7, lr}
 6760              	.LCFI111:
 6761              		.cfi_def_cfa_offset 20
 6762              		.cfi_offset 4, -20
 6763              		.cfi_offset 5, -16
 6764              		.cfi_offset 6, -12
 6765              		.cfi_offset 7, -8
 6766              		.cfi_offset 14, -4
 6767 000c 83B0     		sub	sp, sp, #12
 6768              	.LCFI112:
 6769              		.cfi_def_cfa_offset 32
 6770 000e 0546     		mov	r5, r0
 6771 0010 0F46     		mov	r7, r1
 6772 0012 1646     		mov	r6, r2
1829:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 6773              		.loc 1 1829 5 is_stmt 1 view .LVU1954
1829:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 6774              		.loc 1 1829 21 is_stmt 0 view .LVU1955
 6775 0014 294B     		ldr	r3, .L534
 6776 0016 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
1829:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 6777              		.loc 1 1829 8 view .LVU1956
 6778 0018 002B     		cmp	r3, #0
 6779 001a 43D0     		beq	.L524
1832:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 6780              		.loc 1 1832 5 is_stmt 1 view .LVU1957
1832:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 6781              		.loc 1 1832 20 is_stmt 0 view .LVU1958
 6782 001c 274B     		ldr	r3, .L534
 6783 001e 5868     		ldr	r0, [r3, #4]
 6784              	.LVL461:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 192


1832:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 6785              		.loc 1 1832 33 view .LVU1959
 6786 0020 1968     		ldr	r1, [r3]
 6787              	.LVL462:
1832:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 6788              		.loc 1 1832 9 view .LVU1960
 6789 0022 01AB     		add	r3, sp, #4
 6790 0024 0222     		movs	r2, #2
 6791              	.LVL463:
1832:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 6792              		.loc 1 1832 9 view .LVU1961
 6793 0026 097B     		ldrb	r1, [r1, #12]	@ zero_extendqisi2
 6794 0028 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 6795 002a FFF7FEFF 		bl	MPU_Read_Len
 6796              	.LVL464:
1832:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 6797              		.loc 1 1832 8 view .LVU1962
 6798 002e 0028     		cmp	r0, #0
 6799 0030 3BD1     		bne	.L525
1834:DMP/driver/eMPL/inv_mpu.c ****     if (fifo_count < length) {
 6800              		.loc 1 1834 5 is_stmt 1 view .LVU1963
1834:DMP/driver/eMPL/inv_mpu.c ****     if (fifo_count < length) {
 6801              		.loc 1 1834 22 is_stmt 0 view .LVU1964
 6802 0032 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
1834:DMP/driver/eMPL/inv_mpu.c ****     if (fifo_count < length) {
 6803              		.loc 1 1834 37 view .LVU1965
 6804 0036 9DF80540 		ldrb	r4, [sp, #5]	@ zero_extendqisi2
1834:DMP/driver/eMPL/inv_mpu.c ****     if (fifo_count < length) {
 6805              		.loc 1 1834 16 view .LVU1966
 6806 003a 44EA0324 		orr	r4, r4, r3, lsl #8
 6807              	.LVL465:
1835:DMP/driver/eMPL/inv_mpu.c ****         more[0] = 0;
 6808              		.loc 1 1835 5 is_stmt 1 view .LVU1967
1835:DMP/driver/eMPL/inv_mpu.c ****         more[0] = 0;
 6809              		.loc 1 1835 8 is_stmt 0 view .LVU1968
 6810 003e AC42     		cmp	r4, r5
 6811 0040 23D3     		bcc	.L532
1839:DMP/driver/eMPL/inv_mpu.c ****         /* FIFO is 50% full, better check overflow bit. */
 6812              		.loc 1 1839 5 is_stmt 1 view .LVU1969
1839:DMP/driver/eMPL/inv_mpu.c ****         /* FIFO is 50% full, better check overflow bit. */
 6813              		.loc 1 1839 25 is_stmt 0 view .LVU1970
 6814 0042 1E4B     		ldr	r3, .L534
 6815 0044 5868     		ldr	r0, [r3, #4]
1839:DMP/driver/eMPL/inv_mpu.c ****         /* FIFO is 50% full, better check overflow bit. */
 6816              		.loc 1 1839 28 view .LVU1971
 6817 0046 4388     		ldrh	r3, [r0, #2]
1839:DMP/driver/eMPL/inv_mpu.c ****         /* FIFO is 50% full, better check overflow bit. */
 6818              		.loc 1 1839 8 view .LVU1972
 6819 0048 B4EB530F 		cmp	r4, r3, lsr #1
 6820 004c 0DD9     		bls	.L522
1841:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 6821              		.loc 1 1841 9 is_stmt 1 view .LVU1973
1841:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 6822              		.loc 1 1841 37 is_stmt 0 view .LVU1974
 6823 004e 1B4B     		ldr	r3, .L534
 6824 0050 1968     		ldr	r1, [r3]
1841:DMP/driver/eMPL/inv_mpu.c ****             return -1;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 193


 6825              		.loc 1 1841 13 view .LVU1975
 6826 0052 01AB     		add	r3, sp, #4
 6827 0054 0122     		movs	r2, #1
 6828 0056 C97C     		ldrb	r1, [r1, #19]	@ zero_extendqisi2
 6829 0058 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 6830 005a FFF7FEFF 		bl	MPU_Read_Len
 6831              	.LVL466:
1841:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 6832              		.loc 1 1841 12 view .LVU1976
 6833 005e 38BB     		cbnz	r0, .L526
1843:DMP/driver/eMPL/inv_mpu.c ****             mpu_reset_fifo();
 6834              		.loc 1 1843 9 is_stmt 1 view .LVU1977
1843:DMP/driver/eMPL/inv_mpu.c ****             mpu_reset_fifo();
 6835              		.loc 1 1843 16 is_stmt 0 view .LVU1978
 6836 0060 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
1843:DMP/driver/eMPL/inv_mpu.c ****             mpu_reset_fifo();
 6837              		.loc 1 1843 12 view .LVU1979
 6838 0064 13F0100F 		tst	r3, #16
 6839 0068 14D1     		bne	.L533
 6840              	.L522:
1849:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 6841              		.loc 1 1849 5 is_stmt 1 view .LVU1980
1849:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 6842              		.loc 1 1849 20 is_stmt 0 view .LVU1981
 6843 006a 144B     		ldr	r3, .L534
 6844 006c 5868     		ldr	r0, [r3, #4]
1849:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 6845              		.loc 1 1849 33 view .LVU1982
 6846 006e 1968     		ldr	r1, [r3]
1849:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 6847              		.loc 1 1849 9 view .LVU1983
 6848 0070 3B46     		mov	r3, r7
 6849 0072 EAB2     		uxtb	r2, r5
 6850 0074 497B     		ldrb	r1, [r1, #13]	@ zero_extendqisi2
 6851 0076 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 6852 0078 FFF7FEFF 		bl	MPU_Read_Len
 6853              	.LVL467:
1849:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 6854              		.loc 1 1849 8 view .LVU1984
 6855 007c D8B9     		cbnz	r0, .L527
1851:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 6856              		.loc 1 1851 5 is_stmt 1 view .LVU1985
1851:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 6857              		.loc 1 1851 35 is_stmt 0 view .LVU1986
 6858 007e B4FBF5F4 		udiv	r4, r4, r5
 6859              	.LVL468:
1851:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 6860              		.loc 1 1851 35 view .LVU1987
 6861 0082 013C     		subs	r4, r4, #1
1851:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 6862              		.loc 1 1851 13 view .LVU1988
 6863 0084 3470     		strb	r4, [r6]
1852:DMP/driver/eMPL/inv_mpu.c **** }
 6864              		.loc 1 1852 5 is_stmt 1 view .LVU1989
 6865              	.LVL469:
 6866              	.L519:
1853:DMP/driver/eMPL/inv_mpu.c **** 
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 194


 6867              		.loc 1 1853 1 is_stmt 0 view .LVU1990
 6868 0086 03B0     		add	sp, sp, #12
 6869              	.LCFI113:
 6870              		.cfi_remember_state
 6871              		.cfi_def_cfa_offset 20
 6872              		@ sp needed
 6873 0088 F0BD     		pop	{r4, r5, r6, r7, pc}
 6874              	.LVL470:
 6875              	.L532:
 6876              	.LCFI114:
 6877              		.cfi_restore_state
1836:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 6878              		.loc 1 1836 9 is_stmt 1 view .LVU1991
1836:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 6879              		.loc 1 1836 17 is_stmt 0 view .LVU1992
 6880 008a 0023     		movs	r3, #0
 6881 008c 3370     		strb	r3, [r6]
1837:DMP/driver/eMPL/inv_mpu.c ****     }
 6882              		.loc 1 1837 9 is_stmt 1 view .LVU1993
1837:DMP/driver/eMPL/inv_mpu.c ****     }
 6883              		.loc 1 1837 16 is_stmt 0 view .LVU1994
 6884 008e 4FF0FF30 		mov	r0, #-1
 6885 0092 F8E7     		b	.L519
 6886              	.L533:
1844:DMP/driver/eMPL/inv_mpu.c ****             return -2;
 6887              		.loc 1 1844 13 is_stmt 1 view .LVU1995
 6888 0094 FFF7FEFF 		bl	mpu_reset_fifo
 6889              	.LVL471:
1845:DMP/driver/eMPL/inv_mpu.c ****         }
 6890              		.loc 1 1845 13 view .LVU1996
1845:DMP/driver/eMPL/inv_mpu.c ****         }
 6891              		.loc 1 1845 20 is_stmt 0 view .LVU1997
 6892 0098 6FF00100 		mvn	r0, #1
 6893 009c F3E7     		b	.L519
 6894              	.LVL472:
 6895              	.L523:
 6896              	.LCFI115:
 6897              		.cfi_def_cfa_offset 0
 6898              		.cfi_restore 4
 6899              		.cfi_restore 5
 6900              		.cfi_restore 6
 6901              		.cfi_restore 7
 6902              		.cfi_restore 14
1828:DMP/driver/eMPL/inv_mpu.c ****     if (!st.chip_cfg.sensors)
 6903              		.loc 1 1828 16 view .LVU1998
 6904 009e 4FF0FF30 		mov	r0, #-1
 6905              	.LVL473:
1853:DMP/driver/eMPL/inv_mpu.c **** 
 6906              		.loc 1 1853 1 view .LVU1999
 6907 00a2 7047     		bx	lr
 6908              	.LVL474:
 6909              	.L524:
 6910              	.LCFI116:
 6911              		.cfi_def_cfa_offset 32
 6912              		.cfi_offset 4, -20
 6913              		.cfi_offset 5, -16
 6914              		.cfi_offset 6, -12
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 195


 6915              		.cfi_offset 7, -8
 6916              		.cfi_offset 14, -4
1830:DMP/driver/eMPL/inv_mpu.c **** 
 6917              		.loc 1 1830 16 view .LVU2000
 6918 00a4 4FF0FF30 		mov	r0, #-1
 6919              	.LVL475:
1830:DMP/driver/eMPL/inv_mpu.c **** 
 6920              		.loc 1 1830 16 view .LVU2001
 6921 00a8 EDE7     		b	.L519
 6922              	.LVL476:
 6923              	.L525:
1833:DMP/driver/eMPL/inv_mpu.c ****     fifo_count = (tmp[0] << 8) | tmp[1];
 6924              		.loc 1 1833 16 view .LVU2002
 6925 00aa 4FF0FF30 		mov	r0, #-1
 6926 00ae EAE7     		b	.L519
 6927              	.LVL477:
 6928              	.L526:
1842:DMP/driver/eMPL/inv_mpu.c ****         if (tmp[0] & BIT_FIFO_OVERFLOW) {
 6929              		.loc 1 1842 20 view .LVU2003
 6930 00b0 4FF0FF30 		mov	r0, #-1
 6931 00b4 E7E7     		b	.L519
 6932              	.L527:
1850:DMP/driver/eMPL/inv_mpu.c ****     more[0] = fifo_count / length - 1;
 6933              		.loc 1 1850 16 view .LVU2004
 6934 00b6 4FF0FF30 		mov	r0, #-1
 6935 00ba E4E7     		b	.L519
 6936              	.L535:
 6937              		.align	2
 6938              	.L534:
 6939 00bc 00000000 		.word	st
 6940              		.cfi_endproc
 6941              	.LFE200:
 6943              		.section	.text.mpu_set_bypass,"ax",%progbits
 6944              		.align	1
 6945              		.global	mpu_set_bypass
 6946              		.syntax unified
 6947              		.thumb
 6948              		.thumb_func
 6950              	mpu_set_bypass:
 6951              	.LVL478:
 6952              	.LFB201:
1861:DMP/driver/eMPL/inv_mpu.c ****     unsigned char tmp;
 6953              		.loc 1 1861 1 is_stmt 1 view -0
 6954              		.cfi_startproc
 6955              		@ args = 0, pretend = 0, frame = 8
 6956              		@ frame_needed = 0, uses_anonymous_args = 0
1862:DMP/driver/eMPL/inv_mpu.c **** 
 6957              		.loc 1 1862 5 view .LVU2006
1864:DMP/driver/eMPL/inv_mpu.c ****         return 0;
 6958              		.loc 1 1864 5 view .LVU2007
1864:DMP/driver/eMPL/inv_mpu.c ****         return 0;
 6959              		.loc 1 1864 20 is_stmt 0 view .LVU2008
 6960 0000 584B     		ldr	r3, .L558
 6961 0002 9B7C     		ldrb	r3, [r3, #18]	@ zero_extendqisi2
1864:DMP/driver/eMPL/inv_mpu.c ****         return 0;
 6962              		.loc 1 1864 8 view .LVU2009
 6963 0004 8342     		cmp	r3, r0
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 196


 6964 0006 00F09C80 		beq	.L547
1861:DMP/driver/eMPL/inv_mpu.c ****     unsigned char tmp;
 6965              		.loc 1 1861 1 view .LVU2010
 6966 000a 10B5     		push	{r4, lr}
 6967              	.LCFI117:
 6968              		.cfi_def_cfa_offset 8
 6969              		.cfi_offset 4, -8
 6970              		.cfi_offset 14, -4
 6971 000c 82B0     		sub	sp, sp, #8
 6972              	.LCFI118:
 6973              		.cfi_def_cfa_offset 16
 6974 000e 0446     		mov	r4, r0
1867:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_read(st.hw->addr, st.reg->user_ctrl, 1, &tmp))
 6975              		.loc 1 1867 5 is_stmt 1 view .LVU2011
1867:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_read(st.hw->addr, st.reg->user_ctrl, 1, &tmp))
 6976              		.loc 1 1867 8 is_stmt 0 view .LVU2012
 6977 0010 0028     		cmp	r0, #0
 6978 0012 44D0     		beq	.L538
1868:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 6979              		.loc 1 1868 9 is_stmt 1 view .LVU2013
1868:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 6980              		.loc 1 1868 24 is_stmt 0 view .LVU2014
 6981 0014 534B     		ldr	r3, .L558
 6982 0016 5868     		ldr	r0, [r3, #4]
 6983              	.LVL479:
1868:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 6984              		.loc 1 1868 37 view .LVU2015
 6985 0018 1968     		ldr	r1, [r3]
1868:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 6986              		.loc 1 1868 13 view .LVU2016
 6987 001a 0DF10703 		add	r3, sp, #7
 6988 001e 0122     		movs	r2, #1
 6989 0020 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 6990 0022 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 6991 0024 FFF7FEFF 		bl	MPU_Read_Len
 6992              	.LVL480:
1868:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 6993              		.loc 1 1868 12 view .LVU2017
 6994 0028 0028     		cmp	r0, #0
 6995 002a 40F08C80 		bne	.L548
1870:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &tmp))
 6996              		.loc 1 1870 9 is_stmt 1 view .LVU2018
1870:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &tmp))
 6997              		.loc 1 1870 13 is_stmt 0 view .LVU2019
 6998 002e 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 6999 0032 23F02003 		bic	r3, r3, #32
 7000 0036 8DF80730 		strb	r3, [sp, #7]
1871:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 7001              		.loc 1 1871 9 is_stmt 1 view .LVU2020
1871:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 7002              		.loc 1 1871 25 is_stmt 0 view .LVU2021
 7003 003a 4A4B     		ldr	r3, .L558
 7004 003c 5868     		ldr	r0, [r3, #4]
1871:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 7005              		.loc 1 1871 38 view .LVU2022
 7006 003e 1968     		ldr	r1, [r3]
1871:DMP/driver/eMPL/inv_mpu.c ****             return -1;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 197


 7007              		.loc 1 1871 13 view .LVU2023
 7008 0040 0DF10703 		add	r3, sp, #7
 7009 0044 0122     		movs	r2, #1
 7010 0046 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 7011 0048 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 7012 004a FFF7FEFF 		bl	MPU_Write_Len
 7013              	.LVL481:
1871:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 7014              		.loc 1 1871 12 view .LVU2024
 7015 004e 0028     		cmp	r0, #0
 7016 0050 7CD1     		bne	.L549
1873:DMP/driver/eMPL/inv_mpu.c ****         tmp = BIT_BYPASS_EN;
 7017              		.loc 1 1873 9 is_stmt 1 view .LVU2025
 7018 0052 0320     		movs	r0, #3
 7019 0054 FFF7FEFF 		bl	HAL_Delay
 7020              	.LVL482:
1874:DMP/driver/eMPL/inv_mpu.c ****         if (st.chip_cfg.active_low_int)
 7021              		.loc 1 1874 9 view .LVU2026
1874:DMP/driver/eMPL/inv_mpu.c ****         if (st.chip_cfg.active_low_int)
 7022              		.loc 1 1874 13 is_stmt 0 view .LVU2027
 7023 0058 0223     		movs	r3, #2
 7024 005a 8DF80730 		strb	r3, [sp, #7]
1875:DMP/driver/eMPL/inv_mpu.c ****             tmp |= BIT_ACTL;
 7025              		.loc 1 1875 9 is_stmt 1 view .LVU2028
1875:DMP/driver/eMPL/inv_mpu.c ****             tmp |= BIT_ACTL;
 7026              		.loc 1 1875 24 is_stmt 0 view .LVU2029
 7027 005e 414B     		ldr	r3, .L558
 7028 0060 93F82230 		ldrb	r3, [r3, #34]	@ zero_extendqisi2
1875:DMP/driver/eMPL/inv_mpu.c ****             tmp |= BIT_ACTL;
 7029              		.loc 1 1875 12 view .LVU2030
 7030 0064 13B1     		cbz	r3, .L539
1876:DMP/driver/eMPL/inv_mpu.c ****         if (st.chip_cfg.latched_int)
 7031              		.loc 1 1876 13 is_stmt 1 view .LVU2031
1876:DMP/driver/eMPL/inv_mpu.c ****         if (st.chip_cfg.latched_int)
 7032              		.loc 1 1876 17 is_stmt 0 view .LVU2032
 7033 0066 8223     		movs	r3, #130
 7034 0068 8DF80730 		strb	r3, [sp, #7]
 7035              	.L539:
1877:DMP/driver/eMPL/inv_mpu.c ****             tmp |= BIT_LATCH_EN | BIT_ANY_RD_CLR;
 7036              		.loc 1 1877 9 is_stmt 1 view .LVU2033
1877:DMP/driver/eMPL/inv_mpu.c ****             tmp |= BIT_LATCH_EN | BIT_ANY_RD_CLR;
 7037              		.loc 1 1877 24 is_stmt 0 view .LVU2034
 7038 006c 3D4B     		ldr	r3, .L558
 7039 006e 93F82330 		ldrb	r3, [r3, #35]	@ zero_extendqisi2
1877:DMP/driver/eMPL/inv_mpu.c ****             tmp |= BIT_LATCH_EN | BIT_ANY_RD_CLR;
 7040              		.loc 1 1877 12 view .LVU2035
 7041 0072 2BB1     		cbz	r3, .L540
1878:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->int_pin_cfg, 1, &tmp))
 7042              		.loc 1 1878 13 is_stmt 1 view .LVU2036
1878:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->int_pin_cfg, 1, &tmp))
 7043              		.loc 1 1878 17 is_stmt 0 view .LVU2037
 7044 0074 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 7045 0078 43F03003 		orr	r3, r3, #48
 7046 007c 8DF80730 		strb	r3, [sp, #7]
 7047              	.L540:
1879:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 7048              		.loc 1 1879 9 is_stmt 1 view .LVU2038
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 198


1879:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 7049              		.loc 1 1879 25 is_stmt 0 view .LVU2039
 7050 0080 384B     		ldr	r3, .L558
 7051 0082 5868     		ldr	r0, [r3, #4]
1879:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 7052              		.loc 1 1879 38 view .LVU2040
 7053 0084 1968     		ldr	r1, [r3]
1879:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 7054              		.loc 1 1879 13 view .LVU2041
 7055 0086 0DF10703 		add	r3, sp, #7
 7056 008a 0122     		movs	r2, #1
 7057 008c C97D     		ldrb	r1, [r1, #23]	@ zero_extendqisi2
 7058 008e 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 7059 0090 FFF7FEFF 		bl	MPU_Write_Len
 7060              	.LVL483:
1879:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 7061              		.loc 1 1879 12 view .LVU2042
 7062 0094 0028     		cmp	r0, #0
 7063 0096 44D0     		beq	.L541
1880:DMP/driver/eMPL/inv_mpu.c ****     } else {
 7064              		.loc 1 1880 20 view .LVU2043
 7065 0098 4FF0FF30 		mov	r0, #-1
 7066 009c 44E0     		b	.L536
 7067              	.LVL484:
 7068              	.L538:
1883:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 7069              		.loc 1 1883 9 is_stmt 1 view .LVU2044
1883:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 7070              		.loc 1 1883 24 is_stmt 0 view .LVU2045
 7071 009e 314B     		ldr	r3, .L558
 7072 00a0 5868     		ldr	r0, [r3, #4]
 7073              	.LVL485:
1883:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 7074              		.loc 1 1883 37 view .LVU2046
 7075 00a2 1968     		ldr	r1, [r3]
1883:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 7076              		.loc 1 1883 13 view .LVU2047
 7077 00a4 0DF10703 		add	r3, sp, #7
 7078 00a8 0122     		movs	r2, #1
 7079 00aa 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 7080 00ac 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 7081 00ae FFF7FEFF 		bl	MPU_Read_Len
 7082              	.LVL486:
1883:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 7083              		.loc 1 1883 12 view .LVU2048
 7084 00b2 0028     		cmp	r0, #0
 7085 00b4 4DD1     		bne	.L551
1885:DMP/driver/eMPL/inv_mpu.c ****             tmp |= BIT_AUX_IF_EN;
 7086              		.loc 1 1885 9 is_stmt 1 view .LVU2049
1885:DMP/driver/eMPL/inv_mpu.c ****             tmp |= BIT_AUX_IF_EN;
 7087              		.loc 1 1885 24 is_stmt 0 view .LVU2050
 7088 00b6 2B4B     		ldr	r3, .L558
 7089 00b8 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
1885:DMP/driver/eMPL/inv_mpu.c ****             tmp |= BIT_AUX_IF_EN;
 7090              		.loc 1 1885 12 view .LVU2051
 7091 00ba 13F0010F 		tst	r3, #1
 7092 00be 35D0     		beq	.L542
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 199


1886:DMP/driver/eMPL/inv_mpu.c ****         else
 7093              		.loc 1 1886 13 is_stmt 1 view .LVU2052
1886:DMP/driver/eMPL/inv_mpu.c ****         else
 7094              		.loc 1 1886 17 is_stmt 0 view .LVU2053
 7095 00c0 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 7096 00c4 43F02003 		orr	r3, r3, #32
 7097 00c8 8DF80730 		strb	r3, [sp, #7]
 7098              	.L543:
1889:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 7099              		.loc 1 1889 9 is_stmt 1 view .LVU2054
1889:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 7100              		.loc 1 1889 25 is_stmt 0 view .LVU2055
 7101 00cc 254B     		ldr	r3, .L558
 7102 00ce 5868     		ldr	r0, [r3, #4]
1889:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 7103              		.loc 1 1889 38 view .LVU2056
 7104 00d0 1968     		ldr	r1, [r3]
1889:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 7105              		.loc 1 1889 13 view .LVU2057
 7106 00d2 0DF10703 		add	r3, sp, #7
 7107 00d6 0122     		movs	r2, #1
 7108 00d8 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 7109 00da 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 7110 00dc FFF7FEFF 		bl	MPU_Write_Len
 7111              	.LVL487:
1889:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 7112              		.loc 1 1889 12 view .LVU2058
 7113 00e0 0028     		cmp	r0, #0
 7114 00e2 39D1     		bne	.L552
1891:DMP/driver/eMPL/inv_mpu.c ****         if (st.chip_cfg.active_low_int)
 7115              		.loc 1 1891 9 is_stmt 1 view .LVU2059
 7116 00e4 0320     		movs	r0, #3
 7117 00e6 FFF7FEFF 		bl	HAL_Delay
 7118              	.LVL488:
1892:DMP/driver/eMPL/inv_mpu.c ****             tmp = BIT_ACTL;
 7119              		.loc 1 1892 9 view .LVU2060
1892:DMP/driver/eMPL/inv_mpu.c ****             tmp = BIT_ACTL;
 7120              		.loc 1 1892 24 is_stmt 0 view .LVU2061
 7121 00ea 1E4B     		ldr	r3, .L558
 7122 00ec 93F82230 		ldrb	r3, [r3, #34]	@ zero_extendqisi2
1892:DMP/driver/eMPL/inv_mpu.c ****             tmp = BIT_ACTL;
 7123              		.loc 1 1892 12 view .LVU2062
 7124 00f0 1BB3     		cbz	r3, .L544
1893:DMP/driver/eMPL/inv_mpu.c ****         else
 7125              		.loc 1 1893 13 is_stmt 1 view .LVU2063
1893:DMP/driver/eMPL/inv_mpu.c ****         else
 7126              		.loc 1 1893 17 is_stmt 0 view .LVU2064
 7127 00f2 8023     		movs	r3, #128
 7128 00f4 8DF80730 		strb	r3, [sp, #7]
 7129              	.L545:
1896:DMP/driver/eMPL/inv_mpu.c ****             tmp |= BIT_LATCH_EN | BIT_ANY_RD_CLR;
 7130              		.loc 1 1896 9 is_stmt 1 view .LVU2065
1896:DMP/driver/eMPL/inv_mpu.c ****             tmp |= BIT_LATCH_EN | BIT_ANY_RD_CLR;
 7131              		.loc 1 1896 24 is_stmt 0 view .LVU2066
 7132 00f8 1A4B     		ldr	r3, .L558
 7133 00fa 93F82330 		ldrb	r3, [r3, #35]	@ zero_extendqisi2
1896:DMP/driver/eMPL/inv_mpu.c ****             tmp |= BIT_LATCH_EN | BIT_ANY_RD_CLR;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 200


 7134              		.loc 1 1896 12 view .LVU2067
 7135 00fe 2BB1     		cbz	r3, .L546
1897:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->int_pin_cfg, 1, &tmp))
 7136              		.loc 1 1897 13 is_stmt 1 view .LVU2068
1897:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->int_pin_cfg, 1, &tmp))
 7137              		.loc 1 1897 17 is_stmt 0 view .LVU2069
 7138 0100 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 7139 0104 43F03003 		orr	r3, r3, #48
 7140 0108 8DF80730 		strb	r3, [sp, #7]
 7141              	.L546:
1898:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 7142              		.loc 1 1898 9 is_stmt 1 view .LVU2070
1898:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 7143              		.loc 1 1898 25 is_stmt 0 view .LVU2071
 7144 010c 154B     		ldr	r3, .L558
 7145 010e 5868     		ldr	r0, [r3, #4]
1898:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 7146              		.loc 1 1898 38 view .LVU2072
 7147 0110 1968     		ldr	r1, [r3]
1898:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 7148              		.loc 1 1898 13 view .LVU2073
 7149 0112 0DF10703 		add	r3, sp, #7
 7150 0116 0122     		movs	r2, #1
 7151 0118 C97D     		ldrb	r1, [r1, #23]	@ zero_extendqisi2
 7152 011a 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 7153 011c FFF7FEFF 		bl	MPU_Write_Len
 7154              	.LVL489:
1898:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 7155              		.loc 1 1898 12 view .LVU2074
 7156 0120 E8B9     		cbnz	r0, .L553
 7157              	.L541:
1901:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 7158              		.loc 1 1901 5 is_stmt 1 view .LVU2075
1901:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 7159              		.loc 1 1901 29 is_stmt 0 view .LVU2076
 7160 0122 104B     		ldr	r3, .L558
 7161 0124 9C74     		strb	r4, [r3, #18]
1902:DMP/driver/eMPL/inv_mpu.c **** }
 7162              		.loc 1 1902 5 is_stmt 1 view .LVU2077
1902:DMP/driver/eMPL/inv_mpu.c **** }
 7163              		.loc 1 1902 12 is_stmt 0 view .LVU2078
 7164 0126 0020     		movs	r0, #0
 7165              	.L536:
1903:DMP/driver/eMPL/inv_mpu.c **** 
 7166              		.loc 1 1903 1 view .LVU2079
 7167 0128 02B0     		add	sp, sp, #8
 7168              	.LCFI119:
 7169              		.cfi_remember_state
 7170              		.cfi_def_cfa_offset 8
 7171              		@ sp needed
 7172 012a 10BD     		pop	{r4, pc}
 7173              	.L542:
 7174              	.LCFI120:
 7175              		.cfi_restore_state
1888:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &tmp))
 7176              		.loc 1 1888 13 is_stmt 1 view .LVU2080
1888:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &tmp))
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 201


 7177              		.loc 1 1888 17 is_stmt 0 view .LVU2081
 7178 012c 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 7179 0130 23F02003 		bic	r3, r3, #32
 7180 0134 8DF80730 		strb	r3, [sp, #7]
 7181 0138 C8E7     		b	.L543
 7182              	.L544:
1895:DMP/driver/eMPL/inv_mpu.c ****         if (st.chip_cfg.latched_int)
 7183              		.loc 1 1895 13 is_stmt 1 view .LVU2082
1895:DMP/driver/eMPL/inv_mpu.c ****         if (st.chip_cfg.latched_int)
 7184              		.loc 1 1895 17 is_stmt 0 view .LVU2083
 7185 013a 0023     		movs	r3, #0
 7186 013c 8DF80730 		strb	r3, [sp, #7]
 7187 0140 DAE7     		b	.L545
 7188              	.LVL490:
 7189              	.L547:
 7190              	.LCFI121:
 7191              		.cfi_def_cfa_offset 0
 7192              		.cfi_restore 4
 7193              		.cfi_restore 14
1865:DMP/driver/eMPL/inv_mpu.c **** 
 7194              		.loc 1 1865 16 view .LVU2084
 7195 0142 0020     		movs	r0, #0
 7196              	.LVL491:
1903:DMP/driver/eMPL/inv_mpu.c **** 
 7197              		.loc 1 1903 1 view .LVU2085
 7198 0144 7047     		bx	lr
 7199              	.L548:
 7200              	.LCFI122:
 7201              		.cfi_def_cfa_offset 16
 7202              		.cfi_offset 4, -8
 7203              		.cfi_offset 14, -4
1869:DMP/driver/eMPL/inv_mpu.c ****         tmp &= ~BIT_AUX_IF_EN;
 7204              		.loc 1 1869 20 view .LVU2086
 7205 0146 4FF0FF30 		mov	r0, #-1
 7206 014a EDE7     		b	.L536
 7207              	.L549:
1872:DMP/driver/eMPL/inv_mpu.c ****         delay_ms(3);
 7208              		.loc 1 1872 20 view .LVU2087
 7209 014c 4FF0FF30 		mov	r0, #-1
 7210 0150 EAE7     		b	.L536
 7211              	.L551:
1884:DMP/driver/eMPL/inv_mpu.c ****         if (st.chip_cfg.sensors & INV_XYZ_COMPASS)
 7212              		.loc 1 1884 20 view .LVU2088
 7213 0152 4FF0FF30 		mov	r0, #-1
 7214 0156 E7E7     		b	.L536
 7215              	.L552:
1890:DMP/driver/eMPL/inv_mpu.c ****         delay_ms(3);
 7216              		.loc 1 1890 20 view .LVU2089
 7217 0158 4FF0FF30 		mov	r0, #-1
 7218 015c E4E7     		b	.L536
 7219              	.L553:
1899:DMP/driver/eMPL/inv_mpu.c ****     }
 7220              		.loc 1 1899 20 view .LVU2090
 7221 015e 4FF0FF30 		mov	r0, #-1
 7222 0162 E1E7     		b	.L536
 7223              	.L559:
 7224              		.align	2
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 202


 7225              	.L558:
 7226 0164 00000000 		.word	st
 7227              		.cfi_endproc
 7228              	.LFE201:
 7230              		.section	.rodata.setup_compass.str1.4,"aMS",%progbits,1
 7231              		.align	2
 7232              	.LC28:
 7233 0000 436F6D70 		.ascii	"Compass not found.\000"
 7233      61737320 
 7233      6E6F7420 
 7233      666F756E 
 7233      642E00
 7234              		.section	.text.setup_compass,"ax",%progbits
 7235              		.align	1
 7236              		.syntax unified
 7237              		.thumb
 7238              		.thumb_func
 7240              	setup_compass:
 7241              	.LFB216:
2549:DMP/driver/eMPL/inv_mpu.c **** /**
2550:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Trigger gyro/accel/compass self-test for MPU6500/MPU9250
2551:DMP/driver/eMPL/inv_mpu.c ****  *  On success/error, the self-test returns a mask representing the sensor(s)
2552:DMP/driver/eMPL/inv_mpu.c ****  *  that failed. For each bit, a one (1) represents a "pass" case; conversely,
2553:DMP/driver/eMPL/inv_mpu.c ****  *  a zero (0) indicates a failure.
2554:DMP/driver/eMPL/inv_mpu.c ****  *
2555:DMP/driver/eMPL/inv_mpu.c ****  *  \n The mask is defined as follows:
2556:DMP/driver/eMPL/inv_mpu.c ****  *  \n Bit 0:   Gyro.
2557:DMP/driver/eMPL/inv_mpu.c ****  *  \n Bit 1:   Accel.
2558:DMP/driver/eMPL/inv_mpu.c ****  *  \n Bit 2:   Compass.
2559:DMP/driver/eMPL/inv_mpu.c ****  *
2560:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] gyro        Gyro biases in q16 format.
2561:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] accel       Accel biases (if applicable) in q16 format.
2562:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  debug       Debug flag used to print out more detailed logs. Must first set up logg
2563:DMP/driver/eMPL/inv_mpu.c ****  *  @return     Result mask (see above).
2564:DMP/driver/eMPL/inv_mpu.c ****  */
2565:DMP/driver/eMPL/inv_mpu.c **** int mpu_run_6500_self_test(long *gyro, long *accel, unsigned char debug)
2566:DMP/driver/eMPL/inv_mpu.c **** {
2567:DMP/driver/eMPL/inv_mpu.c ****     const unsigned char tries = 2;
2568:DMP/driver/eMPL/inv_mpu.c ****     long gyro_st[3], accel_st[3];
2569:DMP/driver/eMPL/inv_mpu.c ****     unsigned char accel_result, gyro_result;
2570:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
2571:DMP/driver/eMPL/inv_mpu.c ****     unsigned char compass_result;
2572:DMP/driver/eMPL/inv_mpu.c **** #endif
2573:DMP/driver/eMPL/inv_mpu.c ****     int ii;
2574:DMP/driver/eMPL/inv_mpu.c **** 
2575:DMP/driver/eMPL/inv_mpu.c ****     int result;
2576:DMP/driver/eMPL/inv_mpu.c ****     unsigned char accel_fsr, fifo_sensors, sensors_on;
2577:DMP/driver/eMPL/inv_mpu.c ****     unsigned short gyro_fsr, sample_rate, lpf;
2578:DMP/driver/eMPL/inv_mpu.c ****     unsigned char dmp_was_on;
2579:DMP/driver/eMPL/inv_mpu.c **** 
2580:DMP/driver/eMPL/inv_mpu.c **** 
2581:DMP/driver/eMPL/inv_mpu.c **** 
2582:DMP/driver/eMPL/inv_mpu.c ****     if(debug)
2583:DMP/driver/eMPL/inv_mpu.c ****     	log_i("Starting MPU6500 HWST!\r\n");
2584:DMP/driver/eMPL/inv_mpu.c **** 
2585:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.dmp_on) {
2586:DMP/driver/eMPL/inv_mpu.c ****         mpu_set_dmp_state(0);
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 203


2587:DMP/driver/eMPL/inv_mpu.c ****         dmp_was_on = 1;
2588:DMP/driver/eMPL/inv_mpu.c ****     } else
2589:DMP/driver/eMPL/inv_mpu.c ****         dmp_was_on = 0;
2590:DMP/driver/eMPL/inv_mpu.c **** 
2591:DMP/driver/eMPL/inv_mpu.c ****     /* Get initial settings. */
2592:DMP/driver/eMPL/inv_mpu.c ****     mpu_get_gyro_fsr(&gyro_fsr);
2593:DMP/driver/eMPL/inv_mpu.c ****     mpu_get_accel_fsr(&accel_fsr);
2594:DMP/driver/eMPL/inv_mpu.c ****     mpu_get_lpf(&lpf);
2595:DMP/driver/eMPL/inv_mpu.c ****     mpu_get_sample_rate(&sample_rate);
2596:DMP/driver/eMPL/inv_mpu.c ****     sensors_on = st.chip_cfg.sensors;
2597:DMP/driver/eMPL/inv_mpu.c ****     mpu_get_fifo_config(&fifo_sensors);
2598:DMP/driver/eMPL/inv_mpu.c **** 
2599:DMP/driver/eMPL/inv_mpu.c ****     if(debug)
2600:DMP/driver/eMPL/inv_mpu.c ****     	log_i("Retrieving Biases\r\n");
2601:DMP/driver/eMPL/inv_mpu.c **** 
2602:DMP/driver/eMPL/inv_mpu.c ****     for (ii = 0; ii < tries; ii++)
2603:DMP/driver/eMPL/inv_mpu.c ****         if (!get_st_6500_biases(gyro, accel, 0, debug))
2604:DMP/driver/eMPL/inv_mpu.c ****             break;
2605:DMP/driver/eMPL/inv_mpu.c ****     if (ii == tries) {
2606:DMP/driver/eMPL/inv_mpu.c ****         /* If we reach this point, we most likely encountered an I2C error.
2607:DMP/driver/eMPL/inv_mpu.c ****          * We'll just report an error for all three sensors.
2608:DMP/driver/eMPL/inv_mpu.c ****          */
2609:DMP/driver/eMPL/inv_mpu.c ****         if(debug)
2610:DMP/driver/eMPL/inv_mpu.c ****         	log_i("Retrieving Biases Error - possible I2C error\n");
2611:DMP/driver/eMPL/inv_mpu.c **** 
2612:DMP/driver/eMPL/inv_mpu.c ****         result = 0;
2613:DMP/driver/eMPL/inv_mpu.c ****         goto restore;
2614:DMP/driver/eMPL/inv_mpu.c ****     }
2615:DMP/driver/eMPL/inv_mpu.c **** 
2616:DMP/driver/eMPL/inv_mpu.c ****     if(debug)
2617:DMP/driver/eMPL/inv_mpu.c ****     	log_i("Retrieving ST Biases\n");
2618:DMP/driver/eMPL/inv_mpu.c **** 
2619:DMP/driver/eMPL/inv_mpu.c ****     for (ii = 0; ii < tries; ii++)
2620:DMP/driver/eMPL/inv_mpu.c ****         if (!get_st_6500_biases(gyro_st, accel_st, 1, debug))
2621:DMP/driver/eMPL/inv_mpu.c ****             break;
2622:DMP/driver/eMPL/inv_mpu.c ****     if (ii == tries) {
2623:DMP/driver/eMPL/inv_mpu.c **** 
2624:DMP/driver/eMPL/inv_mpu.c ****         if(debug)
2625:DMP/driver/eMPL/inv_mpu.c ****         	log_i("Retrieving ST Biases Error - possible I2C error\n");
2626:DMP/driver/eMPL/inv_mpu.c **** 
2627:DMP/driver/eMPL/inv_mpu.c ****         /* Again, probably an I2C error. */
2628:DMP/driver/eMPL/inv_mpu.c ****         result = 0;
2629:DMP/driver/eMPL/inv_mpu.c ****         goto restore;
2630:DMP/driver/eMPL/inv_mpu.c ****     }
2631:DMP/driver/eMPL/inv_mpu.c **** 
2632:DMP/driver/eMPL/inv_mpu.c ****     accel_result = accel_6500_self_test(accel, accel_st, debug);
2633:DMP/driver/eMPL/inv_mpu.c ****     if(debug)
2634:DMP/driver/eMPL/inv_mpu.c ****     	log_i("Accel Self Test Results: %d\n", accel_result);
2635:DMP/driver/eMPL/inv_mpu.c **** 
2636:DMP/driver/eMPL/inv_mpu.c ****     gyro_result = gyro_6500_self_test(gyro, gyro_st, debug);
2637:DMP/driver/eMPL/inv_mpu.c ****     if(debug)
2638:DMP/driver/eMPL/inv_mpu.c ****     	log_i("Gyro Self Test Results: %d\n", gyro_result);
2639:DMP/driver/eMPL/inv_mpu.c **** 
2640:DMP/driver/eMPL/inv_mpu.c ****     result = 0;
2641:DMP/driver/eMPL/inv_mpu.c ****     if (!gyro_result)
2642:DMP/driver/eMPL/inv_mpu.c ****         result |= 0x01;
2643:DMP/driver/eMPL/inv_mpu.c ****     if (!accel_result)
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 204


2644:DMP/driver/eMPL/inv_mpu.c ****         result |= 0x02;
2645:DMP/driver/eMPL/inv_mpu.c **** 
2646:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
2647:DMP/driver/eMPL/inv_mpu.c ****     compass_result = compass_self_test();
2648:DMP/driver/eMPL/inv_mpu.c ****     if(debug)
2649:DMP/driver/eMPL/inv_mpu.c ****     	log_i("Compass Self Test Results: %d\n", compass_result);
2650:DMP/driver/eMPL/inv_mpu.c ****     if (!compass_result)
2651:DMP/driver/eMPL/inv_mpu.c ****         result |= 0x04;
2652:DMP/driver/eMPL/inv_mpu.c **** #else
2653:DMP/driver/eMPL/inv_mpu.c ****     result |= 0x04;
2654:DMP/driver/eMPL/inv_mpu.c **** #endif
2655:DMP/driver/eMPL/inv_mpu.c **** restore:
2656:DMP/driver/eMPL/inv_mpu.c **** 	if(debug)
2657:DMP/driver/eMPL/inv_mpu.c **** 		log_i("Exiting HWST\n");
2658:DMP/driver/eMPL/inv_mpu.c **** 	/* Set to invalid values to ensure no I2C writes are skipped. */
2659:DMP/driver/eMPL/inv_mpu.c **** 	st.chip_cfg.gyro_fsr = 0xFF;
2660:DMP/driver/eMPL/inv_mpu.c **** 	st.chip_cfg.accel_fsr = 0xFF;
2661:DMP/driver/eMPL/inv_mpu.c **** 	st.chip_cfg.lpf = 0xFF;
2662:DMP/driver/eMPL/inv_mpu.c **** 	st.chip_cfg.sample_rate = 0xFFFF;
2663:DMP/driver/eMPL/inv_mpu.c **** 	st.chip_cfg.sensors = 0xFF;
2664:DMP/driver/eMPL/inv_mpu.c **** 	st.chip_cfg.fifo_enable = 0xFF;
2665:DMP/driver/eMPL/inv_mpu.c **** 	st.chip_cfg.clk_src = INV_CLK_PLL;
2666:DMP/driver/eMPL/inv_mpu.c **** 	mpu_set_gyro_fsr(gyro_fsr);
2667:DMP/driver/eMPL/inv_mpu.c **** 	mpu_set_accel_fsr(accel_fsr);
2668:DMP/driver/eMPL/inv_mpu.c **** 	mpu_set_lpf(lpf);
2669:DMP/driver/eMPL/inv_mpu.c **** 	mpu_set_sample_rate(sample_rate);
2670:DMP/driver/eMPL/inv_mpu.c **** 	mpu_set_sensors(sensors_on);
2671:DMP/driver/eMPL/inv_mpu.c **** 	mpu_configure_fifo(fifo_sensors);
2672:DMP/driver/eMPL/inv_mpu.c **** 
2673:DMP/driver/eMPL/inv_mpu.c **** 	if (dmp_was_on)
2674:DMP/driver/eMPL/inv_mpu.c **** 		mpu_set_dmp_state(1);
2675:DMP/driver/eMPL/inv_mpu.c **** 
2676:DMP/driver/eMPL/inv_mpu.c **** 	return result;
2677:DMP/driver/eMPL/inv_mpu.c **** }
2678:DMP/driver/eMPL/inv_mpu.c **** #endif
2679:DMP/driver/eMPL/inv_mpu.c ****  /*
2680:DMP/driver/eMPL/inv_mpu.c ****  *  \n This function must be called with the device either face-up or face-down
2681:DMP/driver/eMPL/inv_mpu.c ****  *  (z-axis is parallel to gravity).
2682:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] gyro        Gyro biases in q16 format.
2683:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] accel       Accel biases (if applicable) in q16 format.
2684:DMP/driver/eMPL/inv_mpu.c ****  *  @return     Result mask (see above).
2685:DMP/driver/eMPL/inv_mpu.c ****  */
2686:DMP/driver/eMPL/inv_mpu.c **** int mpu_run_self_test(long *gyro, long *accel)
2687:DMP/driver/eMPL/inv_mpu.c **** {
2688:DMP/driver/eMPL/inv_mpu.c **** #ifdef MPU6050
2689:DMP/driver/eMPL/inv_mpu.c ****     const unsigned char tries = 2;
2690:DMP/driver/eMPL/inv_mpu.c ****     long gyro_st[3], accel_st[3];
2691:DMP/driver/eMPL/inv_mpu.c ****     unsigned char accel_result, gyro_result;
2692:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
2693:DMP/driver/eMPL/inv_mpu.c ****     unsigned char compass_result;
2694:DMP/driver/eMPL/inv_mpu.c **** #endif
2695:DMP/driver/eMPL/inv_mpu.c ****     int ii;
2696:DMP/driver/eMPL/inv_mpu.c **** #endif
2697:DMP/driver/eMPL/inv_mpu.c ****     int result;
2698:DMP/driver/eMPL/inv_mpu.c ****     unsigned char accel_fsr, fifo_sensors, sensors_on;
2699:DMP/driver/eMPL/inv_mpu.c ****     unsigned short gyro_fsr, sample_rate, lpf;
2700:DMP/driver/eMPL/inv_mpu.c ****     unsigned char dmp_was_on;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 205


2701:DMP/driver/eMPL/inv_mpu.c **** 
2702:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.dmp_on) {
2703:DMP/driver/eMPL/inv_mpu.c ****         mpu_set_dmp_state(0);
2704:DMP/driver/eMPL/inv_mpu.c ****         dmp_was_on = 1;
2705:DMP/driver/eMPL/inv_mpu.c ****     } else
2706:DMP/driver/eMPL/inv_mpu.c ****         dmp_was_on = 0;
2707:DMP/driver/eMPL/inv_mpu.c **** 
2708:DMP/driver/eMPL/inv_mpu.c ****     /* Get initial settings. */
2709:DMP/driver/eMPL/inv_mpu.c ****     mpu_get_gyro_fsr(&gyro_fsr);
2710:DMP/driver/eMPL/inv_mpu.c ****     mpu_get_accel_fsr(&accel_fsr);
2711:DMP/driver/eMPL/inv_mpu.c ****     mpu_get_lpf(&lpf);
2712:DMP/driver/eMPL/inv_mpu.c ****     mpu_get_sample_rate(&sample_rate);
2713:DMP/driver/eMPL/inv_mpu.c ****     sensors_on = st.chip_cfg.sensors;
2714:DMP/driver/eMPL/inv_mpu.c ****     mpu_get_fifo_config(&fifo_sensors);
2715:DMP/driver/eMPL/inv_mpu.c **** 
2716:DMP/driver/eMPL/inv_mpu.c ****     /* For older chips, the self-test will be different. */
2717:DMP/driver/eMPL/inv_mpu.c **** #if defined MPU6050
2718:DMP/driver/eMPL/inv_mpu.c ****     for (ii = 0; ii < tries; ii++)
2719:DMP/driver/eMPL/inv_mpu.c ****         if (!get_st_biases(gyro, accel, 0))
2720:DMP/driver/eMPL/inv_mpu.c ****             break;
2721:DMP/driver/eMPL/inv_mpu.c ****     if (ii == tries) {
2722:DMP/driver/eMPL/inv_mpu.c ****         /* If we reach this point, we most likely encountered an I2C error.
2723:DMP/driver/eMPL/inv_mpu.c ****          * We'll just report an error for all three sensors.
2724:DMP/driver/eMPL/inv_mpu.c ****          */
2725:DMP/driver/eMPL/inv_mpu.c ****         result = 0;
2726:DMP/driver/eMPL/inv_mpu.c ****         goto restore;
2727:DMP/driver/eMPL/inv_mpu.c ****     }
2728:DMP/driver/eMPL/inv_mpu.c ****     for (ii = 0; ii < tries; ii++)
2729:DMP/driver/eMPL/inv_mpu.c ****         if (!get_st_biases(gyro_st, accel_st, 1))
2730:DMP/driver/eMPL/inv_mpu.c ****             break;
2731:DMP/driver/eMPL/inv_mpu.c ****     if (ii == tries) {
2732:DMP/driver/eMPL/inv_mpu.c ****         /* Again, probably an I2C error. */
2733:DMP/driver/eMPL/inv_mpu.c ****         result = 0;
2734:DMP/driver/eMPL/inv_mpu.c ****         goto restore;
2735:DMP/driver/eMPL/inv_mpu.c ****     }
2736:DMP/driver/eMPL/inv_mpu.c ****     accel_result = accel_self_test(accel, accel_st);
2737:DMP/driver/eMPL/inv_mpu.c ****     gyro_result = gyro_self_test(gyro, gyro_st);
2738:DMP/driver/eMPL/inv_mpu.c **** 
2739:DMP/driver/eMPL/inv_mpu.c ****     result = 0;
2740:DMP/driver/eMPL/inv_mpu.c ****     if (!gyro_result)
2741:DMP/driver/eMPL/inv_mpu.c ****         result |= 0x01;
2742:DMP/driver/eMPL/inv_mpu.c ****     if (!accel_result)
2743:DMP/driver/eMPL/inv_mpu.c ****         result |= 0x02;
2744:DMP/driver/eMPL/inv_mpu.c **** 
2745:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
2746:DMP/driver/eMPL/inv_mpu.c ****     compass_result = compass_self_test();
2747:DMP/driver/eMPL/inv_mpu.c ****     if (!compass_result)
2748:DMP/driver/eMPL/inv_mpu.c ****         result |= 0x04;
2749:DMP/driver/eMPL/inv_mpu.c **** #else
2750:DMP/driver/eMPL/inv_mpu.c ****         result |= 0x04;
2751:DMP/driver/eMPL/inv_mpu.c **** #endif
2752:DMP/driver/eMPL/inv_mpu.c **** restore:
2753:DMP/driver/eMPL/inv_mpu.c **** #elif defined MPU6500
2754:DMP/driver/eMPL/inv_mpu.c ****     /* For now, this function will return a "pass" result for all three sensors
2755:DMP/driver/eMPL/inv_mpu.c ****      * for compatibility with current test applications.
2756:DMP/driver/eMPL/inv_mpu.c ****      */
2757:DMP/driver/eMPL/inv_mpu.c ****     get_st_biases(gyro, accel, 0);
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 206


2758:DMP/driver/eMPL/inv_mpu.c ****     result = 0x7;
2759:DMP/driver/eMPL/inv_mpu.c **** #endif
2760:DMP/driver/eMPL/inv_mpu.c ****     /* Set to invalid values to ensure no I2C writes are skipped. */
2761:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.gyro_fsr = 0xFF;
2762:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.accel_fsr = 0xFF;
2763:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.lpf = 0xFF;
2764:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.sample_rate = 0xFFFF;
2765:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.sensors = 0xFF;
2766:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.fifo_enable = 0xFF;
2767:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.clk_src = INV_CLK_PLL;
2768:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_gyro_fsr(gyro_fsr);
2769:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_accel_fsr(accel_fsr);
2770:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_lpf(lpf);
2771:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_sample_rate(sample_rate);
2772:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_sensors(sensors_on);
2773:DMP/driver/eMPL/inv_mpu.c ****     mpu_configure_fifo(fifo_sensors);
2774:DMP/driver/eMPL/inv_mpu.c **** 
2775:DMP/driver/eMPL/inv_mpu.c ****     if (dmp_was_on)
2776:DMP/driver/eMPL/inv_mpu.c ****         mpu_set_dmp_state(1);
2777:DMP/driver/eMPL/inv_mpu.c **** 
2778:DMP/driver/eMPL/inv_mpu.c ****     return result;
2779:DMP/driver/eMPL/inv_mpu.c **** }
2780:DMP/driver/eMPL/inv_mpu.c **** 
2781:DMP/driver/eMPL/inv_mpu.c **** /**
2782:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Write to the DMP memory.
2783:DMP/driver/eMPL/inv_mpu.c ****  *  This function prevents I2C writes past the bank boundaries. The DMP memory
2784:DMP/driver/eMPL/inv_mpu.c ****  *  is only accessible when the chip is awake.
2785:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  mem_addr    Memory location (bank << 8 | start address)
2786:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  length      Number of bytes to write.
2787:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  data        Bytes to write to memory.
2788:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
2789:DMP/driver/eMPL/inv_mpu.c ****  */
2790:DMP/driver/eMPL/inv_mpu.c **** int mpu_write_mem(unsigned short mem_addr, unsigned short length,
2791:DMP/driver/eMPL/inv_mpu.c ****         unsigned char *data)
2792:DMP/driver/eMPL/inv_mpu.c **** {
2793:DMP/driver/eMPL/inv_mpu.c ****     unsigned char tmp[2];
2794:DMP/driver/eMPL/inv_mpu.c **** 
2795:DMP/driver/eMPL/inv_mpu.c ****     if (!data)
2796:DMP/driver/eMPL/inv_mpu.c ****         return -1;
2797:DMP/driver/eMPL/inv_mpu.c ****     if (!st.chip_cfg.sensors)
2798:DMP/driver/eMPL/inv_mpu.c ****         return -1;
2799:DMP/driver/eMPL/inv_mpu.c **** 
2800:DMP/driver/eMPL/inv_mpu.c ****     tmp[0] = (unsigned char)(mem_addr >> 8);
2801:DMP/driver/eMPL/inv_mpu.c ****     tmp[1] = (unsigned char)(mem_addr & 0xFF);
2802:DMP/driver/eMPL/inv_mpu.c **** 
2803:DMP/driver/eMPL/inv_mpu.c ****     /* Check bank boundaries. */
2804:DMP/driver/eMPL/inv_mpu.c ****     if (tmp[1] + length > st.hw->bank_size)
2805:DMP/driver/eMPL/inv_mpu.c ****         return -1;
2806:DMP/driver/eMPL/inv_mpu.c **** 
2807:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->bank_sel, 2, tmp))
2808:DMP/driver/eMPL/inv_mpu.c ****         return -1;
2809:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->mem_r_w, length, data))
2810:DMP/driver/eMPL/inv_mpu.c ****         return -1;
2811:DMP/driver/eMPL/inv_mpu.c ****     return 0;
2812:DMP/driver/eMPL/inv_mpu.c **** }
2813:DMP/driver/eMPL/inv_mpu.c **** 
2814:DMP/driver/eMPL/inv_mpu.c **** /**
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 207


2815:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Read from the DMP memory.
2816:DMP/driver/eMPL/inv_mpu.c ****  *  This function prevents I2C reads past the bank boundaries. The DMP memory
2817:DMP/driver/eMPL/inv_mpu.c ****  *  is only accessible when the chip is awake.
2818:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  mem_addr    Memory location (bank << 8 | start address)
2819:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  length      Number of bytes to read.
2820:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] data        Bytes read from memory.
2821:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
2822:DMP/driver/eMPL/inv_mpu.c ****  */
2823:DMP/driver/eMPL/inv_mpu.c **** int mpu_read_mem(unsigned short mem_addr, unsigned short length,
2824:DMP/driver/eMPL/inv_mpu.c ****         unsigned char *data)
2825:DMP/driver/eMPL/inv_mpu.c **** {
2826:DMP/driver/eMPL/inv_mpu.c ****     unsigned char tmp[2];
2827:DMP/driver/eMPL/inv_mpu.c **** 
2828:DMP/driver/eMPL/inv_mpu.c ****     if (!data)
2829:DMP/driver/eMPL/inv_mpu.c ****         return -1;
2830:DMP/driver/eMPL/inv_mpu.c ****     if (!st.chip_cfg.sensors)
2831:DMP/driver/eMPL/inv_mpu.c ****         return -1;
2832:DMP/driver/eMPL/inv_mpu.c **** 
2833:DMP/driver/eMPL/inv_mpu.c ****     tmp[0] = (unsigned char)(mem_addr >> 8);
2834:DMP/driver/eMPL/inv_mpu.c ****     tmp[1] = (unsigned char)(mem_addr & 0xFF);
2835:DMP/driver/eMPL/inv_mpu.c **** 
2836:DMP/driver/eMPL/inv_mpu.c ****     /* Check bank boundaries. */
2837:DMP/driver/eMPL/inv_mpu.c ****     if (tmp[1] + length > st.hw->bank_size)
2838:DMP/driver/eMPL/inv_mpu.c ****         return -1;
2839:DMP/driver/eMPL/inv_mpu.c **** 
2840:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->bank_sel, 2, tmp))
2841:DMP/driver/eMPL/inv_mpu.c ****         return -1;
2842:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_read(st.hw->addr, st.reg->mem_r_w, length, data))
2843:DMP/driver/eMPL/inv_mpu.c ****         return -1;
2844:DMP/driver/eMPL/inv_mpu.c ****     return 0;
2845:DMP/driver/eMPL/inv_mpu.c **** }
2846:DMP/driver/eMPL/inv_mpu.c **** 
2847:DMP/driver/eMPL/inv_mpu.c **** /**
2848:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Load and verify DMP image.
2849:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  length      Length of DMP image.
2850:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  firmware    DMP code.
2851:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  start_addr  Starting address of DMP code memory.
2852:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  sample_rate Fixed sampling rate used when DMP is enabled.
2853:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
2854:DMP/driver/eMPL/inv_mpu.c ****  */
2855:DMP/driver/eMPL/inv_mpu.c **** int mpu_load_firmware(unsigned short length, const unsigned char *firmware,
2856:DMP/driver/eMPL/inv_mpu.c ****     unsigned short start_addr, unsigned short sample_rate)
2857:DMP/driver/eMPL/inv_mpu.c **** {
2858:DMP/driver/eMPL/inv_mpu.c ****     unsigned short ii;
2859:DMP/driver/eMPL/inv_mpu.c ****     unsigned short this_write;
2860:DMP/driver/eMPL/inv_mpu.c ****     /* Must divide evenly into st.hw->bank_size to avoid bank crossings. */
2861:DMP/driver/eMPL/inv_mpu.c **** #define LOAD_CHUNK  (16)
2862:DMP/driver/eMPL/inv_mpu.c ****     unsigned char cur[LOAD_CHUNK], tmp[2];
2863:DMP/driver/eMPL/inv_mpu.c **** 
2864:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.dmp_loaded)
2865:DMP/driver/eMPL/inv_mpu.c ****         /* DMP should only be loaded once. */
2866:DMP/driver/eMPL/inv_mpu.c ****         return -1;
2867:DMP/driver/eMPL/inv_mpu.c **** 
2868:DMP/driver/eMPL/inv_mpu.c ****     if (!firmware)
2869:DMP/driver/eMPL/inv_mpu.c ****         return -1;
2870:DMP/driver/eMPL/inv_mpu.c ****     for (ii = 0; ii < length; ii += this_write) {
2871:DMP/driver/eMPL/inv_mpu.c ****         this_write = min(LOAD_CHUNK, length - ii);
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 208


2872:DMP/driver/eMPL/inv_mpu.c ****         if (mpu_write_mem(ii, this_write, (unsigned char*)&firmware[ii]))
2873:DMP/driver/eMPL/inv_mpu.c ****             return -1;
2874:DMP/driver/eMPL/inv_mpu.c ****         if (mpu_read_mem(ii, this_write, cur))
2875:DMP/driver/eMPL/inv_mpu.c ****             return -1;
2876:DMP/driver/eMPL/inv_mpu.c ****         if (memcmp(firmware+ii, cur, this_write))
2877:DMP/driver/eMPL/inv_mpu.c ****             return -2;
2878:DMP/driver/eMPL/inv_mpu.c ****     }
2879:DMP/driver/eMPL/inv_mpu.c **** 
2880:DMP/driver/eMPL/inv_mpu.c ****     /* Set program start address. */
2881:DMP/driver/eMPL/inv_mpu.c ****     tmp[0] = start_addr >> 8;
2882:DMP/driver/eMPL/inv_mpu.c ****     tmp[1] = start_addr & 0xFF;
2883:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->prgm_start_h, 2, tmp))
2884:DMP/driver/eMPL/inv_mpu.c ****         return -1;
2885:DMP/driver/eMPL/inv_mpu.c **** 
2886:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.dmp_loaded = 1;
2887:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.dmp_sample_rate = sample_rate;
2888:DMP/driver/eMPL/inv_mpu.c ****     return 0;
2889:DMP/driver/eMPL/inv_mpu.c **** }
2890:DMP/driver/eMPL/inv_mpu.c **** 
2891:DMP/driver/eMPL/inv_mpu.c **** /**
2892:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Enable/disable DMP support.
2893:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  enable  1 to turn on the DMP.
2894:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
2895:DMP/driver/eMPL/inv_mpu.c ****  */
2896:DMP/driver/eMPL/inv_mpu.c **** int mpu_set_dmp_state(unsigned char enable)
2897:DMP/driver/eMPL/inv_mpu.c **** {
2898:DMP/driver/eMPL/inv_mpu.c ****     unsigned char tmp;
2899:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.dmp_on == enable)
2900:DMP/driver/eMPL/inv_mpu.c ****         return 0;
2901:DMP/driver/eMPL/inv_mpu.c **** 
2902:DMP/driver/eMPL/inv_mpu.c ****     if (enable) {
2903:DMP/driver/eMPL/inv_mpu.c ****         if (!st.chip_cfg.dmp_loaded)
2904:DMP/driver/eMPL/inv_mpu.c ****             return -1;
2905:DMP/driver/eMPL/inv_mpu.c ****         /* Disable data ready interrupt. */
2906:DMP/driver/eMPL/inv_mpu.c ****         set_int_enable(0);
2907:DMP/driver/eMPL/inv_mpu.c ****         /* Disable bypass mode. */
2908:DMP/driver/eMPL/inv_mpu.c ****         mpu_set_bypass(0);
2909:DMP/driver/eMPL/inv_mpu.c ****         /* Keep constant sample rate, FIFO rate controlled by DMP. */
2910:DMP/driver/eMPL/inv_mpu.c ****         mpu_set_sample_rate(st.chip_cfg.dmp_sample_rate);
2911:DMP/driver/eMPL/inv_mpu.c ****         /* Remove FIFO elements. */
2912:DMP/driver/eMPL/inv_mpu.c ****         tmp = 0;
2913:DMP/driver/eMPL/inv_mpu.c ****         i2c_write(st.hw->addr, 0x23, 1, &tmp);
2914:DMP/driver/eMPL/inv_mpu.c ****         st.chip_cfg.dmp_on = 1;
2915:DMP/driver/eMPL/inv_mpu.c ****         /* Enable DMP interrupt. */
2916:DMP/driver/eMPL/inv_mpu.c ****         set_int_enable(1);
2917:DMP/driver/eMPL/inv_mpu.c ****         mpu_reset_fifo();
2918:DMP/driver/eMPL/inv_mpu.c ****     } else {
2919:DMP/driver/eMPL/inv_mpu.c ****         /* Disable DMP interrupt. */
2920:DMP/driver/eMPL/inv_mpu.c ****         set_int_enable(0);
2921:DMP/driver/eMPL/inv_mpu.c ****         /* Restore FIFO settings. */
2922:DMP/driver/eMPL/inv_mpu.c ****         tmp = st.chip_cfg.fifo_enable;
2923:DMP/driver/eMPL/inv_mpu.c ****         i2c_write(st.hw->addr, 0x23, 1, &tmp);
2924:DMP/driver/eMPL/inv_mpu.c ****         st.chip_cfg.dmp_on = 0;
2925:DMP/driver/eMPL/inv_mpu.c ****         mpu_reset_fifo();
2926:DMP/driver/eMPL/inv_mpu.c ****     }
2927:DMP/driver/eMPL/inv_mpu.c ****     return 0;
2928:DMP/driver/eMPL/inv_mpu.c **** }
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 209


2929:DMP/driver/eMPL/inv_mpu.c **** 
2930:DMP/driver/eMPL/inv_mpu.c **** /**
2931:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Get DMP state.
2932:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] enabled 1 if enabled.
2933:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
2934:DMP/driver/eMPL/inv_mpu.c ****  */
2935:DMP/driver/eMPL/inv_mpu.c **** int mpu_get_dmp_state(unsigned char *enabled)
2936:DMP/driver/eMPL/inv_mpu.c **** {
2937:DMP/driver/eMPL/inv_mpu.c ****     enabled[0] = st.chip_cfg.dmp_on;
2938:DMP/driver/eMPL/inv_mpu.c ****     return 0;
2939:DMP/driver/eMPL/inv_mpu.c **** }
2940:DMP/driver/eMPL/inv_mpu.c **** 
2941:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
2942:DMP/driver/eMPL/inv_mpu.c **** /* This initialization is similar to the one in ak8975.c. */
2943:DMP/driver/eMPL/inv_mpu.c **** static int setup_compass(void)
2944:DMP/driver/eMPL/inv_mpu.c **** {
 7242              		.loc 1 2944 1 is_stmt 1 view -0
 7243              		.cfi_startproc
 7244              		@ args = 0, pretend = 0, frame = 8
 7245              		@ frame_needed = 0, uses_anonymous_args = 0
 7246 0000 10B5     		push	{r4, lr}
 7247              	.LCFI123:
 7248              		.cfi_def_cfa_offset 8
 7249              		.cfi_offset 4, -8
 7250              		.cfi_offset 14, -4
 7251 0002 82B0     		sub	sp, sp, #8
 7252              	.LCFI124:
 7253              		.cfi_def_cfa_offset 16
2945:DMP/driver/eMPL/inv_mpu.c ****     unsigned char data[4], akm_addr;
 7254              		.loc 1 2945 5 view .LVU2092
2946:DMP/driver/eMPL/inv_mpu.c **** 
2947:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_bypass(1);
 7255              		.loc 1 2947 5 view .LVU2093
 7256 0004 0120     		movs	r0, #1
 7257 0006 FFF7FEFF 		bl	mpu_set_bypass
 7258              	.LVL492:
2948:DMP/driver/eMPL/inv_mpu.c **** 
2949:DMP/driver/eMPL/inv_mpu.c ****     /* Find compass. Possible addresses range from 0x0C to 0x0F. */
2950:DMP/driver/eMPL/inv_mpu.c ****     for (akm_addr = 0x0C; akm_addr <= 0x0F; akm_addr++) {
 7259              		.loc 1 2950 5 view .LVU2094
 7260              		.loc 1 2950 19 is_stmt 0 view .LVU2095
 7261 000a 0C24     		movs	r4, #12
 7262              		.loc 1 2950 5 view .LVU2096
 7263 000c 01E0     		b	.L561
 7264              	.LVL493:
 7265              	.L562:
 7266              		.loc 1 2950 53 is_stmt 1 discriminator 2 view .LVU2097
 7267 000e 0134     		adds	r4, r4, #1
 7268              	.LVL494:
 7269              		.loc 1 2950 53 is_stmt 0 discriminator 2 view .LVU2098
 7270 0010 E4B2     		uxtb	r4, r4
 7271              	.LVL495:
 7272              	.L561:
 7273              		.loc 1 2950 36 is_stmt 1 discriminator 1 view .LVU2099
 7274 0012 0F2C     		cmp	r4, #15
 7275 0014 0BD8     		bhi	.L563
 7276              	.LBB5:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 210


2951:DMP/driver/eMPL/inv_mpu.c ****         int result;
 7277              		.loc 1 2951 9 view .LVU2100
2952:DMP/driver/eMPL/inv_mpu.c ****         result = i2c_read(akm_addr, AKM_REG_WHOAMI, 1, data);
 7278              		.loc 1 2952 9 view .LVU2101
 7279              		.loc 1 2952 18 is_stmt 0 view .LVU2102
 7280 0016 01AB     		add	r3, sp, #4
 7281 0018 0122     		movs	r2, #1
 7282 001a 0021     		movs	r1, #0
 7283 001c 2046     		mov	r0, r4
 7284 001e FFF7FEFF 		bl	MPU_Read_Len
 7285              	.LVL496:
2953:DMP/driver/eMPL/inv_mpu.c ****         if (!result && (data[0] == AKM_WHOAMI))
 7286              		.loc 1 2953 9 is_stmt 1 view .LVU2103
 7287              		.loc 1 2953 12 is_stmt 0 view .LVU2104
 7288 0022 0028     		cmp	r0, #0
 7289 0024 F3D1     		bne	.L562
 7290              		.loc 1 2953 29 discriminator 1 view .LVU2105
 7291 0026 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 7292              		.loc 1 2953 21 discriminator 1 view .LVU2106
 7293 002a 482B     		cmp	r3, #72
 7294 002c EFD1     		bne	.L562
 7295              	.LVL497:
 7296              	.L563:
 7297              		.loc 1 2953 21 discriminator 1 view .LVU2107
 7298              	.LBE5:
2954:DMP/driver/eMPL/inv_mpu.c ****             break;
2955:DMP/driver/eMPL/inv_mpu.c ****     }
2956:DMP/driver/eMPL/inv_mpu.c **** 
2957:DMP/driver/eMPL/inv_mpu.c ****     if (akm_addr > 0x0F) {
 7299              		.loc 1 2957 5 is_stmt 1 view .LVU2108
 7300              		.loc 1 2957 8 is_stmt 0 view .LVU2109
 7301 002e 0F2C     		cmp	r4, #15
 7302 0030 00F2D780 		bhi	.L581
2958:DMP/driver/eMPL/inv_mpu.c ****         /* TODO: Handle this case in all compass-related functions. */
2959:DMP/driver/eMPL/inv_mpu.c ****         log_e("Compass not found.\n");
2960:DMP/driver/eMPL/inv_mpu.c ****         return -1;
2961:DMP/driver/eMPL/inv_mpu.c ****     }
2962:DMP/driver/eMPL/inv_mpu.c **** 
2963:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.compass_addr = akm_addr;
 7303              		.loc 1 2963 5 is_stmt 1 view .LVU2110
 7304              		.loc 1 2963 30 is_stmt 0 view .LVU2111
 7305 0034 814B     		ldr	r3, .L582
 7306 0036 83F82A40 		strb	r4, [r3, #42]
2964:DMP/driver/eMPL/inv_mpu.c **** 
2965:DMP/driver/eMPL/inv_mpu.c ****     data[0] = AKM_POWER_DOWN;
 7307              		.loc 1 2965 5 is_stmt 1 view .LVU2112
 7308              		.loc 1 2965 13 is_stmt 0 view .LVU2113
 7309 003a 1023     		movs	r3, #16
 7310 003c 8DF80430 		strb	r3, [sp, #4]
2966:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.chip_cfg.compass_addr, AKM_REG_CNTL, 1, data))
 7311              		.loc 1 2966 5 is_stmt 1 view .LVU2114
 7312              		.loc 1 2966 9 is_stmt 0 view .LVU2115
 7313 0040 01AB     		add	r3, sp, #4
 7314 0042 0122     		movs	r2, #1
 7315 0044 0A21     		movs	r1, #10
 7316 0046 2046     		mov	r0, r4
 7317 0048 FFF7FEFF 		bl	MPU_Write_Len
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 211


 7318              	.LVL498:
 7319              		.loc 1 2966 8 view .LVU2116
 7320 004c 0028     		cmp	r0, #0
 7321 004e 40F0CE80 		bne	.L567
2967:DMP/driver/eMPL/inv_mpu.c ****         return -1;
2968:DMP/driver/eMPL/inv_mpu.c ****     delay_ms(1);
 7322              		.loc 1 2968 5 is_stmt 1 view .LVU2117
 7323 0052 0120     		movs	r0, #1
 7324 0054 FFF7FEFF 		bl	HAL_Delay
 7325              	.LVL499:
2969:DMP/driver/eMPL/inv_mpu.c **** 
2970:DMP/driver/eMPL/inv_mpu.c ****     data[0] = AKM_FUSE_ROM_ACCESS;
 7326              		.loc 1 2970 5 view .LVU2118
 7327              		.loc 1 2970 13 is_stmt 0 view .LVU2119
 7328 0058 1F23     		movs	r3, #31
 7329 005a 8DF80430 		strb	r3, [sp, #4]
2971:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.chip_cfg.compass_addr, AKM_REG_CNTL, 1, data))
 7330              		.loc 1 2971 5 is_stmt 1 view .LVU2120
 7331              		.loc 1 2971 9 is_stmt 0 view .LVU2121
 7332 005e 01AB     		add	r3, sp, #4
 7333 0060 0122     		movs	r2, #1
 7334 0062 0A21     		movs	r1, #10
 7335 0064 7548     		ldr	r0, .L582
 7336 0066 90F82A00 		ldrb	r0, [r0, #42]	@ zero_extendqisi2
 7337 006a FFF7FEFF 		bl	MPU_Write_Len
 7338              	.LVL500:
 7339              		.loc 1 2971 8 view .LVU2122
 7340 006e 0028     		cmp	r0, #0
 7341 0070 40F0C080 		bne	.L568
2972:DMP/driver/eMPL/inv_mpu.c ****         return -1;
2973:DMP/driver/eMPL/inv_mpu.c ****     delay_ms(1);
 7342              		.loc 1 2973 5 is_stmt 1 view .LVU2123
 7343 0074 0120     		movs	r0, #1
 7344 0076 FFF7FEFF 		bl	HAL_Delay
 7345              	.LVL501:
2974:DMP/driver/eMPL/inv_mpu.c **** 
2975:DMP/driver/eMPL/inv_mpu.c ****     /* Get sensitivity adjustment data from fuse ROM. */
2976:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_read(st.chip_cfg.compass_addr, AKM_REG_ASAX, 3, data))
 7346              		.loc 1 2976 5 view .LVU2124
 7347              		.loc 1 2976 9 is_stmt 0 view .LVU2125
 7348 007a 01AB     		add	r3, sp, #4
 7349 007c 0322     		movs	r2, #3
 7350 007e 1021     		movs	r1, #16
 7351 0080 6E48     		ldr	r0, .L582
 7352 0082 90F82A00 		ldrb	r0, [r0, #42]	@ zero_extendqisi2
 7353 0086 FFF7FEFF 		bl	MPU_Read_Len
 7354              	.LVL502:
 7355              		.loc 1 2976 8 view .LVU2126
 7356 008a 0028     		cmp	r0, #0
 7357 008c 40F0B580 		bne	.L569
2977:DMP/driver/eMPL/inv_mpu.c ****         return -1;
2978:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.mag_sens_adj[0] = (long)data[0] + 128;
 7358              		.loc 1 2978 5 is_stmt 1 view .LVU2127
 7359              		.loc 1 2978 45 is_stmt 0 view .LVU2128
 7360 0090 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 7361              		.loc 1 2978 49 view .LVU2129
 7362 0094 8033     		adds	r3, r3, #128
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 212


 7363              		.loc 1 2978 33 view .LVU2130
 7364 0096 6948     		ldr	r0, .L582
 7365 0098 8385     		strh	r3, [r0, #44]	@ movhi
2979:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.mag_sens_adj[1] = (long)data[1] + 128;
 7366              		.loc 1 2979 5 is_stmt 1 view .LVU2131
 7367              		.loc 1 2979 45 is_stmt 0 view .LVU2132
 7368 009a 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 7369              		.loc 1 2979 49 view .LVU2133
 7370 009e 8033     		adds	r3, r3, #128
 7371              		.loc 1 2979 33 view .LVU2134
 7372 00a0 C385     		strh	r3, [r0, #46]	@ movhi
2980:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.mag_sens_adj[2] = (long)data[2] + 128;
 7373              		.loc 1 2980 5 is_stmt 1 view .LVU2135
 7374              		.loc 1 2980 45 is_stmt 0 view .LVU2136
 7375 00a2 9DF80630 		ldrb	r3, [sp, #6]	@ zero_extendqisi2
 7376              		.loc 1 2980 49 view .LVU2137
 7377 00a6 8033     		adds	r3, r3, #128
 7378              		.loc 1 2980 33 view .LVU2138
 7379 00a8 0386     		strh	r3, [r0, #48]	@ movhi
2981:DMP/driver/eMPL/inv_mpu.c **** 
2982:DMP/driver/eMPL/inv_mpu.c ****     data[0] = AKM_POWER_DOWN;
 7380              		.loc 1 2982 5 is_stmt 1 view .LVU2139
 7381              		.loc 1 2982 13 is_stmt 0 view .LVU2140
 7382 00aa 1023     		movs	r3, #16
 7383 00ac 8DF80430 		strb	r3, [sp, #4]
2983:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.chip_cfg.compass_addr, AKM_REG_CNTL, 1, data))
 7384              		.loc 1 2983 5 is_stmt 1 view .LVU2141
 7385              		.loc 1 2983 9 is_stmt 0 view .LVU2142
 7386 00b0 01AB     		add	r3, sp, #4
 7387 00b2 0122     		movs	r2, #1
 7388 00b4 0A21     		movs	r1, #10
 7389 00b6 90F82A00 		ldrb	r0, [r0, #42]	@ zero_extendqisi2
 7390 00ba FFF7FEFF 		bl	MPU_Write_Len
 7391              	.LVL503:
 7392              		.loc 1 2983 8 view .LVU2143
 7393 00be 0028     		cmp	r0, #0
 7394 00c0 40F09E80 		bne	.L570
2984:DMP/driver/eMPL/inv_mpu.c ****         return -1;
2985:DMP/driver/eMPL/inv_mpu.c ****     delay_ms(1);
 7395              		.loc 1 2985 5 is_stmt 1 view .LVU2144
 7396 00c4 0120     		movs	r0, #1
 7397 00c6 FFF7FEFF 		bl	HAL_Delay
 7398              	.LVL504:
2986:DMP/driver/eMPL/inv_mpu.c **** 
2987:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_bypass(0);
 7399              		.loc 1 2987 5 view .LVU2145
 7400 00ca 0020     		movs	r0, #0
 7401 00cc FFF7FEFF 		bl	mpu_set_bypass
 7402              	.LVL505:
2988:DMP/driver/eMPL/inv_mpu.c **** 
2989:DMP/driver/eMPL/inv_mpu.c ****     /* Set up master mode, master clock, and ES bit. */
2990:DMP/driver/eMPL/inv_mpu.c ****     data[0] = 0x40;
 7403              		.loc 1 2990 5 view .LVU2146
 7404              		.loc 1 2990 13 is_stmt 0 view .LVU2147
 7405 00d0 4023     		movs	r3, #64
 7406 00d2 8DF80430 		strb	r3, [sp, #4]
2991:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->i2c_mst, 1, data))
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 213


 7407              		.loc 1 2991 5 is_stmt 1 view .LVU2148
 7408              		.loc 1 2991 21 is_stmt 0 view .LVU2149
 7409 00d6 594B     		ldr	r3, .L582
 7410 00d8 5868     		ldr	r0, [r3, #4]
 7411              		.loc 1 2991 34 view .LVU2150
 7412 00da 1968     		ldr	r1, [r3]
 7413              		.loc 1 2991 9 view .LVU2151
 7414 00dc 01AB     		add	r3, sp, #4
 7415 00de 0122     		movs	r2, #1
 7416 00e0 897E     		ldrb	r1, [r1, #26]	@ zero_extendqisi2
 7417 00e2 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 7418 00e4 FFF7FEFF 		bl	MPU_Write_Len
 7419              	.LVL506:
 7420              		.loc 1 2991 8 view .LVU2152
 7421 00e8 0028     		cmp	r0, #0
 7422 00ea 40F08C80 		bne	.L571
2992:DMP/driver/eMPL/inv_mpu.c ****         return -1;
2993:DMP/driver/eMPL/inv_mpu.c **** 
2994:DMP/driver/eMPL/inv_mpu.c ****     /* Slave 0 reads from AKM data registers. */
2995:DMP/driver/eMPL/inv_mpu.c ****     data[0] = BIT_I2C_READ | st.chip_cfg.compass_addr;
 7423              		.loc 1 2995 5 is_stmt 1 view .LVU2153
 7424              		.loc 1 2995 41 is_stmt 0 view .LVU2154
 7425 00ee 534B     		ldr	r3, .L582
 7426 00f0 93F82A20 		ldrb	r2, [r3, #42]	@ zero_extendqisi2
 7427              		.loc 1 2995 13 view .LVU2155
 7428 00f4 62F07F02 		orn	r2, r2, #127
 7429 00f8 8DF80420 		strb	r2, [sp, #4]
2996:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->s0_addr, 1, data))
 7430              		.loc 1 2996 5 is_stmt 1 view .LVU2156
 7431              		.loc 1 2996 21 is_stmt 0 view .LVU2157
 7432 00fc 5868     		ldr	r0, [r3, #4]
 7433              		.loc 1 2996 34 view .LVU2158
 7434 00fe 1968     		ldr	r1, [r3]
 7435              		.loc 1 2996 9 view .LVU2159
 7436 0100 01AB     		add	r3, sp, #4
 7437 0102 0122     		movs	r2, #1
 7438 0104 897F     		ldrb	r1, [r1, #30]	@ zero_extendqisi2
 7439 0106 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 7440 0108 FFF7FEFF 		bl	MPU_Write_Len
 7441              	.LVL507:
 7442              		.loc 1 2996 8 view .LVU2160
 7443 010c 0028     		cmp	r0, #0
 7444 010e 7DD1     		bne	.L572
2997:DMP/driver/eMPL/inv_mpu.c ****         return -1;
2998:DMP/driver/eMPL/inv_mpu.c **** 
2999:DMP/driver/eMPL/inv_mpu.c ****     /* Compass reads start at this register. */
3000:DMP/driver/eMPL/inv_mpu.c ****     data[0] = AKM_REG_ST1;
 7445              		.loc 1 3000 5 is_stmt 1 view .LVU2161
 7446              		.loc 1 3000 13 is_stmt 0 view .LVU2162
 7447 0110 0223     		movs	r3, #2
 7448 0112 8DF80430 		strb	r3, [sp, #4]
3001:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->s0_reg, 1, data))
 7449              		.loc 1 3001 5 is_stmt 1 view .LVU2163
 7450              		.loc 1 3001 21 is_stmt 0 view .LVU2164
 7451 0116 494B     		ldr	r3, .L582
 7452 0118 5868     		ldr	r0, [r3, #4]
 7453              		.loc 1 3001 34 view .LVU2165
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 214


 7454 011a 1968     		ldr	r1, [r3]
 7455              		.loc 1 3001 9 view .LVU2166
 7456 011c 01AB     		add	r3, sp, #4
 7457 011e 0122     		movs	r2, #1
 7458 0120 C97F     		ldrb	r1, [r1, #31]	@ zero_extendqisi2
 7459 0122 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 7460 0124 FFF7FEFF 		bl	MPU_Write_Len
 7461              	.LVL508:
 7462              		.loc 1 3001 8 view .LVU2167
 7463 0128 0028     		cmp	r0, #0
 7464 012a 72D1     		bne	.L573
3002:DMP/driver/eMPL/inv_mpu.c ****         return -1;
3003:DMP/driver/eMPL/inv_mpu.c **** 
3004:DMP/driver/eMPL/inv_mpu.c ****     /* Enable slave 0, 8-byte reads. */
3005:DMP/driver/eMPL/inv_mpu.c ****     data[0] = BIT_SLAVE_EN | 8;
 7465              		.loc 1 3005 5 is_stmt 1 view .LVU2168
 7466              		.loc 1 3005 13 is_stmt 0 view .LVU2169
 7467 012c 8823     		movs	r3, #136
 7468 012e 8DF80430 		strb	r3, [sp, #4]
3006:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->s0_ctrl, 1, data))
 7469              		.loc 1 3006 5 is_stmt 1 view .LVU2170
 7470              		.loc 1 3006 21 is_stmt 0 view .LVU2171
 7471 0132 424B     		ldr	r3, .L582
 7472 0134 5868     		ldr	r0, [r3, #4]
 7473              		.loc 1 3006 34 view .LVU2172
 7474 0136 1968     		ldr	r1, [r3]
 7475              		.loc 1 3006 9 view .LVU2173
 7476 0138 01AB     		add	r3, sp, #4
 7477 013a 0122     		movs	r2, #1
 7478 013c 91F82010 		ldrb	r1, [r1, #32]	@ zero_extendqisi2
 7479 0140 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 7480 0142 FFF7FEFF 		bl	MPU_Write_Len
 7481              	.LVL509:
 7482              		.loc 1 3006 8 view .LVU2174
 7483 0146 0028     		cmp	r0, #0
 7484 0148 66D1     		bne	.L574
3007:DMP/driver/eMPL/inv_mpu.c ****         return -1;
3008:DMP/driver/eMPL/inv_mpu.c **** 
3009:DMP/driver/eMPL/inv_mpu.c ****     /* Slave 1 changes AKM measurement mode. */
3010:DMP/driver/eMPL/inv_mpu.c ****     data[0] = st.chip_cfg.compass_addr;
 7485              		.loc 1 3010 5 is_stmt 1 view .LVU2175
 7486              		.loc 1 3010 26 is_stmt 0 view .LVU2176
 7487 014a 3C4B     		ldr	r3, .L582
 7488 014c 93F82A20 		ldrb	r2, [r3, #42]	@ zero_extendqisi2
 7489              		.loc 1 3010 13 view .LVU2177
 7490 0150 8DF80420 		strb	r2, [sp, #4]
3011:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->s1_addr, 1, data))
 7491              		.loc 1 3011 5 is_stmt 1 view .LVU2178
 7492              		.loc 1 3011 21 is_stmt 0 view .LVU2179
 7493 0154 5868     		ldr	r0, [r3, #4]
 7494              		.loc 1 3011 34 view .LVU2180
 7495 0156 1968     		ldr	r1, [r3]
 7496              		.loc 1 3011 9 view .LVU2181
 7497 0158 01AB     		add	r3, sp, #4
 7498 015a 0122     		movs	r2, #1
 7499 015c 91F82110 		ldrb	r1, [r1, #33]	@ zero_extendqisi2
 7500 0160 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 215


 7501 0162 FFF7FEFF 		bl	MPU_Write_Len
 7502              	.LVL510:
 7503              		.loc 1 3011 8 view .LVU2182
 7504 0166 0028     		cmp	r0, #0
 7505 0168 59D1     		bne	.L575
3012:DMP/driver/eMPL/inv_mpu.c ****         return -1;
3013:DMP/driver/eMPL/inv_mpu.c **** 
3014:DMP/driver/eMPL/inv_mpu.c ****     /* AKM measurement mode register. */
3015:DMP/driver/eMPL/inv_mpu.c ****     data[0] = AKM_REG_CNTL;
 7506              		.loc 1 3015 5 is_stmt 1 view .LVU2183
 7507              		.loc 1 3015 13 is_stmt 0 view .LVU2184
 7508 016a 0A23     		movs	r3, #10
 7509 016c 8DF80430 		strb	r3, [sp, #4]
3016:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->s1_reg, 1, data))
 7510              		.loc 1 3016 5 is_stmt 1 view .LVU2185
 7511              		.loc 1 3016 21 is_stmt 0 view .LVU2186
 7512 0170 324B     		ldr	r3, .L582
 7513 0172 5868     		ldr	r0, [r3, #4]
 7514              		.loc 1 3016 34 view .LVU2187
 7515 0174 1968     		ldr	r1, [r3]
 7516              		.loc 1 3016 9 view .LVU2188
 7517 0176 01AB     		add	r3, sp, #4
 7518 0178 0122     		movs	r2, #1
 7519 017a 91F82210 		ldrb	r1, [r1, #34]	@ zero_extendqisi2
 7520 017e 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 7521 0180 FFF7FEFF 		bl	MPU_Write_Len
 7522              	.LVL511:
 7523              		.loc 1 3016 8 view .LVU2189
 7524 0184 0028     		cmp	r0, #0
 7525 0186 4DD1     		bne	.L576
3017:DMP/driver/eMPL/inv_mpu.c ****         return -1;
3018:DMP/driver/eMPL/inv_mpu.c **** 
3019:DMP/driver/eMPL/inv_mpu.c ****     /* Enable slave 1, 1-byte writes. */
3020:DMP/driver/eMPL/inv_mpu.c ****     data[0] = BIT_SLAVE_EN | 1;
 7526              		.loc 1 3020 5 is_stmt 1 view .LVU2190
 7527              		.loc 1 3020 13 is_stmt 0 view .LVU2191
 7528 0188 8123     		movs	r3, #129
 7529 018a 8DF80430 		strb	r3, [sp, #4]
3021:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->s1_ctrl, 1, data))
 7530              		.loc 1 3021 5 is_stmt 1 view .LVU2192
 7531              		.loc 1 3021 21 is_stmt 0 view .LVU2193
 7532 018e 2B4B     		ldr	r3, .L582
 7533 0190 5868     		ldr	r0, [r3, #4]
 7534              		.loc 1 3021 34 view .LVU2194
 7535 0192 1968     		ldr	r1, [r3]
 7536              		.loc 1 3021 9 view .LVU2195
 7537 0194 01AB     		add	r3, sp, #4
 7538 0196 0122     		movs	r2, #1
 7539 0198 91F82310 		ldrb	r1, [r1, #35]	@ zero_extendqisi2
 7540 019c 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 7541 019e FFF7FEFF 		bl	MPU_Write_Len
 7542              	.LVL512:
 7543              		.loc 1 3021 8 view .LVU2196
 7544 01a2 0028     		cmp	r0, #0
 7545 01a4 41D1     		bne	.L577
3022:DMP/driver/eMPL/inv_mpu.c ****         return -1;
3023:DMP/driver/eMPL/inv_mpu.c **** 
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 216


3024:DMP/driver/eMPL/inv_mpu.c ****     /* Set slave 1 data. */
3025:DMP/driver/eMPL/inv_mpu.c ****     data[0] = AKM_SINGLE_MEASUREMENT;
 7546              		.loc 1 3025 5 is_stmt 1 view .LVU2197
 7547              		.loc 1 3025 13 is_stmt 0 view .LVU2198
 7548 01a6 1123     		movs	r3, #17
 7549 01a8 8DF80430 		strb	r3, [sp, #4]
3026:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->s1_do, 1, data))
 7550              		.loc 1 3026 5 is_stmt 1 view .LVU2199
 7551              		.loc 1 3026 21 is_stmt 0 view .LVU2200
 7552 01ac 234B     		ldr	r3, .L582
 7553 01ae 5868     		ldr	r0, [r3, #4]
 7554              		.loc 1 3026 34 view .LVU2201
 7555 01b0 1968     		ldr	r1, [r3]
 7556              		.loc 1 3026 9 view .LVU2202
 7557 01b2 01AB     		add	r3, sp, #4
 7558 01b4 0122     		movs	r2, #1
 7559 01b6 91F82610 		ldrb	r1, [r1, #38]	@ zero_extendqisi2
 7560 01ba 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 7561 01bc FFF7FEFF 		bl	MPU_Write_Len
 7562              	.LVL513:
 7563              		.loc 1 3026 8 view .LVU2203
 7564 01c0 B0BB     		cbnz	r0, .L578
3027:DMP/driver/eMPL/inv_mpu.c ****         return -1;
3028:DMP/driver/eMPL/inv_mpu.c **** 
3029:DMP/driver/eMPL/inv_mpu.c ****     /* Trigger slave 0 and slave 1 actions at each sample. */
3030:DMP/driver/eMPL/inv_mpu.c ****     data[0] = 0x03;
 7565              		.loc 1 3030 5 is_stmt 1 view .LVU2204
 7566              		.loc 1 3030 13 is_stmt 0 view .LVU2205
 7567 01c2 0323     		movs	r3, #3
 7568 01c4 8DF80430 		strb	r3, [sp, #4]
3031:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->i2c_delay_ctrl, 1, data))
 7569              		.loc 1 3031 5 is_stmt 1 view .LVU2206
 7570              		.loc 1 3031 21 is_stmt 0 view .LVU2207
 7571 01c8 1C4B     		ldr	r3, .L582
 7572 01ca 5868     		ldr	r0, [r3, #4]
 7573              		.loc 1 3031 34 view .LVU2208
 7574 01cc 1968     		ldr	r1, [r3]
 7575              		.loc 1 3031 9 view .LVU2209
 7576 01ce 01AB     		add	r3, sp, #4
 7577 01d0 0122     		movs	r2, #1
 7578 01d2 91F82710 		ldrb	r1, [r1, #39]	@ zero_extendqisi2
 7579 01d6 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 7580 01d8 FFF7FEFF 		bl	MPU_Write_Len
 7581              	.LVL514:
 7582              		.loc 1 3031 8 view .LVU2210
 7583 01dc 58BB     		cbnz	r0, .L579
 7584              	.L560:
3032:DMP/driver/eMPL/inv_mpu.c ****         return -1;
3033:DMP/driver/eMPL/inv_mpu.c **** 
3034:DMP/driver/eMPL/inv_mpu.c **** #ifdef MPU9150
3035:DMP/driver/eMPL/inv_mpu.c ****     /* For the MPU9150, the auxiliary I2C bus needs to be set to VDD. */
3036:DMP/driver/eMPL/inv_mpu.c ****     data[0] = BIT_I2C_MST_VDDIO;
3037:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->yg_offs_tc, 1, data))
3038:DMP/driver/eMPL/inv_mpu.c ****         return -1;
3039:DMP/driver/eMPL/inv_mpu.c **** #endif
3040:DMP/driver/eMPL/inv_mpu.c **** 
3041:DMP/driver/eMPL/inv_mpu.c ****     return 0;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 217


3042:DMP/driver/eMPL/inv_mpu.c **** }
 7585              		.loc 1 3042 1 view .LVU2211
 7586 01de 02B0     		add	sp, sp, #8
 7587              	.LCFI125:
 7588              		.cfi_remember_state
 7589              		.cfi_def_cfa_offset 8
 7590              		@ sp needed
 7591 01e0 10BD     		pop	{r4, pc}
 7592              	.LVL515:
 7593              	.L581:
 7594              	.LCFI126:
 7595              		.cfi_restore_state
2959:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 7596              		.loc 1 2959 9 is_stmt 1 view .LVU2212
 7597 01e2 1748     		ldr	r0, .L582+4
 7598 01e4 FFF7FEFF 		bl	puts
 7599              	.LVL516:
2960:DMP/driver/eMPL/inv_mpu.c ****     }
 7600              		.loc 1 2960 9 view .LVU2213
2960:DMP/driver/eMPL/inv_mpu.c ****     }
 7601              		.loc 1 2960 16 is_stmt 0 view .LVU2214
 7602 01e8 4FF0FF30 		mov	r0, #-1
 7603 01ec F7E7     		b	.L560
 7604              	.L567:
2967:DMP/driver/eMPL/inv_mpu.c ****     delay_ms(1);
 7605              		.loc 1 2967 16 view .LVU2215
 7606 01ee 4FF0FF30 		mov	r0, #-1
 7607 01f2 F4E7     		b	.L560
 7608              	.L568:
2972:DMP/driver/eMPL/inv_mpu.c ****     delay_ms(1);
 7609              		.loc 1 2972 16 view .LVU2216
 7610 01f4 4FF0FF30 		mov	r0, #-1
 7611 01f8 F1E7     		b	.L560
 7612              	.L569:
2977:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.mag_sens_adj[0] = (long)data[0] + 128;
 7613              		.loc 1 2977 16 view .LVU2217
 7614 01fa 4FF0FF30 		mov	r0, #-1
 7615 01fe EEE7     		b	.L560
 7616              	.L570:
2984:DMP/driver/eMPL/inv_mpu.c ****     delay_ms(1);
 7617              		.loc 1 2984 16 view .LVU2218
 7618 0200 4FF0FF30 		mov	r0, #-1
 7619 0204 EBE7     		b	.L560
 7620              	.L571:
2992:DMP/driver/eMPL/inv_mpu.c **** 
 7621              		.loc 1 2992 16 view .LVU2219
 7622 0206 4FF0FF30 		mov	r0, #-1
 7623 020a E8E7     		b	.L560
 7624              	.L572:
2997:DMP/driver/eMPL/inv_mpu.c **** 
 7625              		.loc 1 2997 16 view .LVU2220
 7626 020c 4FF0FF30 		mov	r0, #-1
 7627 0210 E5E7     		b	.L560
 7628              	.L573:
3002:DMP/driver/eMPL/inv_mpu.c **** 
 7629              		.loc 1 3002 16 view .LVU2221
 7630 0212 4FF0FF30 		mov	r0, #-1
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 218


 7631 0216 E2E7     		b	.L560
 7632              	.L574:
3007:DMP/driver/eMPL/inv_mpu.c **** 
 7633              		.loc 1 3007 16 view .LVU2222
 7634 0218 4FF0FF30 		mov	r0, #-1
 7635 021c DFE7     		b	.L560
 7636              	.L575:
3012:DMP/driver/eMPL/inv_mpu.c **** 
 7637              		.loc 1 3012 16 view .LVU2223
 7638 021e 4FF0FF30 		mov	r0, #-1
 7639 0222 DCE7     		b	.L560
 7640              	.L576:
3017:DMP/driver/eMPL/inv_mpu.c **** 
 7641              		.loc 1 3017 16 view .LVU2224
 7642 0224 4FF0FF30 		mov	r0, #-1
 7643 0228 D9E7     		b	.L560
 7644              	.L577:
3022:DMP/driver/eMPL/inv_mpu.c **** 
 7645              		.loc 1 3022 16 view .LVU2225
 7646 022a 4FF0FF30 		mov	r0, #-1
 7647 022e D6E7     		b	.L560
 7648              	.L578:
3027:DMP/driver/eMPL/inv_mpu.c **** 
 7649              		.loc 1 3027 16 view .LVU2226
 7650 0230 4FF0FF30 		mov	r0, #-1
 7651 0234 D3E7     		b	.L560
 7652              	.L579:
3032:DMP/driver/eMPL/inv_mpu.c **** 
 7653              		.loc 1 3032 16 view .LVU2227
 7654 0236 4FF0FF30 		mov	r0, #-1
 7655 023a D0E7     		b	.L560
 7656              	.L583:
 7657              		.align	2
 7658              	.L582:
 7659 023c 00000000 		.word	st
 7660 0240 00000000 		.word	.LC28
 7661              		.cfi_endproc
 7662              	.LFE216:
 7664              		.section	.text.compass_self_test,"ax",%progbits
 7665              		.align	1
 7666              		.syntax unified
 7667              		.thumb
 7668              		.thumb_func
 7670              	compass_self_test:
 7671              	.LFB204:
2020:DMP/driver/eMPL/inv_mpu.c ****     unsigned char tmp[6];
 7672              		.loc 1 2020 1 is_stmt 1 view -0
 7673              		.cfi_startproc
 7674              		@ args = 0, pretend = 0, frame = 8
 7675              		@ frame_needed = 0, uses_anonymous_args = 0
 7676 0000 70B5     		push	{r4, r5, r6, lr}
 7677              	.LCFI127:
 7678              		.cfi_def_cfa_offset 16
 7679              		.cfi_offset 4, -16
 7680              		.cfi_offset 5, -12
 7681              		.cfi_offset 6, -8
 7682              		.cfi_offset 14, -4
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 219


 7683 0002 82B0     		sub	sp, sp, #8
 7684              	.LCFI128:
 7685              		.cfi_def_cfa_offset 24
2021:DMP/driver/eMPL/inv_mpu.c ****     unsigned char tries = 10;
 7686              		.loc 1 2021 5 view .LVU2229
2022:DMP/driver/eMPL/inv_mpu.c ****     int result = 0x07;
 7687              		.loc 1 2022 5 view .LVU2230
 7688              	.LVL517:
2023:DMP/driver/eMPL/inv_mpu.c ****     short data;
 7689              		.loc 1 2023 5 view .LVU2231
2024:DMP/driver/eMPL/inv_mpu.c **** 
 7690              		.loc 1 2024 5 view .LVU2232
2026:DMP/driver/eMPL/inv_mpu.c **** 
 7691              		.loc 1 2026 5 view .LVU2233
 7692 0004 0120     		movs	r0, #1
 7693 0006 FFF7FEFF 		bl	mpu_set_bypass
 7694              	.LVL518:
2028:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.chip_cfg.compass_addr, AKM_REG_CNTL, 1, tmp))
 7695              		.loc 1 2028 5 view .LVU2234
2028:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.chip_cfg.compass_addr, AKM_REG_CNTL, 1, tmp))
 7696              		.loc 1 2028 12 is_stmt 0 view .LVU2235
 7697 000a 1023     		movs	r3, #16
 7698 000c 8DF80030 		strb	r3, [sp]
2029:DMP/driver/eMPL/inv_mpu.c ****         return 0x07;
 7699              		.loc 1 2029 5 is_stmt 1 view .LVU2236
2029:DMP/driver/eMPL/inv_mpu.c ****         return 0x07;
 7700              		.loc 1 2029 9 is_stmt 0 view .LVU2237
 7701 0010 6B46     		mov	r3, sp
 7702 0012 0122     		movs	r2, #1
 7703 0014 0A21     		movs	r1, #10
 7704 0016 4B48     		ldr	r0, .L602
 7705 0018 90F82A00 		ldrb	r0, [r0, #42]	@ zero_extendqisi2
 7706 001c FFF7FEFF 		bl	MPU_Write_Len
 7707              	.LVL519:
2029:DMP/driver/eMPL/inv_mpu.c ****         return 0x07;
 7708              		.loc 1 2029 8 view .LVU2238
 7709 0020 0028     		cmp	r0, #0
 7710 0022 40F08C80 		bne	.L591
2031:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.chip_cfg.compass_addr, AKM_REG_ASTC, 1, tmp))
 7711              		.loc 1 2031 5 is_stmt 1 view .LVU2239
2031:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.chip_cfg.compass_addr, AKM_REG_ASTC, 1, tmp))
 7712              		.loc 1 2031 12 is_stmt 0 view .LVU2240
 7713 0026 4023     		movs	r3, #64
 7714 0028 8DF80030 		strb	r3, [sp]
2032:DMP/driver/eMPL/inv_mpu.c ****         goto AKM_restore;
 7715              		.loc 1 2032 5 is_stmt 1 view .LVU2241
2032:DMP/driver/eMPL/inv_mpu.c ****         goto AKM_restore;
 7716              		.loc 1 2032 9 is_stmt 0 view .LVU2242
 7717 002c 6B46     		mov	r3, sp
 7718 002e 0122     		movs	r2, #1
 7719 0030 0C21     		movs	r1, #12
 7720 0032 4448     		ldr	r0, .L602
 7721 0034 90F82A00 		ldrb	r0, [r0, #42]	@ zero_extendqisi2
 7722 0038 FFF7FEFF 		bl	MPU_Write_Len
 7723              	.LVL520:
2032:DMP/driver/eMPL/inv_mpu.c ****         goto AKM_restore;
 7724              		.loc 1 2032 8 view .LVU2243
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 220


 7725 003c D0B1     		cbz	r0, .L600
2023:DMP/driver/eMPL/inv_mpu.c ****     short data;
 7726              		.loc 1 2023 9 view .LVU2244
 7727 003e 0724     		movs	r4, #7
 7728              	.LVL521:
 7729              	.L586:
2074:DMP/driver/eMPL/inv_mpu.c ****     i2c_write(st.chip_cfg.compass_addr, AKM_REG_ASTC, 1, tmp);
 7730              		.loc 1 2074 5 is_stmt 1 view .LVU2245
2074:DMP/driver/eMPL/inv_mpu.c ****     i2c_write(st.chip_cfg.compass_addr, AKM_REG_ASTC, 1, tmp);
 7731              		.loc 1 2074 12 is_stmt 0 view .LVU2246
 7732 0040 1026     		movs	r6, #16
 7733 0042 8DF80060 		strb	r6, [sp]
2075:DMP/driver/eMPL/inv_mpu.c ****     tmp[0] = SUPPORTS_AK89xx_HIGH_SENS;
 7734              		.loc 1 2075 5 is_stmt 1 view .LVU2247
 7735 0046 3F4D     		ldr	r5, .L602
 7736 0048 6B46     		mov	r3, sp
 7737 004a 0122     		movs	r2, #1
 7738 004c 0C21     		movs	r1, #12
 7739 004e 95F82A00 		ldrb	r0, [r5, #42]	@ zero_extendqisi2
 7740 0052 FFF7FEFF 		bl	MPU_Write_Len
 7741              	.LVL522:
2076:DMP/driver/eMPL/inv_mpu.c ****     i2c_write(st.chip_cfg.compass_addr, AKM_REG_CNTL, 1, tmp);
 7742              		.loc 1 2076 5 view .LVU2248
2076:DMP/driver/eMPL/inv_mpu.c ****     i2c_write(st.chip_cfg.compass_addr, AKM_REG_CNTL, 1, tmp);
 7743              		.loc 1 2076 12 is_stmt 0 view .LVU2249
 7744 0056 8DF80060 		strb	r6, [sp]
2077:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_bypass(0);
 7745              		.loc 1 2077 5 is_stmt 1 view .LVU2250
 7746 005a 6B46     		mov	r3, sp
 7747 005c 0122     		movs	r2, #1
 7748 005e 0A21     		movs	r1, #10
 7749 0060 95F82A00 		ldrb	r0, [r5, #42]	@ zero_extendqisi2
 7750 0064 FFF7FEFF 		bl	MPU_Write_Len
 7751              	.LVL523:
2078:DMP/driver/eMPL/inv_mpu.c ****     return result;
 7752              		.loc 1 2078 5 view .LVU2251
 7753 0068 0020     		movs	r0, #0
 7754 006a FFF7FEFF 		bl	mpu_set_bypass
 7755              	.LVL524:
2079:DMP/driver/eMPL/inv_mpu.c **** }
 7756              		.loc 1 2079 5 view .LVU2252
 7757              	.L584:
2080:DMP/driver/eMPL/inv_mpu.c **** #endif
 7758              		.loc 1 2080 1 is_stmt 0 view .LVU2253
 7759 006e 2046     		mov	r0, r4
 7760 0070 02B0     		add	sp, sp, #8
 7761              	.LCFI129:
 7762              		.cfi_remember_state
 7763              		.cfi_def_cfa_offset 16
 7764              		@ sp needed
 7765 0072 70BD     		pop	{r4, r5, r6, pc}
 7766              	.LVL525:
 7767              	.L600:
 7768              	.LCFI130:
 7769              		.cfi_restore_state
2034:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.chip_cfg.compass_addr, AKM_REG_CNTL, 1, tmp))
 7770              		.loc 1 2034 5 is_stmt 1 view .LVU2254
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 221


2034:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.chip_cfg.compass_addr, AKM_REG_CNTL, 1, tmp))
 7771              		.loc 1 2034 12 is_stmt 0 view .LVU2255
 7772 0074 1823     		movs	r3, #24
 7773 0076 8DF80030 		strb	r3, [sp]
2035:DMP/driver/eMPL/inv_mpu.c ****         goto AKM_restore;
 7774              		.loc 1 2035 5 is_stmt 1 view .LVU2256
2035:DMP/driver/eMPL/inv_mpu.c ****         goto AKM_restore;
 7775              		.loc 1 2035 9 is_stmt 0 view .LVU2257
 7776 007a 6B46     		mov	r3, sp
 7777 007c 0122     		movs	r2, #1
 7778 007e 0A21     		movs	r1, #10
 7779 0080 3048     		ldr	r0, .L602
 7780 0082 90F82A00 		ldrb	r0, [r0, #42]	@ zero_extendqisi2
 7781 0086 FFF7FEFF 		bl	MPU_Write_Len
 7782              	.LVL526:
2035:DMP/driver/eMPL/inv_mpu.c ****         goto AKM_restore;
 7783              		.loc 1 2035 8 view .LVU2258
 7784 008a 0028     		cmp	r0, #0
 7785 008c 51D1     		bne	.L593
2022:DMP/driver/eMPL/inv_mpu.c ****     int result = 0x07;
 7786              		.loc 1 2022 19 view .LVU2259
 7787 008e 0A24     		movs	r4, #10
 7788 0090 00E0     		b	.L588
 7789              	.LVL527:
 7790              	.L595:
2044:DMP/driver/eMPL/inv_mpu.c ****     if (!(tmp[0] & AKM_DATA_READY))
 7791              		.loc 1 2044 19 view .LVU2260
 7792 0092 1446     		mov	r4, r2
 7793              	.LVL528:
 7794              	.L588:
2038:DMP/driver/eMPL/inv_mpu.c ****         delay_ms(10);
 7795              		.loc 1 2038 5 is_stmt 1 view .LVU2261
2039:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_read(st.chip_cfg.compass_addr, AKM_REG_ST1, 1, tmp))
 7796              		.loc 1 2039 9 view .LVU2262
 7797 0094 0A20     		movs	r0, #10
 7798 0096 FFF7FEFF 		bl	HAL_Delay
 7799              	.LVL529:
2040:DMP/driver/eMPL/inv_mpu.c ****             goto AKM_restore;
 7800              		.loc 1 2040 9 view .LVU2263
2040:DMP/driver/eMPL/inv_mpu.c ****             goto AKM_restore;
 7801              		.loc 1 2040 13 is_stmt 0 view .LVU2264
 7802 009a 6B46     		mov	r3, sp
 7803 009c 0122     		movs	r2, #1
 7804 009e 0221     		movs	r1, #2
 7805 00a0 2848     		ldr	r0, .L602
 7806 00a2 90F82A00 		ldrb	r0, [r0, #42]	@ zero_extendqisi2
 7807 00a6 FFF7FEFF 		bl	MPU_Read_Len
 7808              	.LVL530:
2040:DMP/driver/eMPL/inv_mpu.c ****             goto AKM_restore;
 7809              		.loc 1 2040 12 view .LVU2265
 7810 00aa 0028     		cmp	r0, #0
 7811 00ac 43D1     		bne	.L594
2042:DMP/driver/eMPL/inv_mpu.c ****             break;
 7812              		.loc 1 2042 9 is_stmt 1 view .LVU2266
2042:DMP/driver/eMPL/inv_mpu.c ****             break;
 7813              		.loc 1 2042 16 is_stmt 0 view .LVU2267
 7814 00ae 9DF80030 		ldrb	r3, [sp]	@ zero_extendqisi2
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 222


2042:DMP/driver/eMPL/inv_mpu.c ****             break;
 7815              		.loc 1 2042 12 view .LVU2268
 7816 00b2 13F00103 		ands	r3, r3, #1
 7817 00b6 03D1     		bne	.L587
2044:DMP/driver/eMPL/inv_mpu.c ****     if (!(tmp[0] & AKM_DATA_READY))
 7818              		.loc 1 2044 14 is_stmt 1 view .LVU2269
2044:DMP/driver/eMPL/inv_mpu.c ****     if (!(tmp[0] & AKM_DATA_READY))
 7819              		.loc 1 2044 19 is_stmt 0 view .LVU2270
 7820 00b8 621E     		subs	r2, r4, #1
 7821 00ba D2B2     		uxtb	r2, r2
 7822              	.LVL531:
2044:DMP/driver/eMPL/inv_mpu.c ****     if (!(tmp[0] & AKM_DATA_READY))
 7823              		.loc 1 2044 14 view .LVU2271
 7824 00bc 002C     		cmp	r4, #0
 7825 00be E8D1     		bne	.L595
 7826              	.LVL532:
 7827              	.L587:
2045:DMP/driver/eMPL/inv_mpu.c ****         goto AKM_restore;
 7828              		.loc 1 2045 5 is_stmt 1 view .LVU2272
2045:DMP/driver/eMPL/inv_mpu.c ****         goto AKM_restore;
 7829              		.loc 1 2045 8 is_stmt 0 view .LVU2273
 7830 00c0 0BB9     		cbnz	r3, .L601
2023:DMP/driver/eMPL/inv_mpu.c ****     short data;
 7831              		.loc 1 2023 9 view .LVU2274
 7832 00c2 0724     		movs	r4, #7
 7833 00c4 BCE7     		b	.L586
 7834              	.L601:
2048:DMP/driver/eMPL/inv_mpu.c ****         goto AKM_restore;
 7835              		.loc 1 2048 5 is_stmt 1 view .LVU2275
2048:DMP/driver/eMPL/inv_mpu.c ****         goto AKM_restore;
 7836              		.loc 1 2048 9 is_stmt 0 view .LVU2276
 7837 00c6 6B46     		mov	r3, sp
 7838 00c8 0622     		movs	r2, #6
 7839 00ca 0321     		movs	r1, #3
 7840 00cc 1D48     		ldr	r0, .L602
 7841 00ce 90F82A00 		ldrb	r0, [r0, #42]	@ zero_extendqisi2
 7842 00d2 FFF7FEFF 		bl	MPU_Read_Len
 7843              	.LVL533:
2048:DMP/driver/eMPL/inv_mpu.c ****         goto AKM_restore;
 7844              		.loc 1 2048 8 view .LVU2277
 7845 00d6 80BB     		cbnz	r0, .L597
2051:DMP/driver/eMPL/inv_mpu.c **** #if defined MPU9150
 7846              		.loc 1 2051 5 is_stmt 1 view .LVU2278
 7847              	.LVL534:
2063:DMP/driver/eMPL/inv_mpu.c ****     if ((data > 200) || (data < -200))  
 7848              		.loc 1 2063 5 view .LVU2279
2063:DMP/driver/eMPL/inv_mpu.c ****     if ((data > 200) || (data < -200))  
 7849              		.loc 1 2063 23 is_stmt 0 view .LVU2280
 7850 00d8 9DF80130 		ldrb	r3, [sp, #1]	@ zero_extendqisi2
2063:DMP/driver/eMPL/inv_mpu.c ****     if ((data > 200) || (data < -200))  
 7851              		.loc 1 2063 27 view .LVU2281
 7852 00dc 1B02     		lsls	r3, r3, #8
2063:DMP/driver/eMPL/inv_mpu.c ****     if ((data > 200) || (data < -200))  
 7853              		.loc 1 2063 12 view .LVU2282
 7854 00de 1BB2     		sxth	r3, r3
2063:DMP/driver/eMPL/inv_mpu.c ****     if ((data > 200) || (data < -200))  
 7855              		.loc 1 2063 38 view .LVU2283
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 223


 7856 00e0 9DF80020 		ldrb	r2, [sp]	@ zero_extendqisi2
2063:DMP/driver/eMPL/inv_mpu.c ****     if ((data > 200) || (data < -200))  
 7857              		.loc 1 2063 10 view .LVU2284
 7858 00e4 1343     		orrs	r3, r3, r2
 7859              	.LVL535:
2064:DMP/driver/eMPL/inv_mpu.c ****         result |= 0x01;
 7860              		.loc 1 2064 5 is_stmt 1 view .LVU2285
2064:DMP/driver/eMPL/inv_mpu.c ****         result |= 0x01;
 7861              		.loc 1 2064 22 is_stmt 0 view .LVU2286
 7862 00e6 C833     		adds	r3, r3, #200
 7863              	.LVL536:
2064:DMP/driver/eMPL/inv_mpu.c ****         result |= 0x01;
 7864              		.loc 1 2064 22 view .LVU2287
 7865 00e8 9BB2     		uxth	r3, r3
 7866              	.LVL537:
2064:DMP/driver/eMPL/inv_mpu.c ****         result |= 0x01;
 7867              		.loc 1 2064 8 view .LVU2288
 7868 00ea B3F5C87F 		cmp	r3, #400
 7869 00ee 1ED8     		bhi	.L598
2051:DMP/driver/eMPL/inv_mpu.c **** #if defined MPU9150
 7870              		.loc 1 2051 12 view .LVU2289
 7871 00f0 0024     		movs	r4, #0
 7872              	.L589:
 7873              	.LVL538:
2066:DMP/driver/eMPL/inv_mpu.c ****     if ((data > 200) || (data < -200))  
 7874              		.loc 1 2066 5 is_stmt 1 view .LVU2290
2066:DMP/driver/eMPL/inv_mpu.c ****     if ((data > 200) || (data < -200))  
 7875              		.loc 1 2066 23 is_stmt 0 view .LVU2291
 7876 00f2 9DF80330 		ldrb	r3, [sp, #3]	@ zero_extendqisi2
2066:DMP/driver/eMPL/inv_mpu.c ****     if ((data > 200) || (data < -200))  
 7877              		.loc 1 2066 27 view .LVU2292
 7878 00f6 1B02     		lsls	r3, r3, #8
2066:DMP/driver/eMPL/inv_mpu.c ****     if ((data > 200) || (data < -200))  
 7879              		.loc 1 2066 12 view .LVU2293
 7880 00f8 1BB2     		sxth	r3, r3
2066:DMP/driver/eMPL/inv_mpu.c ****     if ((data > 200) || (data < -200))  
 7881              		.loc 1 2066 38 view .LVU2294
 7882 00fa 9DF80220 		ldrb	r2, [sp, #2]	@ zero_extendqisi2
 7883              	.LVL539:
2066:DMP/driver/eMPL/inv_mpu.c ****     if ((data > 200) || (data < -200))  
 7884              		.loc 1 2066 10 view .LVU2295
 7885 00fe 1343     		orrs	r3, r3, r2
 7886              	.LVL540:
2067:DMP/driver/eMPL/inv_mpu.c ****         result |= 0x02;
 7887              		.loc 1 2067 5 is_stmt 1 view .LVU2296
2067:DMP/driver/eMPL/inv_mpu.c ****         result |= 0x02;
 7888              		.loc 1 2067 22 is_stmt 0 view .LVU2297
 7889 0100 C833     		adds	r3, r3, #200
 7890              	.LVL541:
2067:DMP/driver/eMPL/inv_mpu.c ****         result |= 0x02;
 7891              		.loc 1 2067 22 view .LVU2298
 7892 0102 9BB2     		uxth	r3, r3
 7893              	.LVL542:
2067:DMP/driver/eMPL/inv_mpu.c ****         result |= 0x02;
 7894              		.loc 1 2067 8 view .LVU2299
 7895 0104 B3F5C87F 		cmp	r3, #400
 7896 0108 01D9     		bls	.L590
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 224


2068:DMP/driver/eMPL/inv_mpu.c ****     data = (short)(tmp[5] << 8) | tmp[4];
 7897              		.loc 1 2068 9 is_stmt 1 view .LVU2300
2068:DMP/driver/eMPL/inv_mpu.c ****     data = (short)(tmp[5] << 8) | tmp[4];
 7898              		.loc 1 2068 16 is_stmt 0 view .LVU2301
 7899 010a 44F00204 		orr	r4, r4, #2
 7900              	.LVL543:
 7901              	.L590:
2069:DMP/driver/eMPL/inv_mpu.c ****     if ((data > -800) || (data < -3200))  
 7902              		.loc 1 2069 5 is_stmt 1 view .LVU2302
2069:DMP/driver/eMPL/inv_mpu.c ****     if ((data > -800) || (data < -3200))  
 7903              		.loc 1 2069 23 is_stmt 0 view .LVU2303
 7904 010e 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
2069:DMP/driver/eMPL/inv_mpu.c ****     if ((data > -800) || (data < -3200))  
 7905              		.loc 1 2069 27 view .LVU2304
 7906 0112 1B02     		lsls	r3, r3, #8
2069:DMP/driver/eMPL/inv_mpu.c ****     if ((data > -800) || (data < -3200))  
 7907              		.loc 1 2069 12 view .LVU2305
 7908 0114 1BB2     		sxth	r3, r3
2069:DMP/driver/eMPL/inv_mpu.c ****     if ((data > -800) || (data < -3200))  
 7909              		.loc 1 2069 38 view .LVU2306
 7910 0116 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
 7911              	.LVL544:
2069:DMP/driver/eMPL/inv_mpu.c ****     if ((data > -800) || (data < -3200))  
 7912              		.loc 1 2069 10 view .LVU2307
 7913 011a 1343     		orrs	r3, r3, r2
 7914              	.LVL545:
2070:DMP/driver/eMPL/inv_mpu.c ****         result |= 0x04;
 7915              		.loc 1 2070 5 is_stmt 1 view .LVU2308
2070:DMP/driver/eMPL/inv_mpu.c ****         result |= 0x04;
 7916              		.loc 1 2070 23 is_stmt 0 view .LVU2309
 7917 011c 03F54863 		add	r3, r3, #3200
 7918              	.LVL546:
2070:DMP/driver/eMPL/inv_mpu.c ****         result |= 0x04;
 7919              		.loc 1 2070 23 view .LVU2310
 7920 0120 9BB2     		uxth	r3, r3
 7921              	.LVL547:
2070:DMP/driver/eMPL/inv_mpu.c ****         result |= 0x04;
 7922              		.loc 1 2070 8 view .LVU2311
 7923 0122 B3F5166F 		cmp	r3, #2400
 7924 0126 8BD9     		bls	.L586
2071:DMP/driver/eMPL/inv_mpu.c **** #endif
 7925              		.loc 1 2071 9 is_stmt 1 view .LVU2312
2071:DMP/driver/eMPL/inv_mpu.c **** #endif
 7926              		.loc 1 2071 16 is_stmt 0 view .LVU2313
 7927 0128 44F00404 		orr	r4, r4, #4
 7928              	.LVL548:
2071:DMP/driver/eMPL/inv_mpu.c **** #endif
 7929              		.loc 1 2071 16 view .LVU2314
 7930 012c 88E7     		b	.L586
 7931              	.LVL549:
 7932              	.L598:
2065:DMP/driver/eMPL/inv_mpu.c ****     data = (short)(tmp[3] << 8) | tmp[2];
 7933              		.loc 1 2065 16 view .LVU2315
 7934 012e 0124     		movs	r4, #1
 7935 0130 DFE7     		b	.L589
 7936              	.LVL550:
 7937              	.L593:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 225


2023:DMP/driver/eMPL/inv_mpu.c ****     short data;
 7938              		.loc 1 2023 9 view .LVU2316
 7939 0132 0724     		movs	r4, #7
 7940 0134 84E7     		b	.L586
 7941              	.LVL551:
 7942              	.L594:
2023:DMP/driver/eMPL/inv_mpu.c ****     short data;
 7943              		.loc 1 2023 9 view .LVU2317
 7944 0136 0724     		movs	r4, #7
 7945              	.LVL552:
2023:DMP/driver/eMPL/inv_mpu.c ****     short data;
 7946              		.loc 1 2023 9 view .LVU2318
 7947 0138 82E7     		b	.L586
 7948              	.LVL553:
 7949              	.L597:
2023:DMP/driver/eMPL/inv_mpu.c ****     short data;
 7950              		.loc 1 2023 9 view .LVU2319
 7951 013a 0724     		movs	r4, #7
 7952 013c 80E7     		b	.L586
 7953              	.LVL554:
 7954              	.L591:
2030:DMP/driver/eMPL/inv_mpu.c ****     tmp[0] = AKM_BIT_SELF_TEST;
 7955              		.loc 1 2030 16 view .LVU2320
 7956 013e 0724     		movs	r4, #7
 7957 0140 95E7     		b	.L584
 7958              	.L603:
 7959 0142 00BF     		.align	2
 7960              	.L602:
 7961 0144 00000000 		.word	st
 7962              		.cfi_endproc
 7963              	.LFE204:
 7965              		.section	.text.mpu_set_int_level,"ax",%progbits
 7966              		.align	1
 7967              		.global	mpu_set_int_level
 7968              		.syntax unified
 7969              		.thumb
 7970              		.thumb_func
 7972              	mpu_set_int_level:
 7973              	.LVL555:
 7974              	.LFB202:
1911:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.active_low_int = active_low;
 7975              		.loc 1 1911 1 is_stmt 1 view -0
 7976              		.cfi_startproc
 7977              		@ args = 0, pretend = 0, frame = 0
 7978              		@ frame_needed = 0, uses_anonymous_args = 0
 7979              		@ link register save eliminated.
1912:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 7980              		.loc 1 1912 5 view .LVU2322
1912:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 7981              		.loc 1 1912 32 is_stmt 0 view .LVU2323
 7982 0000 024B     		ldr	r3, .L605
 7983 0002 83F82200 		strb	r0, [r3, #34]
1913:DMP/driver/eMPL/inv_mpu.c **** }
 7984              		.loc 1 1913 5 is_stmt 1 view .LVU2324
1914:DMP/driver/eMPL/inv_mpu.c **** 
 7985              		.loc 1 1914 1 is_stmt 0 view .LVU2325
 7986 0006 0020     		movs	r0, #0
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 226


 7987              	.LVL556:
1914:DMP/driver/eMPL/inv_mpu.c **** 
 7988              		.loc 1 1914 1 view .LVU2326
 7989 0008 7047     		bx	lr
 7990              	.L606:
 7991 000a 00BF     		.align	2
 7992              	.L605:
 7993 000c 00000000 		.word	st
 7994              		.cfi_endproc
 7995              	.LFE202:
 7997              		.section	.text.mpu_set_int_latched,"ax",%progbits
 7998              		.align	1
 7999              		.global	mpu_set_int_latched
 8000              		.syntax unified
 8001              		.thumb
 8002              		.thumb_func
 8004              	mpu_set_int_latched:
 8005              	.LVL557:
 8006              	.LFB203:
1923:DMP/driver/eMPL/inv_mpu.c ****     unsigned char tmp;
 8007              		.loc 1 1923 1 is_stmt 1 view -0
 8008              		.cfi_startproc
 8009              		@ args = 0, pretend = 0, frame = 8
 8010              		@ frame_needed = 0, uses_anonymous_args = 0
1924:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.latched_int == enable)
 8011              		.loc 1 1924 5 view .LVU2328
1925:DMP/driver/eMPL/inv_mpu.c ****         return 0;
 8012              		.loc 1 1925 5 view .LVU2329
1925:DMP/driver/eMPL/inv_mpu.c ****         return 0;
 8013              		.loc 1 1925 20 is_stmt 0 view .LVU2330
 8014 0000 1B4B     		ldr	r3, .L619
 8015 0002 93F82330 		ldrb	r3, [r3, #35]	@ zero_extendqisi2
1925:DMP/driver/eMPL/inv_mpu.c ****         return 0;
 8016              		.loc 1 1925 8 view .LVU2331
 8017 0006 8342     		cmp	r3, r0
 8018 0008 2DD0     		beq	.L613
1923:DMP/driver/eMPL/inv_mpu.c ****     unsigned char tmp;
 8019              		.loc 1 1923 1 view .LVU2332
 8020 000a 10B5     		push	{r4, lr}
 8021              	.LCFI131:
 8022              		.cfi_def_cfa_offset 8
 8023              		.cfi_offset 4, -8
 8024              		.cfi_offset 14, -4
 8025 000c 82B0     		sub	sp, sp, #8
 8026              	.LCFI132:
 8027              		.cfi_def_cfa_offset 16
 8028 000e 0446     		mov	r4, r0
1928:DMP/driver/eMPL/inv_mpu.c ****         tmp = BIT_LATCH_EN | BIT_ANY_RD_CLR;
 8029              		.loc 1 1928 5 is_stmt 1 view .LVU2333
1928:DMP/driver/eMPL/inv_mpu.c ****         tmp = BIT_LATCH_EN | BIT_ANY_RD_CLR;
 8030              		.loc 1 1928 8 is_stmt 0 view .LVU2334
 8031 0010 28B3     		cbz	r0, .L609
1929:DMP/driver/eMPL/inv_mpu.c ****     else
 8032              		.loc 1 1929 9 is_stmt 1 view .LVU2335
1929:DMP/driver/eMPL/inv_mpu.c ****     else
 8033              		.loc 1 1929 13 is_stmt 0 view .LVU2336
 8034 0012 3023     		movs	r3, #48
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 227


 8035 0014 8DF80730 		strb	r3, [sp, #7]
 8036              	.L610:
1932:DMP/driver/eMPL/inv_mpu.c ****         tmp |= BIT_BYPASS_EN;
 8037              		.loc 1 1932 5 is_stmt 1 view .LVU2337
1932:DMP/driver/eMPL/inv_mpu.c ****         tmp |= BIT_BYPASS_EN;
 8038              		.loc 1 1932 20 is_stmt 0 view .LVU2338
 8039 0018 154B     		ldr	r3, .L619
 8040 001a 9B7C     		ldrb	r3, [r3, #18]	@ zero_extendqisi2
1932:DMP/driver/eMPL/inv_mpu.c ****         tmp |= BIT_BYPASS_EN;
 8041              		.loc 1 1932 8 view .LVU2339
 8042 001c 2BB1     		cbz	r3, .L611
1933:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.active_low_int)
 8043              		.loc 1 1933 9 is_stmt 1 view .LVU2340
1933:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.active_low_int)
 8044              		.loc 1 1933 13 is_stmt 0 view .LVU2341
 8045 001e 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 8046 0022 43F00203 		orr	r3, r3, #2
 8047 0026 8DF80730 		strb	r3, [sp, #7]
 8048              	.L611:
1934:DMP/driver/eMPL/inv_mpu.c ****         tmp |= BIT_ACTL;
 8049              		.loc 1 1934 5 is_stmt 1 view .LVU2342
1934:DMP/driver/eMPL/inv_mpu.c ****         tmp |= BIT_ACTL;
 8050              		.loc 1 1934 20 is_stmt 0 view .LVU2343
 8051 002a 114B     		ldr	r3, .L619
 8052 002c 93F82230 		ldrb	r3, [r3, #34]	@ zero_extendqisi2
1934:DMP/driver/eMPL/inv_mpu.c ****         tmp |= BIT_ACTL;
 8053              		.loc 1 1934 8 view .LVU2344
 8054 0030 2BB1     		cbz	r3, .L612
1935:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->int_pin_cfg, 1, &tmp))
 8055              		.loc 1 1935 9 is_stmt 1 view .LVU2345
1935:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->int_pin_cfg, 1, &tmp))
 8056              		.loc 1 1935 13 is_stmt 0 view .LVU2346
 8057 0032 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 8058 0036 63F07F03 		orn	r3, r3, #127
 8059 003a 8DF80730 		strb	r3, [sp, #7]
 8060              	.L612:
1936:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8061              		.loc 1 1936 5 is_stmt 1 view .LVU2347
1936:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8062              		.loc 1 1936 21 is_stmt 0 view .LVU2348
 8063 003e 0C4B     		ldr	r3, .L619
 8064 0040 5868     		ldr	r0, [r3, #4]
 8065              	.LVL558:
1936:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8066              		.loc 1 1936 34 view .LVU2349
 8067 0042 1968     		ldr	r1, [r3]
1936:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8068              		.loc 1 1936 9 view .LVU2350
 8069 0044 0DF10703 		add	r3, sp, #7
 8070 0048 0122     		movs	r2, #1
 8071 004a C97D     		ldrb	r1, [r1, #23]	@ zero_extendqisi2
 8072 004c 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 8073 004e FFF7FEFF 		bl	MPU_Write_Len
 8074              	.LVL559:
1936:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8075              		.loc 1 1936 8 view .LVU2351
 8076 0052 50B9     		cbnz	r0, .L614
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 228


1938:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 8077              		.loc 1 1938 5 is_stmt 1 view .LVU2352
1938:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 8078              		.loc 1 1938 29 is_stmt 0 view .LVU2353
 8079 0054 064B     		ldr	r3, .L619
 8080 0056 83F82340 		strb	r4, [r3, #35]
1939:DMP/driver/eMPL/inv_mpu.c **** }
 8081              		.loc 1 1939 5 is_stmt 1 view .LVU2354
 8082              	.L607:
1940:DMP/driver/eMPL/inv_mpu.c **** 
 8083              		.loc 1 1940 1 is_stmt 0 view .LVU2355
 8084 005a 02B0     		add	sp, sp, #8
 8085              	.LCFI133:
 8086              		.cfi_remember_state
 8087              		.cfi_def_cfa_offset 8
 8088              		@ sp needed
 8089 005c 10BD     		pop	{r4, pc}
 8090              	.LVL560:
 8091              	.L609:
 8092              	.LCFI134:
 8093              		.cfi_restore_state
1931:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.bypass_mode)
 8094              		.loc 1 1931 9 is_stmt 1 view .LVU2356
1931:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.bypass_mode)
 8095              		.loc 1 1931 13 is_stmt 0 view .LVU2357
 8096 005e 0023     		movs	r3, #0
 8097 0060 8DF80730 		strb	r3, [sp, #7]
 8098 0064 D8E7     		b	.L610
 8099              	.L613:
 8100              	.LCFI135:
 8101              		.cfi_def_cfa_offset 0
 8102              		.cfi_restore 4
 8103              		.cfi_restore 14
1926:DMP/driver/eMPL/inv_mpu.c **** 
 8104              		.loc 1 1926 16 view .LVU2358
 8105 0066 0020     		movs	r0, #0
 8106              	.LVL561:
1940:DMP/driver/eMPL/inv_mpu.c **** 
 8107              		.loc 1 1940 1 view .LVU2359
 8108 0068 7047     		bx	lr
 8109              	.L614:
 8110              	.LCFI136:
 8111              		.cfi_def_cfa_offset 16
 8112              		.cfi_offset 4, -8
 8113              		.cfi_offset 14, -4
1937:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.latched_int = enable;
 8114              		.loc 1 1937 16 view .LVU2360
 8115 006a 4FF0FF30 		mov	r0, #-1
 8116 006e F4E7     		b	.L607
 8117              	.L620:
 8118              		.align	2
 8119              	.L619:
 8120 0070 00000000 		.word	st
 8121              		.cfi_endproc
 8122              	.LFE203:
 8124              		.section	.text.mpu_lp_accel_mode,"ax",%progbits
 8125              		.align	1
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 229


 8126              		.global	mpu_lp_accel_mode
 8127              		.syntax unified
 8128              		.thumb
 8129              		.thumb_func
 8131              	mpu_lp_accel_mode:
 8132              	.LVL562:
 8133              	.LFB171:
 820:DMP/driver/eMPL/inv_mpu.c ****     unsigned char tmp[2];
 8134              		.loc 1 820 1 is_stmt 1 view -0
 8135              		.cfi_startproc
 8136              		@ args = 0, pretend = 0, frame = 8
 8137              		@ frame_needed = 0, uses_anonymous_args = 0
 821:DMP/driver/eMPL/inv_mpu.c **** 
 8138              		.loc 1 821 5 view .LVU2362
 823:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8139              		.loc 1 823 5 view .LVU2363
 823:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8140              		.loc 1 823 8 is_stmt 0 view .LVU2364
 8141 0000 2828     		cmp	r0, #40
 8142 0002 62D8     		bhi	.L630
 820:DMP/driver/eMPL/inv_mpu.c ****     unsigned char tmp[2];
 8143              		.loc 1 820 1 view .LVU2365
 8144 0004 10B5     		push	{r4, lr}
 8145              	.LCFI137:
 8146              		.cfi_def_cfa_offset 8
 8147              		.cfi_offset 4, -8
 8148              		.cfi_offset 14, -4
 8149 0006 82B0     		sub	sp, sp, #8
 8150              	.LCFI138:
 8151              		.cfi_def_cfa_offset 16
 8152 0008 0446     		mov	r4, r0
 826:DMP/driver/eMPL/inv_mpu.c ****         mpu_set_int_latched(0);
 8153              		.loc 1 826 5 is_stmt 1 view .LVU2366
 826:DMP/driver/eMPL/inv_mpu.c ****         mpu_set_int_latched(0);
 8154              		.loc 1 826 8 is_stmt 0 view .LVU2367
 8155 000a B8B9     		cbnz	r0, .L623
 827:DMP/driver/eMPL/inv_mpu.c ****         tmp[0] = 0;
 8156              		.loc 1 827 9 is_stmt 1 view .LVU2368
 8157 000c 0020     		movs	r0, #0
 8158              	.LVL563:
 827:DMP/driver/eMPL/inv_mpu.c ****         tmp[0] = 0;
 8159              		.loc 1 827 9 is_stmt 0 view .LVU2369
 8160 000e FFF7FEFF 		bl	mpu_set_int_latched
 8161              	.LVL564:
 828:DMP/driver/eMPL/inv_mpu.c ****         tmp[1] = BIT_STBY_XYZG;
 8162              		.loc 1 828 9 is_stmt 1 view .LVU2370
 828:DMP/driver/eMPL/inv_mpu.c ****         tmp[1] = BIT_STBY_XYZG;
 8163              		.loc 1 828 16 is_stmt 0 view .LVU2371
 8164 0012 0023     		movs	r3, #0
 8165 0014 8DF80430 		strb	r3, [sp, #4]
 829:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 2, tmp))
 8166              		.loc 1 829 9 is_stmt 1 view .LVU2372
 829:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 2, tmp))
 8167              		.loc 1 829 16 is_stmt 0 view .LVU2373
 8168 0018 0723     		movs	r3, #7
 8169 001a 8DF80530 		strb	r3, [sp, #5]
 830:DMP/driver/eMPL/inv_mpu.c ****             return -1;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 230


 8170              		.loc 1 830 9 is_stmt 1 view .LVU2374
 830:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 8171              		.loc 1 830 25 is_stmt 0 view .LVU2375
 8172 001e 314B     		ldr	r3, .L640
 8173 0020 5868     		ldr	r0, [r3, #4]
 830:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 8174              		.loc 1 830 38 view .LVU2376
 8175 0022 1968     		ldr	r1, [r3]
 830:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 8176              		.loc 1 830 13 view .LVU2377
 8177 0024 01AB     		add	r3, sp, #4
 8178 0026 0222     		movs	r2, #2
 8179 0028 497D     		ldrb	r1, [r1, #21]	@ zero_extendqisi2
 8180 002a 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 8181 002c FFF7FEFF 		bl	MPU_Write_Len
 8182              	.LVL565:
 830:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 8183              		.loc 1 830 12 view .LVU2378
 8184 0030 0028     		cmp	r0, #0
 8185 0032 4DD1     		bne	.L631
 832:DMP/driver/eMPL/inv_mpu.c ****         return 0;
 8186              		.loc 1 832 9 is_stmt 1 view .LVU2379
 832:DMP/driver/eMPL/inv_mpu.c ****         return 0;
 8187              		.loc 1 832 35 is_stmt 0 view .LVU2380
 8188 0034 2B4B     		ldr	r3, .L640
 8189 0036 1875     		strb	r0, [r3, #20]
 833:DMP/driver/eMPL/inv_mpu.c ****     }
 8190              		.loc 1 833 9 is_stmt 1 view .LVU2381
 8191              	.L621:
 895:DMP/driver/eMPL/inv_mpu.c **** 
 8192              		.loc 1 895 1 is_stmt 0 view .LVU2382
 8193 0038 02B0     		add	sp, sp, #8
 8194              	.LCFI139:
 8195              		.cfi_remember_state
 8196              		.cfi_def_cfa_offset 8
 8197              		@ sp needed
 8198 003a 10BD     		pop	{r4, pc}
 8199              	.LVL566:
 8200              	.L623:
 8201              	.LCFI140:
 8202              		.cfi_restore_state
 842:DMP/driver/eMPL/inv_mpu.c **** #if defined MPU6050
 8203              		.loc 1 842 5 is_stmt 1 view .LVU2383
 8204 003c 0120     		movs	r0, #1
 8205              	.LVL567:
 842:DMP/driver/eMPL/inv_mpu.c **** #if defined MPU6050
 8206              		.loc 1 842 5 is_stmt 0 view .LVU2384
 8207 003e FFF7FEFF 		bl	mpu_set_int_latched
 8208              	.LVL568:
 863:DMP/driver/eMPL/inv_mpu.c ****         tmp[0] = INV_LPA_1_25HZ;
 8209              		.loc 1 863 5 is_stmt 1 view .LVU2385
 863:DMP/driver/eMPL/inv_mpu.c ****         tmp[0] = INV_LPA_1_25HZ;
 8210              		.loc 1 863 8 is_stmt 0 view .LVU2386
 8211 0042 012C     		cmp	r4, #1
 8212 0044 07D0     		beq	.L638
 865:DMP/driver/eMPL/inv_mpu.c ****         tmp[0] = INV_LPA_2_5HZ;
 8213              		.loc 1 865 10 is_stmt 1 view .LVU2387
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 231


 865:DMP/driver/eMPL/inv_mpu.c ****         tmp[0] = INV_LPA_2_5HZ;
 8214              		.loc 1 865 13 is_stmt 0 view .LVU2388
 8215 0046 022C     		cmp	r4, #2
 8216 0048 2BD0     		beq	.L639
 867:DMP/driver/eMPL/inv_mpu.c ****         tmp[0] = INV_LPA_5HZ;
 8217              		.loc 1 867 10 is_stmt 1 view .LVU2389
 867:DMP/driver/eMPL/inv_mpu.c ****         tmp[0] = INV_LPA_5HZ;
 8218              		.loc 1 867 13 is_stmt 0 view .LVU2390
 8219 004a 052C     		cmp	r4, #5
 8220 004c 2DD8     		bhi	.L627
 868:DMP/driver/eMPL/inv_mpu.c ****     else if (rate <= 10)
 8221              		.loc 1 868 9 is_stmt 1 view .LVU2391
 868:DMP/driver/eMPL/inv_mpu.c ****     else if (rate <= 10)
 8222              		.loc 1 868 16 is_stmt 0 view .LVU2392
 8223 004e 0423     		movs	r3, #4
 8224 0050 8DF80430 		strb	r3, [sp, #4]
 8225 0054 02E0     		b	.L625
 8226              	.L638:
 864:DMP/driver/eMPL/inv_mpu.c ****     else if (rate == 2)
 8227              		.loc 1 864 9 is_stmt 1 view .LVU2393
 864:DMP/driver/eMPL/inv_mpu.c ****     else if (rate == 2)
 8228              		.loc 1 864 16 is_stmt 0 view .LVU2394
 8229 0056 0223     		movs	r3, #2
 8230 0058 8DF80430 		strb	r3, [sp, #4]
 8231              	.L625:
 883:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8232              		.loc 1 883 5 is_stmt 1 view .LVU2395
 883:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8233              		.loc 1 883 21 is_stmt 0 view .LVU2396
 8234 005c 214B     		ldr	r3, .L640
 8235 005e 5868     		ldr	r0, [r3, #4]
 883:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8236              		.loc 1 883 34 view .LVU2397
 8237 0060 1968     		ldr	r1, [r3]
 883:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8238              		.loc 1 883 9 view .LVU2398
 8239 0062 01AB     		add	r3, sp, #4
 8240 0064 0122     		movs	r2, #1
 8241 0066 497A     		ldrb	r1, [r1, #9]	@ zero_extendqisi2
 8242 0068 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 8243 006a FFF7FEFF 		bl	MPU_Write_Len
 8244              	.LVL569:
 883:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8245              		.loc 1 883 8 view .LVU2399
 8246 006e 90BB     		cbnz	r0, .L632
 885:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 1, tmp))
 8247              		.loc 1 885 5 is_stmt 1 view .LVU2400
 885:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 1, tmp))
 8248              		.loc 1 885 12 is_stmt 0 view .LVU2401
 8249 0070 2023     		movs	r3, #32
 8250 0072 8DF80430 		strb	r3, [sp, #4]
 886:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8251              		.loc 1 886 5 is_stmt 1 view .LVU2402
 886:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8252              		.loc 1 886 21 is_stmt 0 view .LVU2403
 8253 0076 1B4B     		ldr	r3, .L640
 8254 0078 5868     		ldr	r0, [r3, #4]
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 232


 886:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8255              		.loc 1 886 34 view .LVU2404
 8256 007a 1968     		ldr	r1, [r3]
 886:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8257              		.loc 1 886 9 view .LVU2405
 8258 007c 01AB     		add	r3, sp, #4
 8259 007e 0122     		movs	r2, #1
 8260 0080 497D     		ldrb	r1, [r1, #21]	@ zero_extendqisi2
 8261 0082 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 8262 0084 FFF7FEFF 		bl	MPU_Write_Len
 8263              	.LVL570:
 886:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8264              		.loc 1 886 8 view .LVU2406
 8265 0088 40BB     		cbnz	r0, .L633
 889:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.clk_src = 0;
 8266              		.loc 1 889 5 is_stmt 1 view .LVU2407
 889:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.clk_src = 0;
 8267              		.loc 1 889 25 is_stmt 0 view .LVU2408
 8268 008a 164B     		ldr	r3, .L640
 8269 008c 0822     		movs	r2, #8
 8270 008e 9A72     		strb	r2, [r3, #10]
 890:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.lp_accel_mode = 1;
 8271              		.loc 1 890 5 is_stmt 1 view .LVU2409
 890:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.lp_accel_mode = 1;
 8272              		.loc 1 890 25 is_stmt 0 view .LVU2410
 8273 0090 0024     		movs	r4, #0
 8274 0092 1C73     		strb	r4, [r3, #12]
 891:DMP/driver/eMPL/inv_mpu.c ****     mpu_configure_fifo(0);
 8275              		.loc 1 891 5 is_stmt 1 view .LVU2411
 891:DMP/driver/eMPL/inv_mpu.c ****     mpu_configure_fifo(0);
 8276              		.loc 1 891 31 is_stmt 0 view .LVU2412
 8277 0094 0122     		movs	r2, #1
 8278 0096 1A75     		strb	r2, [r3, #20]
 892:DMP/driver/eMPL/inv_mpu.c **** 
 8279              		.loc 1 892 5 is_stmt 1 view .LVU2413
 8280 0098 2046     		mov	r0, r4
 8281 009a FFF7FEFF 		bl	mpu_configure_fifo
 8282              	.LVL571:
 894:DMP/driver/eMPL/inv_mpu.c **** }
 8283              		.loc 1 894 5 view .LVU2414
 894:DMP/driver/eMPL/inv_mpu.c **** }
 8284              		.loc 1 894 12 is_stmt 0 view .LVU2415
 8285 009e 2046     		mov	r0, r4
 8286 00a0 CAE7     		b	.L621
 8287              	.L639:
 866:DMP/driver/eMPL/inv_mpu.c ****     else if (rate <= 5)
 8288              		.loc 1 866 9 is_stmt 1 view .LVU2416
 866:DMP/driver/eMPL/inv_mpu.c ****     else if (rate <= 5)
 8289              		.loc 1 866 16 is_stmt 0 view .LVU2417
 8290 00a2 0323     		movs	r3, #3
 8291 00a4 8DF80430 		strb	r3, [sp, #4]
 8292 00a8 D8E7     		b	.L625
 8293              	.L627:
 869:DMP/driver/eMPL/inv_mpu.c ****         tmp[0] = INV_LPA_10HZ;
 8294              		.loc 1 869 10 is_stmt 1 view .LVU2418
 869:DMP/driver/eMPL/inv_mpu.c ****         tmp[0] = INV_LPA_10HZ;
 8295              		.loc 1 869 13 is_stmt 0 view .LVU2419
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 233


 8296 00aa 0A2C     		cmp	r4, #10
 8297 00ac 03D8     		bhi	.L628
 870:DMP/driver/eMPL/inv_mpu.c ****     else if (rate <= 20)
 8298              		.loc 1 870 9 is_stmt 1 view .LVU2420
 870:DMP/driver/eMPL/inv_mpu.c ****     else if (rate <= 20)
 8299              		.loc 1 870 16 is_stmt 0 view .LVU2421
 8300 00ae 0523     		movs	r3, #5
 8301 00b0 8DF80430 		strb	r3, [sp, #4]
 8302 00b4 D2E7     		b	.L625
 8303              	.L628:
 871:DMP/driver/eMPL/inv_mpu.c ****         tmp[0] = INV_LPA_20HZ;
 8304              		.loc 1 871 10 is_stmt 1 view .LVU2422
 871:DMP/driver/eMPL/inv_mpu.c ****         tmp[0] = INV_LPA_20HZ;
 8305              		.loc 1 871 13 is_stmt 0 view .LVU2423
 8306 00b6 142C     		cmp	r4, #20
 8307 00b8 03D8     		bhi	.L629
 872:DMP/driver/eMPL/inv_mpu.c ****     else if (rate <= 40)
 8308              		.loc 1 872 9 is_stmt 1 view .LVU2424
 872:DMP/driver/eMPL/inv_mpu.c ****     else if (rate <= 40)
 8309              		.loc 1 872 16 is_stmt 0 view .LVU2425
 8310 00ba 0623     		movs	r3, #6
 8311 00bc 8DF80430 		strb	r3, [sp, #4]
 8312 00c0 CCE7     		b	.L625
 8313              	.L629:
 873:DMP/driver/eMPL/inv_mpu.c ****         tmp[0] = INV_LPA_40HZ;
 8314              		.loc 1 873 10 is_stmt 1 view .LVU2426
 874:DMP/driver/eMPL/inv_mpu.c ****     else if (rate <= 80)
 8315              		.loc 1 874 9 view .LVU2427
 874:DMP/driver/eMPL/inv_mpu.c ****     else if (rate <= 80)
 8316              		.loc 1 874 16 is_stmt 0 view .LVU2428
 8317 00c2 0723     		movs	r3, #7
 8318 00c4 8DF80430 		strb	r3, [sp, #4]
 8319 00c8 C8E7     		b	.L625
 8320              	.LVL572:
 8321              	.L630:
 8322              	.LCFI141:
 8323              		.cfi_def_cfa_offset 0
 8324              		.cfi_restore 4
 8325              		.cfi_restore 14
 824:DMP/driver/eMPL/inv_mpu.c **** 
 8326              		.loc 1 824 16 view .LVU2429
 8327 00ca 4FF0FF30 		mov	r0, #-1
 8328              	.LVL573:
 895:DMP/driver/eMPL/inv_mpu.c **** 
 8329              		.loc 1 895 1 view .LVU2430
 8330 00ce 7047     		bx	lr
 8331              	.L631:
 8332              	.LCFI142:
 8333              		.cfi_def_cfa_offset 16
 8334              		.cfi_offset 4, -8
 8335              		.cfi_offset 14, -4
 831:DMP/driver/eMPL/inv_mpu.c ****         st.chip_cfg.lp_accel_mode = 0;
 8336              		.loc 1 831 20 view .LVU2431
 8337 00d0 4FF0FF30 		mov	r0, #-1
 8338 00d4 B0E7     		b	.L621
 8339              	.L632:
 884:DMP/driver/eMPL/inv_mpu.c ****     tmp[0] = BIT_LPA_CYCLE;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 234


 8340              		.loc 1 884 16 view .LVU2432
 8341 00d6 4FF0FF30 		mov	r0, #-1
 8342 00da ADE7     		b	.L621
 8343              	.L633:
 887:DMP/driver/eMPL/inv_mpu.c **** #endif
 8344              		.loc 1 887 16 view .LVU2433
 8345 00dc 4FF0FF30 		mov	r0, #-1
 8346 00e0 AAE7     		b	.L621
 8347              	.L641:
 8348 00e2 00BF     		.align	2
 8349              	.L640:
 8350 00e4 00000000 		.word	st
 8351              		.cfi_endproc
 8352              	.LFE171:
 8354              		.section	.text.mpu_set_sample_rate,"ax",%progbits
 8355              		.align	1
 8356              		.global	mpu_set_sample_rate
 8357              		.syntax unified
 8358              		.thumb
 8359              		.thumb_func
 8361              	mpu_set_sample_rate:
 8362              	.LVL574:
 8363              	.LFB189:
1411:DMP/driver/eMPL/inv_mpu.c ****     unsigned char data;
 8364              		.loc 1 1411 1 is_stmt 1 view -0
 8365              		.cfi_startproc
 8366              		@ args = 0, pretend = 0, frame = 8
 8367              		@ frame_needed = 0, uses_anonymous_args = 0
1412:DMP/driver/eMPL/inv_mpu.c **** 
 8368              		.loc 1 1412 5 view .LVU2435
1414:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8369              		.loc 1 1414 5 view .LVU2436
1414:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8370              		.loc 1 1414 22 is_stmt 0 view .LVU2437
 8371 0000 294B     		ldr	r3, .L657
 8372 0002 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
1414:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8373              		.loc 1 1414 8 view .LVU2438
 8374 0004 002B     		cmp	r3, #0
 8375 0006 46D0     		beq	.L647
1411:DMP/driver/eMPL/inv_mpu.c ****     unsigned char data;
 8376              		.loc 1 1411 1 view .LVU2439
 8377 0008 10B5     		push	{r4, lr}
 8378              	.LCFI143:
 8379              		.cfi_def_cfa_offset 8
 8380              		.cfi_offset 4, -8
 8381              		.cfi_offset 14, -4
 8382 000a 82B0     		sub	sp, sp, #8
 8383              	.LCFI144:
 8384              		.cfi_def_cfa_offset 16
 8385 000c 0446     		mov	r4, r0
1417:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8386              		.loc 1 1417 5 is_stmt 1 view .LVU2440
1417:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8387              		.loc 1 1417 20 is_stmt 0 view .LVU2441
 8388 000e 264B     		ldr	r3, .L657
 8389 0010 93F82430 		ldrb	r3, [r3, #36]	@ zero_extendqisi2
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 235


1417:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8390              		.loc 1 1417 8 view .LVU2442
 8391 0014 002B     		cmp	r3, #0
 8392 0016 41D1     		bne	.L648
1420:DMP/driver/eMPL/inv_mpu.c ****             if (rate && (rate <= 40)) {
 8393              		.loc 1 1420 9 is_stmt 1 view .LVU2443
1420:DMP/driver/eMPL/inv_mpu.c ****             if (rate && (rate <= 40)) {
 8394              		.loc 1 1420 24 is_stmt 0 view .LVU2444
 8395 0018 234B     		ldr	r3, .L657
 8396 001a 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
1420:DMP/driver/eMPL/inv_mpu.c ****             if (rate && (rate <= 40)) {
 8397              		.loc 1 1420 12 view .LVU2445
 8398 001c 33B1     		cbz	r3, .L644
1421:DMP/driver/eMPL/inv_mpu.c ****                 /* Just stay in low-power accel mode. */
 8399              		.loc 1 1421 13 is_stmt 1 view .LVU2446
1421:DMP/driver/eMPL/inv_mpu.c ****                 /* Just stay in low-power accel mode. */
 8400              		.loc 1 1421 22 is_stmt 0 view .LVU2447
 8401 001e 431E     		subs	r3, r0, #1
 8402 0020 9BB2     		uxth	r3, r3
1421:DMP/driver/eMPL/inv_mpu.c ****                 /* Just stay in low-power accel mode. */
 8403              		.loc 1 1421 16 view .LVU2448
 8404 0022 272B     		cmp	r3, #39
 8405 0024 0AD9     		bls	.L656
1429:DMP/driver/eMPL/inv_mpu.c ****         }
 8406              		.loc 1 1429 13 is_stmt 1 view .LVU2449
 8407 0026 0020     		movs	r0, #0
 8408              	.LVL575:
1429:DMP/driver/eMPL/inv_mpu.c ****         }
 8409              		.loc 1 1429 13 is_stmt 0 view .LVU2450
 8410 0028 FFF7FEFF 		bl	mpu_lp_accel_mode
 8411              	.LVL576:
 8412              	.L644:
1431:DMP/driver/eMPL/inv_mpu.c ****             rate = 4;
 8413              		.loc 1 1431 9 is_stmt 1 view .LVU2451
1431:DMP/driver/eMPL/inv_mpu.c ****             rate = 4;
 8414              		.loc 1 1431 12 is_stmt 0 view .LVU2452
 8415 002c 032C     		cmp	r4, #3
 8416 002e 09D9     		bls	.L649
1433:DMP/driver/eMPL/inv_mpu.c ****             rate = 1000;
 8417              		.loc 1 1433 14 is_stmt 1 view .LVU2453
1433:DMP/driver/eMPL/inv_mpu.c ****             rate = 1000;
 8418              		.loc 1 1433 17 is_stmt 0 view .LVU2454
 8419 0030 B4F57A7F 		cmp	r4, #1000
 8420 0034 07D9     		bls	.L646
1434:DMP/driver/eMPL/inv_mpu.c **** 
 8421              		.loc 1 1434 18 view .LVU2455
 8422 0036 4FF47A74 		mov	r4, #1000
 8423 003a 04E0     		b	.L646
 8424              	.LVL577:
 8425              	.L656:
1423:DMP/driver/eMPL/inv_mpu.c ****                 return 0;
 8426              		.loc 1 1423 17 is_stmt 1 view .LVU2456
 8427 003c FFF7FEFF 		bl	mpu_lp_accel_mode
 8428              	.LVL578:
1424:DMP/driver/eMPL/inv_mpu.c ****             }
 8429              		.loc 1 1424 17 view .LVU2457
1424:DMP/driver/eMPL/inv_mpu.c ****             }
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 236


 8430              		.loc 1 1424 24 is_stmt 0 view .LVU2458
 8431 0040 0020     		movs	r0, #0
 8432 0042 26E0     		b	.L642
 8433              	.L649:
1432:DMP/driver/eMPL/inv_mpu.c ****         else if (rate > 1000)
 8434              		.loc 1 1432 18 view .LVU2459
 8435 0044 0424     		movs	r4, #4
 8436              	.L646:
 8437              	.LVL579:
1436:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->rate_div, 1, &data))
 8438              		.loc 1 1436 9 is_stmt 1 view .LVU2460
1436:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->rate_div, 1, &data))
 8439              		.loc 1 1436 21 is_stmt 0 view .LVU2461
 8440 0046 4FF47A73 		mov	r3, #1000
 8441 004a 93FBF4F3 		sdiv	r3, r3, r4
1436:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->rate_div, 1, &data))
 8442              		.loc 1 1436 28 view .LVU2462
 8443 004e 013B     		subs	r3, r3, #1
1436:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->rate_div, 1, &data))
 8444              		.loc 1 1436 14 view .LVU2463
 8445 0050 8DF80730 		strb	r3, [sp, #7]
1437:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 8446              		.loc 1 1437 9 is_stmt 1 view .LVU2464
1437:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 8447              		.loc 1 1437 25 is_stmt 0 view .LVU2465
 8448 0054 144B     		ldr	r3, .L657
 8449 0056 5868     		ldr	r0, [r3, #4]
1437:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 8450              		.loc 1 1437 38 view .LVU2466
 8451 0058 1968     		ldr	r1, [r3]
1437:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 8452              		.loc 1 1437 13 view .LVU2467
 8453 005a 0DF10703 		add	r3, sp, #7
 8454 005e 0122     		movs	r2, #1
 8455 0060 4978     		ldrb	r1, [r1, #1]	@ zero_extendqisi2
 8456 0062 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 8457 0064 FFF7FEFF 		bl	MPU_Write_Len
 8458              	.LVL580:
1437:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 8459              		.loc 1 1437 12 view .LVU2468
 8460 0068 D8B9     		cbnz	r0, .L651
1440:DMP/driver/eMPL/inv_mpu.c **** 
 8461              		.loc 1 1440 9 is_stmt 1 view .LVU2469
1440:DMP/driver/eMPL/inv_mpu.c **** 
 8462              		.loc 1 1440 45 is_stmt 0 view .LVU2470
 8463 006a 9DF80720 		ldrb	r2, [sp, #7]	@ zero_extendqisi2
 8464 006e 0132     		adds	r2, r2, #1
1440:DMP/driver/eMPL/inv_mpu.c **** 
 8465              		.loc 1 1440 40 view .LVU2471
 8466 0070 4FF47A73 		mov	r3, #1000
 8467 0074 93FBF2F3 		sdiv	r3, r3, r2
1440:DMP/driver/eMPL/inv_mpu.c **** 
 8468              		.loc 1 1440 33 view .LVU2472
 8469 0078 0B4C     		ldr	r4, .L657
 8470              	.LVL581:
1440:DMP/driver/eMPL/inv_mpu.c **** 
 8471              		.loc 1 1440 33 view .LVU2473
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 237


 8472 007a E381     		strh	r3, [r4, #14]	@ movhi
1443:DMP/driver/eMPL/inv_mpu.c **** #endif
 8473              		.loc 1 1443 9 is_stmt 1 view .LVU2474
1443:DMP/driver/eMPL/inv_mpu.c **** #endif
 8474              		.loc 1 1443 37 is_stmt 0 view .LVU2475
 8475 007c 208D     		ldrh	r0, [r4, #40]
1443:DMP/driver/eMPL/inv_mpu.c **** #endif
 8476              		.loc 1 1443 9 view .LVU2476
 8477 007e 6428     		cmp	r0, #100
 8478 0080 28BF     		it	cs
 8479 0082 6420     		movcs	r0, #100
 8480 0084 FFF7FEFF 		bl	mpu_set_compass_sample_rate
 8481              	.LVL582:
1447:DMP/driver/eMPL/inv_mpu.c ****         return 0;
 8482              		.loc 1 1447 9 is_stmt 1 view .LVU2477
1447:DMP/driver/eMPL/inv_mpu.c ****         return 0;
 8483              		.loc 1 1447 32 is_stmt 0 view .LVU2478
 8484 0088 E089     		ldrh	r0, [r4, #14]
1447:DMP/driver/eMPL/inv_mpu.c ****         return 0;
 8485              		.loc 1 1447 9 view .LVU2479
 8486 008a 4008     		lsrs	r0, r0, #1
 8487 008c FFF7FEFF 		bl	mpu_set_lpf
 8488              	.LVL583:
1448:DMP/driver/eMPL/inv_mpu.c ****     }
 8489              		.loc 1 1448 9 is_stmt 1 view .LVU2480
1448:DMP/driver/eMPL/inv_mpu.c ****     }
 8490              		.loc 1 1448 16 is_stmt 0 view .LVU2481
 8491 0090 0020     		movs	r0, #0
 8492              	.LVL584:
 8493              	.L642:
1450:DMP/driver/eMPL/inv_mpu.c **** 
 8494              		.loc 1 1450 1 view .LVU2482
 8495 0092 02B0     		add	sp, sp, #8
 8496              	.LCFI145:
 8497              		.cfi_def_cfa_offset 8
 8498              		@ sp needed
 8499 0094 10BD     		pop	{r4, pc}
 8500              	.LVL585:
 8501              	.L647:
 8502              	.LCFI146:
 8503              		.cfi_def_cfa_offset 0
 8504              		.cfi_restore 4
 8505              		.cfi_restore 14
1415:DMP/driver/eMPL/inv_mpu.c **** 
 8506              		.loc 1 1415 16 view .LVU2483
 8507 0096 4FF0FF30 		mov	r0, #-1
 8508              	.LVL586:
1450:DMP/driver/eMPL/inv_mpu.c **** 
 8509              		.loc 1 1450 1 view .LVU2484
 8510 009a 7047     		bx	lr
 8511              	.LVL587:
 8512              	.L648:
 8513              	.LCFI147:
 8514              		.cfi_def_cfa_offset 16
 8515              		.cfi_offset 4, -8
 8516              		.cfi_offset 14, -4
1418:DMP/driver/eMPL/inv_mpu.c ****     else {
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 238


 8517              		.loc 1 1418 16 view .LVU2485
 8518 009c 4FF0FF30 		mov	r0, #-1
 8519              	.LVL588:
1418:DMP/driver/eMPL/inv_mpu.c ****     else {
 8520              		.loc 1 1418 16 view .LVU2486
 8521 00a0 F7E7     		b	.L642
 8522              	.LVL589:
 8523              	.L651:
1438:DMP/driver/eMPL/inv_mpu.c **** 
 8524              		.loc 1 1438 20 view .LVU2487
 8525 00a2 4FF0FF30 		mov	r0, #-1
 8526 00a6 F4E7     		b	.L642
 8527              	.L658:
 8528              		.align	2
 8529              	.L657:
 8530 00a8 00000000 		.word	st
 8531              		.cfi_endproc
 8532              	.LFE189:
 8534              		.section	.text.mpu_set_sensors,"ax",%progbits
 8535              		.align	1
 8536              		.global	mpu_set_sensors
 8537              		.syntax unified
 8538              		.thumb
 8539              		.thumb_func
 8541              	mpu_set_sensors:
 8542              	.LVL590:
 8543              	.LFB197:
1636:DMP/driver/eMPL/inv_mpu.c ****     unsigned char data;
 8544              		.loc 1 1636 1 is_stmt 1 view -0
 8545              		.cfi_startproc
 8546              		@ args = 0, pretend = 0, frame = 8
 8547              		@ frame_needed = 0, uses_anonymous_args = 0
1636:DMP/driver/eMPL/inv_mpu.c ****     unsigned char data;
 8548              		.loc 1 1636 1 is_stmt 0 view .LVU2489
 8549 0000 10B5     		push	{r4, lr}
 8550              	.LCFI148:
 8551              		.cfi_def_cfa_offset 8
 8552              		.cfi_offset 4, -8
 8553              		.cfi_offset 14, -4
 8554 0002 82B0     		sub	sp, sp, #8
 8555              	.LCFI149:
 8556              		.cfi_def_cfa_offset 16
 8557 0004 0446     		mov	r4, r0
1637:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
 8558              		.loc 1 1637 5 is_stmt 1 view .LVU2490
1639:DMP/driver/eMPL/inv_mpu.c **** #endif
 8559              		.loc 1 1639 5 view .LVU2491
1642:DMP/driver/eMPL/inv_mpu.c ****         data = INV_CLK_PLL;
 8560              		.loc 1 1642 5 view .LVU2492
1642:DMP/driver/eMPL/inv_mpu.c ****         data = INV_CLK_PLL;
 8561              		.loc 1 1642 8 is_stmt 0 view .LVU2493
 8562 0006 10F0700F 		tst	r0, #112
 8563 000a 00F08E80 		beq	.L660
1643:DMP/driver/eMPL/inv_mpu.c ****     else if (sensors)
 8564              		.loc 1 1643 9 is_stmt 1 view .LVU2494
1643:DMP/driver/eMPL/inv_mpu.c ****     else if (sensors)
 8565              		.loc 1 1643 14 is_stmt 0 view .LVU2495
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 239


 8566 000e 0123     		movs	r3, #1
 8567 0010 8DF80730 		strb	r3, [sp, #7]
 8568              	.L661:
1648:DMP/driver/eMPL/inv_mpu.c ****         st.chip_cfg.sensors = 0;
 8569              		.loc 1 1648 5 is_stmt 1 view .LVU2496
1648:DMP/driver/eMPL/inv_mpu.c ****         st.chip_cfg.sensors = 0;
 8570              		.loc 1 1648 21 is_stmt 0 view .LVU2497
 8571 0014 5E4B     		ldr	r3, .L682
 8572 0016 5868     		ldr	r0, [r3, #4]
 8573              	.LVL591:
1648:DMP/driver/eMPL/inv_mpu.c ****         st.chip_cfg.sensors = 0;
 8574              		.loc 1 1648 34 view .LVU2498
 8575 0018 1968     		ldr	r1, [r3]
1648:DMP/driver/eMPL/inv_mpu.c ****         st.chip_cfg.sensors = 0;
 8576              		.loc 1 1648 9 view .LVU2499
 8577 001a 0DF10703 		add	r3, sp, #7
 8578 001e 0122     		movs	r2, #1
 8579 0020 497D     		ldrb	r1, [r1, #21]	@ zero_extendqisi2
 8580 0022 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 8581 0024 FFF7FEFF 		bl	MPU_Write_Len
 8582              	.LVL592:
1648:DMP/driver/eMPL/inv_mpu.c ****         st.chip_cfg.sensors = 0;
 8583              		.loc 1 1648 8 view .LVU2500
 8584 0028 0028     		cmp	r0, #0
 8585 002a 40F08780 		bne	.L679
1652:DMP/driver/eMPL/inv_mpu.c **** 
 8586              		.loc 1 1652 5 is_stmt 1 view .LVU2501
1652:DMP/driver/eMPL/inv_mpu.c **** 
 8587              		.loc 1 1652 32 is_stmt 0 view .LVU2502
 8588 002e 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 8589 0032 03F0BF03 		and	r3, r3, #191
1652:DMP/driver/eMPL/inv_mpu.c **** 
 8590              		.loc 1 1652 25 view .LVU2503
 8591 0036 564A     		ldr	r2, .L682
 8592 0038 1373     		strb	r3, [r2, #12]
1654:DMP/driver/eMPL/inv_mpu.c ****     if (!(sensors & INV_X_GYRO))
 8593              		.loc 1 1654 5 is_stmt 1 view .LVU2504
1654:DMP/driver/eMPL/inv_mpu.c ****     if (!(sensors & INV_X_GYRO))
 8594              		.loc 1 1654 10 is_stmt 0 view .LVU2505
 8595 003a 0023     		movs	r3, #0
 8596 003c 8DF80730 		strb	r3, [sp, #7]
1655:DMP/driver/eMPL/inv_mpu.c ****         data |= BIT_STBY_XG;
 8597              		.loc 1 1655 5 is_stmt 1 view .LVU2506
1655:DMP/driver/eMPL/inv_mpu.c ****         data |= BIT_STBY_XG;
 8598              		.loc 1 1655 8 is_stmt 0 view .LVU2507
 8599 0040 14F0400F 		tst	r4, #64
 8600 0044 02D1     		bne	.L665
1656:DMP/driver/eMPL/inv_mpu.c ****     if (!(sensors & INV_Y_GYRO))
 8601              		.loc 1 1656 9 is_stmt 1 view .LVU2508
1656:DMP/driver/eMPL/inv_mpu.c ****     if (!(sensors & INV_Y_GYRO))
 8602              		.loc 1 1656 14 is_stmt 0 view .LVU2509
 8603 0046 0423     		movs	r3, #4
 8604 0048 8DF80730 		strb	r3, [sp, #7]
 8605              	.L665:
1657:DMP/driver/eMPL/inv_mpu.c ****         data |= BIT_STBY_YG;
 8606              		.loc 1 1657 5 is_stmt 1 view .LVU2510
1657:DMP/driver/eMPL/inv_mpu.c ****         data |= BIT_STBY_YG;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 240


 8607              		.loc 1 1657 8 is_stmt 0 view .LVU2511
 8608 004c 14F0200F 		tst	r4, #32
 8609 0050 05D1     		bne	.L666
1658:DMP/driver/eMPL/inv_mpu.c ****     if (!(sensors & INV_Z_GYRO))
 8610              		.loc 1 1658 9 is_stmt 1 view .LVU2512
1658:DMP/driver/eMPL/inv_mpu.c ****     if (!(sensors & INV_Z_GYRO))
 8611              		.loc 1 1658 14 is_stmt 0 view .LVU2513
 8612 0052 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 8613 0056 43F00203 		orr	r3, r3, #2
 8614 005a 8DF80730 		strb	r3, [sp, #7]
 8615              	.L666:
1659:DMP/driver/eMPL/inv_mpu.c ****         data |= BIT_STBY_ZG;
 8616              		.loc 1 1659 5 is_stmt 1 view .LVU2514
1659:DMP/driver/eMPL/inv_mpu.c ****         data |= BIT_STBY_ZG;
 8617              		.loc 1 1659 8 is_stmt 0 view .LVU2515
 8618 005e 14F0100F 		tst	r4, #16
 8619 0062 05D1     		bne	.L667
1660:DMP/driver/eMPL/inv_mpu.c ****     if (!(sensors & INV_XYZ_ACCEL))
 8620              		.loc 1 1660 9 is_stmt 1 view .LVU2516
1660:DMP/driver/eMPL/inv_mpu.c ****     if (!(sensors & INV_XYZ_ACCEL))
 8621              		.loc 1 1660 14 is_stmt 0 view .LVU2517
 8622 0064 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 8623 0068 43F00103 		orr	r3, r3, #1
 8624 006c 8DF80730 		strb	r3, [sp, #7]
 8625              	.L667:
1661:DMP/driver/eMPL/inv_mpu.c ****         data |= BIT_STBY_XYZA;
 8626              		.loc 1 1661 5 is_stmt 1 view .LVU2518
1661:DMP/driver/eMPL/inv_mpu.c ****         data |= BIT_STBY_XYZA;
 8627              		.loc 1 1661 8 is_stmt 0 view .LVU2519
 8628 0070 14F0080F 		tst	r4, #8
 8629 0074 05D1     		bne	.L668
1662:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_2, 1, &data)) {
 8630              		.loc 1 1662 9 is_stmt 1 view .LVU2520
1662:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_2, 1, &data)) {
 8631              		.loc 1 1662 14 is_stmt 0 view .LVU2521
 8632 0076 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 8633 007a 43F03803 		orr	r3, r3, #56
 8634 007e 8DF80730 		strb	r3, [sp, #7]
 8635              	.L668:
1663:DMP/driver/eMPL/inv_mpu.c ****         st.chip_cfg.sensors = 0;
 8636              		.loc 1 1663 5 is_stmt 1 view .LVU2522
1663:DMP/driver/eMPL/inv_mpu.c ****         st.chip_cfg.sensors = 0;
 8637              		.loc 1 1663 21 is_stmt 0 view .LVU2523
 8638 0082 434B     		ldr	r3, .L682
 8639 0084 5868     		ldr	r0, [r3, #4]
1663:DMP/driver/eMPL/inv_mpu.c ****         st.chip_cfg.sensors = 0;
 8640              		.loc 1 1663 34 view .LVU2524
 8641 0086 1968     		ldr	r1, [r3]
1663:DMP/driver/eMPL/inv_mpu.c ****         st.chip_cfg.sensors = 0;
 8642              		.loc 1 1663 9 view .LVU2525
 8643 0088 0DF10703 		add	r3, sp, #7
 8644 008c 0122     		movs	r2, #1
 8645 008e 897D     		ldrb	r1, [r1, #22]	@ zero_extendqisi2
 8646 0090 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 8647 0092 FFF7FEFF 		bl	MPU_Write_Len
 8648              	.LVL593:
1663:DMP/driver/eMPL/inv_mpu.c ****         st.chip_cfg.sensors = 0;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 241


 8649              		.loc 1 1663 8 view .LVU2526
 8650 0096 0028     		cmp	r0, #0
 8651 0098 56D1     		bne	.L680
1668:DMP/driver/eMPL/inv_mpu.c ****         /* Latched interrupts only used in LP accel mode. */
 8652              		.loc 1 1668 5 is_stmt 1 view .LVU2527
1668:DMP/driver/eMPL/inv_mpu.c ****         /* Latched interrupts only used in LP accel mode. */
 8653              		.loc 1 1668 8 is_stmt 0 view .LVU2528
 8654 009a 0CB1     		cbz	r4, .L670
1668:DMP/driver/eMPL/inv_mpu.c ****         /* Latched interrupts only used in LP accel mode. */
 8655              		.loc 1 1668 17 discriminator 1 view .LVU2529
 8656 009c 082C     		cmp	r4, #8
 8657 009e 59D1     		bne	.L681
 8658              	.L670:
1679:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8659              		.loc 1 1679 5 is_stmt 1 view .LVU2530
1679:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8660              		.loc 1 1679 20 is_stmt 0 view .LVU2531
 8661 00a0 3B4B     		ldr	r3, .L682
 8662 00a2 5868     		ldr	r0, [r3, #4]
1679:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8663              		.loc 1 1679 33 view .LVU2532
 8664 00a4 1968     		ldr	r1, [r3]
1679:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8665              		.loc 1 1679 9 view .LVU2533
 8666 00a6 0DF10603 		add	r3, sp, #6
 8667 00aa 0122     		movs	r2, #1
 8668 00ac 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 8669 00ae 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 8670 00b0 FFF7FEFF 		bl	MPU_Read_Len
 8671              	.LVL594:
1679:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8672              		.loc 1 1679 8 view .LVU2534
 8673 00b4 0028     		cmp	r0, #0
 8674 00b6 62D1     		bne	.L675
1682:DMP/driver/eMPL/inv_mpu.c ****         data = AKM_SINGLE_MEASUREMENT;
 8675              		.loc 1 1682 5 is_stmt 1 view .LVU2535
1682:DMP/driver/eMPL/inv_mpu.c ****         data = AKM_SINGLE_MEASUREMENT;
 8676              		.loc 1 1682 8 is_stmt 0 view .LVU2536
 8677 00b8 14F0010F 		tst	r4, #1
 8678 00bc 4ED0     		beq	.L671
1683:DMP/driver/eMPL/inv_mpu.c ****         user_ctrl |= BIT_AUX_IF_EN;
 8679              		.loc 1 1683 9 is_stmt 1 view .LVU2537
1683:DMP/driver/eMPL/inv_mpu.c ****         user_ctrl |= BIT_AUX_IF_EN;
 8680              		.loc 1 1683 14 is_stmt 0 view .LVU2538
 8681 00be 1123     		movs	r3, #17
 8682 00c0 8DF80730 		strb	r3, [sp, #7]
1684:DMP/driver/eMPL/inv_mpu.c ****     } else {
 8683              		.loc 1 1684 9 is_stmt 1 view .LVU2539
1684:DMP/driver/eMPL/inv_mpu.c ****     } else {
 8684              		.loc 1 1684 19 is_stmt 0 view .LVU2540
 8685 00c4 9DF80630 		ldrb	r3, [sp, #6]	@ zero_extendqisi2
 8686 00c8 43F02003 		orr	r3, r3, #32
 8687 00cc 8DF80630 		strb	r3, [sp, #6]
 8688              	.L672:
1689:DMP/driver/eMPL/inv_mpu.c ****         user_ctrl |= BIT_DMP_EN;
 8689              		.loc 1 1689 5 is_stmt 1 view .LVU2541
1689:DMP/driver/eMPL/inv_mpu.c ****         user_ctrl |= BIT_DMP_EN;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 242


 8690              		.loc 1 1689 20 is_stmt 0 view .LVU2542
 8691 00d0 2F4B     		ldr	r3, .L682
 8692 00d2 93F82430 		ldrb	r3, [r3, #36]	@ zero_extendqisi2
1689:DMP/driver/eMPL/inv_mpu.c ****         user_ctrl |= BIT_DMP_EN;
 8693              		.loc 1 1689 8 view .LVU2543
 8694 00d6 002B     		cmp	r3, #0
 8695 00d8 4AD0     		beq	.L673
1690:DMP/driver/eMPL/inv_mpu.c ****     else
 8696              		.loc 1 1690 9 is_stmt 1 view .LVU2544
1690:DMP/driver/eMPL/inv_mpu.c ****     else
 8697              		.loc 1 1690 19 is_stmt 0 view .LVU2545
 8698 00da 9DF80630 		ldrb	r3, [sp, #6]	@ zero_extendqisi2
 8699 00de 63F07F03 		orn	r3, r3, #127
 8700 00e2 8DF80630 		strb	r3, [sp, #6]
 8701              	.L674:
1693:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8702              		.loc 1 1693 5 is_stmt 1 view .LVU2546
1693:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8703              		.loc 1 1693 21 is_stmt 0 view .LVU2547
 8704 00e6 2A4B     		ldr	r3, .L682
 8705 00e8 5868     		ldr	r0, [r3, #4]
1693:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8706              		.loc 1 1693 34 view .LVU2548
 8707 00ea 1968     		ldr	r1, [r3]
1693:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8708              		.loc 1 1693 9 view .LVU2549
 8709 00ec 0DF10703 		add	r3, sp, #7
 8710 00f0 0122     		movs	r2, #1
 8711 00f2 91F82610 		ldrb	r1, [r1, #38]	@ zero_extendqisi2
 8712 00f6 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 8713 00f8 FFF7FEFF 		bl	MPU_Write_Len
 8714              	.LVL595:
1693:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8715              		.loc 1 1693 8 view .LVU2550
 8716 00fc 0028     		cmp	r0, #0
 8717 00fe 41D1     		bne	.L676
1696:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8718              		.loc 1 1696 5 is_stmt 1 view .LVU2551
1696:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8719              		.loc 1 1696 21 is_stmt 0 view .LVU2552
 8720 0100 234B     		ldr	r3, .L682
 8721 0102 5868     		ldr	r0, [r3, #4]
1696:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8722              		.loc 1 1696 34 view .LVU2553
 8723 0104 1968     		ldr	r1, [r3]
1696:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8724              		.loc 1 1696 9 view .LVU2554
 8725 0106 0DF10603 		add	r3, sp, #6
 8726 010a 0122     		movs	r2, #1
 8727 010c 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 8728 010e 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 8729 0110 FFF7FEFF 		bl	MPU_Write_Len
 8730              	.LVL596:
1696:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8731              		.loc 1 1696 8 view .LVU2555
 8732 0114 C8BB     		cbnz	r0, .L677
1701:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.lp_accel_mode = 0;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 243


 8733              		.loc 1 1701 5 is_stmt 1 view .LVU2556
1701:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.lp_accel_mode = 0;
 8734              		.loc 1 1701 25 is_stmt 0 view .LVU2557
 8735 0116 1E4B     		ldr	r3, .L682
 8736 0118 9C72     		strb	r4, [r3, #10]
1702:DMP/driver/eMPL/inv_mpu.c ****     delay_ms(50);
 8737              		.loc 1 1702 5 is_stmt 1 view .LVU2558
1702:DMP/driver/eMPL/inv_mpu.c ****     delay_ms(50);
 8738              		.loc 1 1702 31 is_stmt 0 view .LVU2559
 8739 011a 0024     		movs	r4, #0
 8740 011c 1C75     		strb	r4, [r3, #20]
1703:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 8741              		.loc 1 1703 5 is_stmt 1 view .LVU2560
 8742 011e 3220     		movs	r0, #50
 8743 0120 FFF7FEFF 		bl	HAL_Delay
 8744              	.LVL597:
1704:DMP/driver/eMPL/inv_mpu.c **** }
 8745              		.loc 1 1704 5 view .LVU2561
1704:DMP/driver/eMPL/inv_mpu.c **** }
 8746              		.loc 1 1704 12 is_stmt 0 view .LVU2562
 8747 0124 2046     		mov	r0, r4
 8748              	.L659:
1705:DMP/driver/eMPL/inv_mpu.c **** 
 8749              		.loc 1 1705 1 view .LVU2563
 8750 0126 02B0     		add	sp, sp, #8
 8751              	.LCFI150:
 8752              		.cfi_remember_state
 8753              		.cfi_def_cfa_offset 8
 8754              		@ sp needed
 8755 0128 10BD     		pop	{r4, pc}
 8756              	.LVL598:
 8757              	.L660:
 8758              	.LCFI151:
 8759              		.cfi_restore_state
1644:DMP/driver/eMPL/inv_mpu.c ****         data = 0;
 8760              		.loc 1 1644 10 is_stmt 1 view .LVU2564
1644:DMP/driver/eMPL/inv_mpu.c ****         data = 0;
 8761              		.loc 1 1644 13 is_stmt 0 view .LVU2565
 8762 012a 18B1     		cbz	r0, .L662
1645:DMP/driver/eMPL/inv_mpu.c ****     else
 8763              		.loc 1 1645 9 is_stmt 1 view .LVU2566
1645:DMP/driver/eMPL/inv_mpu.c ****     else
 8764              		.loc 1 1645 14 is_stmt 0 view .LVU2567
 8765 012c 0023     		movs	r3, #0
 8766 012e 8DF80730 		strb	r3, [sp, #7]
 8767 0132 6FE7     		b	.L661
 8768              	.L662:
1647:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 1, &data)) {
 8769              		.loc 1 1647 9 is_stmt 1 view .LVU2568
1647:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 1, &data)) {
 8770              		.loc 1 1647 14 is_stmt 0 view .LVU2569
 8771 0134 4023     		movs	r3, #64
 8772 0136 8DF80730 		strb	r3, [sp, #7]
 8773 013a 6BE7     		b	.L661
 8774              	.LVL599:
 8775              	.L679:
1649:DMP/driver/eMPL/inv_mpu.c ****         return -1;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 244


 8776              		.loc 1 1649 9 is_stmt 1 view .LVU2570
1649:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8777              		.loc 1 1649 29 is_stmt 0 view .LVU2571
 8778 013c 144B     		ldr	r3, .L682
 8779 013e 0022     		movs	r2, #0
 8780 0140 9A72     		strb	r2, [r3, #10]
1650:DMP/driver/eMPL/inv_mpu.c ****     }
 8781              		.loc 1 1650 9 is_stmt 1 view .LVU2572
1650:DMP/driver/eMPL/inv_mpu.c ****     }
 8782              		.loc 1 1650 16 is_stmt 0 view .LVU2573
 8783 0142 4FF0FF30 		mov	r0, #-1
 8784 0146 EEE7     		b	.L659
 8785              	.L680:
1664:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8786              		.loc 1 1664 9 is_stmt 1 view .LVU2574
1664:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8787              		.loc 1 1664 29 is_stmt 0 view .LVU2575
 8788 0148 114B     		ldr	r3, .L682
 8789 014a 0022     		movs	r2, #0
 8790 014c 9A72     		strb	r2, [r3, #10]
1665:DMP/driver/eMPL/inv_mpu.c ****     }
 8791              		.loc 1 1665 9 is_stmt 1 view .LVU2576
1665:DMP/driver/eMPL/inv_mpu.c ****     }
 8792              		.loc 1 1665 16 is_stmt 0 view .LVU2577
 8793 014e 4FF0FF30 		mov	r0, #-1
 8794 0152 E8E7     		b	.L659
 8795              	.L681:
1670:DMP/driver/eMPL/inv_mpu.c **** 
 8796              		.loc 1 1670 9 is_stmt 1 view .LVU2578
 8797 0154 0020     		movs	r0, #0
 8798 0156 FFF7FEFF 		bl	mpu_set_int_latched
 8799              	.LVL600:
 8800 015a A1E7     		b	.L670
 8801              	.L671:
1686:DMP/driver/eMPL/inv_mpu.c ****         user_ctrl &= ~BIT_AUX_IF_EN;
 8802              		.loc 1 1686 9 view .LVU2579
1686:DMP/driver/eMPL/inv_mpu.c ****         user_ctrl &= ~BIT_AUX_IF_EN;
 8803              		.loc 1 1686 14 is_stmt 0 view .LVU2580
 8804 015c 1023     		movs	r3, #16
 8805 015e 8DF80730 		strb	r3, [sp, #7]
1687:DMP/driver/eMPL/inv_mpu.c ****     }
 8806              		.loc 1 1687 9 is_stmt 1 view .LVU2581
1687:DMP/driver/eMPL/inv_mpu.c ****     }
 8807              		.loc 1 1687 19 is_stmt 0 view .LVU2582
 8808 0162 9DF80630 		ldrb	r3, [sp, #6]	@ zero_extendqisi2
 8809 0166 23F02003 		bic	r3, r3, #32
 8810 016a 8DF80630 		strb	r3, [sp, #6]
 8811 016e AFE7     		b	.L672
 8812              	.L673:
1692:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->s1_do, 1, &data))
 8813              		.loc 1 1692 9 is_stmt 1 view .LVU2583
1692:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->s1_do, 1, &data))
 8814              		.loc 1 1692 19 is_stmt 0 view .LVU2584
 8815 0170 9DF80630 		ldrb	r3, [sp, #6]	@ zero_extendqisi2
 8816 0174 03F07F03 		and	r3, r3, #127
 8817 0178 8DF80630 		strb	r3, [sp, #6]
 8818 017c B3E7     		b	.L674
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 245


 8819              	.L675:
1680:DMP/driver/eMPL/inv_mpu.c ****     /* Handle AKM power management. */
 8820              		.loc 1 1680 16 view .LVU2585
 8821 017e 4FF0FF30 		mov	r0, #-1
 8822 0182 D0E7     		b	.L659
 8823              	.L676:
1694:DMP/driver/eMPL/inv_mpu.c ****     /* Enable/disable I2C master mode. */
 8824              		.loc 1 1694 16 view .LVU2586
 8825 0184 4FF0FF30 		mov	r0, #-1
 8826 0188 CDE7     		b	.L659
 8827              	.L677:
1697:DMP/driver/eMPL/inv_mpu.c **** #endif
 8828              		.loc 1 1697 16 view .LVU2587
 8829 018a 4FF0FF30 		mov	r0, #-1
 8830 018e CAE7     		b	.L659
 8831              	.L683:
 8832              		.align	2
 8833              	.L682:
 8834 0190 00000000 		.word	st
 8835              		.cfi_endproc
 8836              	.LFE197:
 8838              		.section	.text.mpu_init,"ax",%progbits
 8839              		.align	1
 8840              		.global	mpu_init
 8841              		.syntax unified
 8842              		.thumb
 8843              		.thumb_func
 8845              	mpu_init:
 8846              	.LVL601:
 8847              	.LFB170:
 726:DMP/driver/eMPL/inv_mpu.c ****     unsigned char data[6];
 8848              		.loc 1 726 1 is_stmt 1 view -0
 8849              		.cfi_startproc
 8850              		@ args = 0, pretend = 0, frame = 8
 8851              		@ frame_needed = 0, uses_anonymous_args = 0
 726:DMP/driver/eMPL/inv_mpu.c ****     unsigned char data[6];
 8852              		.loc 1 726 1 is_stmt 0 view .LVU2589
 8853 0000 10B5     		push	{r4, lr}
 8854              	.LCFI152:
 8855              		.cfi_def_cfa_offset 8
 8856              		.cfi_offset 4, -8
 8857              		.cfi_offset 14, -4
 8858 0002 82B0     		sub	sp, sp, #8
 8859              	.LCFI153:
 8860              		.cfi_def_cfa_offset 16
 727:DMP/driver/eMPL/inv_mpu.c **** 
 8861              		.loc 1 727 5 is_stmt 1 view .LVU2590
 730:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 1, data))
 8862              		.loc 1 730 5 view .LVU2591
 730:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 1, data))
 8863              		.loc 1 730 13 is_stmt 0 view .LVU2592
 8864 0004 8023     		movs	r3, #128
 8865 0006 8DF80030 		strb	r3, [sp]
 731:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8866              		.loc 1 731 5 is_stmt 1 view .LVU2593
 731:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8867              		.loc 1 731 21 is_stmt 0 view .LVU2594
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 246


 8868 000a 434B     		ldr	r3, .L696
 8869 000c 5868     		ldr	r0, [r3, #4]
 8870              	.LVL602:
 731:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8871              		.loc 1 731 34 view .LVU2595
 8872 000e 1968     		ldr	r1, [r3]
 731:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8873              		.loc 1 731 9 view .LVU2596
 8874 0010 6B46     		mov	r3, sp
 8875 0012 0122     		movs	r2, #1
 8876 0014 497D     		ldrb	r1, [r1, #21]	@ zero_extendqisi2
 8877 0016 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 8878 0018 FFF7FEFF 		bl	MPU_Write_Len
 8879              	.LVL603:
 731:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8880              		.loc 1 731 8 view .LVU2597
 8881 001c 0028     		cmp	r0, #0
 8882 001e 60D1     		bne	.L686
 733:DMP/driver/eMPL/inv_mpu.c **** 
 8883              		.loc 1 733 5 is_stmt 1 view .LVU2598
 8884 0020 6420     		movs	r0, #100
 8885 0022 FFF7FEFF 		bl	HAL_Delay
 8886              	.LVL604:
 736:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 1, data))
 8887              		.loc 1 736 5 view .LVU2599
 736:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 1, data))
 8888              		.loc 1 736 13 is_stmt 0 view .LVU2600
 8889 0026 0023     		movs	r3, #0
 8890 0028 8DF80030 		strb	r3, [sp]
 737:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8891              		.loc 1 737 5 is_stmt 1 view .LVU2601
 737:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8892              		.loc 1 737 21 is_stmt 0 view .LVU2602
 8893 002c 3A4B     		ldr	r3, .L696
 8894 002e 5868     		ldr	r0, [r3, #4]
 737:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8895              		.loc 1 737 34 view .LVU2603
 8896 0030 1968     		ldr	r1, [r3]
 737:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8897              		.loc 1 737 9 view .LVU2604
 8898 0032 6B46     		mov	r3, sp
 8899 0034 0122     		movs	r2, #1
 8900 0036 497D     		ldrb	r1, [r1, #21]	@ zero_extendqisi2
 8901 0038 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 8902 003a FFF7FEFF 		bl	MPU_Write_Len
 8903              	.LVL605:
 737:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8904              		.loc 1 737 8 view .LVU2605
 8905 003e 0028     		cmp	r0, #0
 8906 0040 52D1     		bne	.L687
 740:DMP/driver/eMPL/inv_mpu.c **** 
 8907              		.loc 1 740 4 is_stmt 1 view .LVU2606
 740:DMP/driver/eMPL/inv_mpu.c **** 
 8908              		.loc 1 740 27 is_stmt 0 view .LVU2607
 8909 0042 354B     		ldr	r3, .L696
 8910 0044 0022     		movs	r2, #0
 8911 0046 DA74     		strb	r2, [r3, #19]
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 247


 746:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->accel_cfg2, 1, data))
 8912              		.loc 1 746 5 is_stmt 1 view .LVU2608
 746:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->accel_cfg2, 1, data))
 8913              		.loc 1 746 13 is_stmt 0 view .LVU2609
 8914 0048 4822     		movs	r2, #72
 8915 004a 8DF80020 		strb	r2, [sp]
 747:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8916              		.loc 1 747 5 is_stmt 1 view .LVU2610
 747:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8917              		.loc 1 747 21 is_stmt 0 view .LVU2611
 8918 004e 5868     		ldr	r0, [r3, #4]
 747:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8919              		.loc 1 747 34 view .LVU2612
 8920 0050 1968     		ldr	r1, [r3]
 747:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8921              		.loc 1 747 9 view .LVU2613
 8922 0052 6B46     		mov	r3, sp
 8923 0054 0122     		movs	r2, #1
 8924 0056 097A     		ldrb	r1, [r1, #8]	@ zero_extendqisi2
 8925 0058 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 8926 005a FFF7FEFF 		bl	MPU_Write_Len
 8927              	.LVL606:
 747:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8928              		.loc 1 747 8 view .LVU2614
 8929 005e 0028     		cmp	r0, #0
 8930 0060 45D1     		bne	.L688
 752:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.gyro_fsr = 0xFF;
 8931              		.loc 1 752 5 is_stmt 1 view .LVU2615
 752:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.gyro_fsr = 0xFF;
 8932              		.loc 1 752 25 is_stmt 0 view .LVU2616
 8933 0062 2D4B     		ldr	r3, .L696
 8934 0064 FF22     		movs	r2, #255
 8935 0066 9A72     		strb	r2, [r3, #10]
 753:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.accel_fsr = 0xFF;
 8936              		.loc 1 753 5 is_stmt 1 view .LVU2617
 753:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.accel_fsr = 0xFF;
 8937              		.loc 1 753 26 is_stmt 0 view .LVU2618
 8938 0068 1A72     		strb	r2, [r3, #8]
 754:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.lpf = 0xFF;
 8939              		.loc 1 754 5 is_stmt 1 view .LVU2619
 754:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.lpf = 0xFF;
 8940              		.loc 1 754 27 is_stmt 0 view .LVU2620
 8941 006a 5A72     		strb	r2, [r3, #9]
 755:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.sample_rate = 0xFFFF;
 8942              		.loc 1 755 5 is_stmt 1 view .LVU2621
 755:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.sample_rate = 0xFFFF;
 8943              		.loc 1 755 21 is_stmt 0 view .LVU2622
 8944 006c DA72     		strb	r2, [r3, #11]
 756:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.fifo_enable = 0xFF;
 8945              		.loc 1 756 5 is_stmt 1 view .LVU2623
 756:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.fifo_enable = 0xFF;
 8946              		.loc 1 756 29 is_stmt 0 view .LVU2624
 8947 006e 4FF6FF71 		movw	r1, #65535
 8948 0072 D981     		strh	r1, [r3, #14]	@ movhi
 757:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.bypass_mode = 0xFF;
 8949              		.loc 1 757 5 is_stmt 1 view .LVU2625
 757:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.bypass_mode = 0xFF;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 248


 8950              		.loc 1 757 29 is_stmt 0 view .LVU2626
 8951 0074 1A74     		strb	r2, [r3, #16]
 758:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
 8952              		.loc 1 758 5 is_stmt 1 view .LVU2627
 758:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
 8953              		.loc 1 758 29 is_stmt 0 view .LVU2628
 8954 0076 9A74     		strb	r2, [r3, #18]
 760:DMP/driver/eMPL/inv_mpu.c **** #endif
 8955              		.loc 1 760 5 is_stmt 1 view .LVU2629
 760:DMP/driver/eMPL/inv_mpu.c **** #endif
 8956              		.loc 1 760 37 is_stmt 0 view .LVU2630
 8957 0078 1985     		strh	r1, [r3, #40]	@ movhi
 763:DMP/driver/eMPL/inv_mpu.c ****     /* Handled in next call to mpu_set_bypass. */
 8958              		.loc 1 763 5 is_stmt 1 view .LVU2631
 763:DMP/driver/eMPL/inv_mpu.c ****     /* Handled in next call to mpu_set_bypass. */
 8959              		.loc 1 763 25 is_stmt 0 view .LVU2632
 8960 007a 0122     		movs	r2, #1
 8961 007c 1A73     		strb	r2, [r3, #12]
 765:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.latched_int = 0;
 8962              		.loc 1 765 5 is_stmt 1 view .LVU2633
 765:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.latched_int = 0;
 8963              		.loc 1 765 32 is_stmt 0 view .LVU2634
 8964 007e 83F82220 		strb	r2, [r3, #34]
 766:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.int_motion_only = 0;
 8965              		.loc 1 766 5 is_stmt 1 view .LVU2635
 766:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.int_motion_only = 0;
 8966              		.loc 1 766 29 is_stmt 0 view .LVU2636
 8967 0082 0022     		movs	r2, #0
 8968 0084 83F82320 		strb	r2, [r3, #35]
 767:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.lp_accel_mode = 0;
 8969              		.loc 1 767 5 is_stmt 1 view .LVU2637
 767:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.lp_accel_mode = 0;
 8970              		.loc 1 767 33 is_stmt 0 view .LVU2638
 8971 0088 5A75     		strb	r2, [r3, #21]
 768:DMP/driver/eMPL/inv_mpu.c ****     memset(&st.chip_cfg.cache, 0, sizeof(st.chip_cfg.cache));
 8972              		.loc 1 768 5 is_stmt 1 view .LVU2639
 768:DMP/driver/eMPL/inv_mpu.c ****     memset(&st.chip_cfg.cache, 0, sizeof(st.chip_cfg.cache));
 8973              		.loc 1 768 31 is_stmt 0 view .LVU2640
 8974 008a 1A75     		strb	r2, [r3, #20]
 769:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.dmp_on = 0;
 8975              		.loc 1 769 5 is_stmt 1 view .LVU2641
 8976 008c C3F81620 		str	r2, [r3, #22]	@ unaligned
 8977 0090 C3F81A20 		str	r2, [r3, #26]	@ unaligned
 8978 0094 C3F81E20 		str	r2, [r3, #30]	@ unaligned
 770:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.dmp_loaded = 0;
 8979              		.loc 1 770 5 view .LVU2642
 770:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.dmp_loaded = 0;
 8980              		.loc 1 770 24 is_stmt 0 view .LVU2643
 8981 0098 83F82420 		strb	r2, [r3, #36]
 771:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.dmp_sample_rate = 0;
 8982              		.loc 1 771 5 is_stmt 1 view .LVU2644
 771:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.dmp_sample_rate = 0;
 8983              		.loc 1 771 28 is_stmt 0 view .LVU2645
 8984 009c 83F82520 		strb	r2, [r3, #37]
 772:DMP/driver/eMPL/inv_mpu.c **** 
 8985              		.loc 1 772 5 is_stmt 1 view .LVU2646
 772:DMP/driver/eMPL/inv_mpu.c **** 
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 249


 8986              		.loc 1 772 33 is_stmt 0 view .LVU2647
 8987 00a0 DA84     		strh	r2, [r3, #38]	@ movhi
 774:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8988              		.loc 1 774 5 is_stmt 1 view .LVU2648
 774:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8989              		.loc 1 774 9 is_stmt 0 view .LVU2649
 8990 00a2 4FF4FA60 		mov	r0, #2000
 8991 00a6 FFF7FEFF 		bl	mpu_set_gyro_fsr
 8992              	.LVL607:
 774:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8993              		.loc 1 774 8 view .LVU2650
 8994 00aa 18BB     		cbnz	r0, .L689
 776:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8995              		.loc 1 776 5 is_stmt 1 view .LVU2651
 776:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 8996              		.loc 1 776 9 is_stmt 0 view .LVU2652
 8997 00ac 0220     		movs	r0, #2
 8998 00ae FFF7FEFF 		bl	mpu_set_accel_fsr
 8999              	.LVL608:
 776:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9000              		.loc 1 776 8 view .LVU2653
 9001 00b2 10BB     		cbnz	r0, .L690
 778:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9002              		.loc 1 778 5 is_stmt 1 view .LVU2654
 778:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9003              		.loc 1 778 9 is_stmt 0 view .LVU2655
 9004 00b4 2A20     		movs	r0, #42
 9005 00b6 FFF7FEFF 		bl	mpu_set_lpf
 9006              	.LVL609:
 778:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9007              		.loc 1 778 8 view .LVU2656
 9008 00ba 08BB     		cbnz	r0, .L691
 780:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9009              		.loc 1 780 5 is_stmt 1 view .LVU2657
 780:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9010              		.loc 1 780 9 is_stmt 0 view .LVU2658
 9011 00bc 3220     		movs	r0, #50
 9012 00be FFF7FEFF 		bl	mpu_set_sample_rate
 9013              	.LVL610:
 780:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9014              		.loc 1 780 8 view .LVU2659
 9015 00c2 00BB     		cbnz	r0, .L692
 782:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9016              		.loc 1 782 5 is_stmt 1 view .LVU2660
 782:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9017              		.loc 1 782 9 is_stmt 0 view .LVU2661
 9018 00c4 FFF7FEFF 		bl	mpu_configure_fifo
 9019              	.LVL611:
 782:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9020              		.loc 1 782 8 view .LVU2662
 9021 00c8 00BB     		cbnz	r0, .L693
 791:DMP/driver/eMPL/inv_mpu.c ****     if (mpu_set_compass_sample_rate(10))
 9022              		.loc 1 791 5 is_stmt 1 view .LVU2663
 9023 00ca FFF7FEFF 		bl	setup_compass
 9024              	.LVL612:
 792:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9025              		.loc 1 792 5 view .LVU2664
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 250


 792:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9026              		.loc 1 792 9 is_stmt 0 view .LVU2665
 9027 00ce 0A20     		movs	r0, #10
 9028 00d0 FFF7FEFF 		bl	mpu_set_compass_sample_rate
 9029              	.LVL613:
 792:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9030              		.loc 1 792 8 view .LVU2666
 9031 00d4 0446     		mov	r4, r0
 9032 00d6 E0B9     		cbnz	r0, .L694
 800:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 9033              		.loc 1 800 5 is_stmt 1 view .LVU2667
 9034 00d8 FFF7FEFF 		bl	mpu_set_sensors
 9035              	.LVL614:
 801:DMP/driver/eMPL/inv_mpu.c **** }
 9036              		.loc 1 801 5 view .LVU2668
 9037              	.L684:
 802:DMP/driver/eMPL/inv_mpu.c **** 
 9038              		.loc 1 802 1 is_stmt 0 view .LVU2669
 9039 00dc 2046     		mov	r0, r4
 9040 00de 02B0     		add	sp, sp, #8
 9041              	.LCFI154:
 9042              		.cfi_remember_state
 9043              		.cfi_def_cfa_offset 8
 9044              		@ sp needed
 9045 00e0 10BD     		pop	{r4, pc}
 9046              	.L686:
 9047              	.LCFI155:
 9048              		.cfi_restore_state
 732:DMP/driver/eMPL/inv_mpu.c ****     delay_ms(100);
 9049              		.loc 1 732 16 view .LVU2670
 9050 00e2 4FF0FF34 		mov	r4, #-1
 9051 00e6 F9E7     		b	.L684
 9052              	.L687:
 738:DMP/driver/eMPL/inv_mpu.c **** 
 9053              		.loc 1 738 16 view .LVU2671
 9054 00e8 4FF0FF34 		mov	r4, #-1
 9055 00ec F6E7     		b	.L684
 9056              	.L688:
 748:DMP/driver/eMPL/inv_mpu.c **** #endif
 9057              		.loc 1 748 16 view .LVU2672
 9058 00ee 4FF0FF34 		mov	r4, #-1
 9059 00f2 F3E7     		b	.L684
 9060              	.L689:
 775:DMP/driver/eMPL/inv_mpu.c ****     if (mpu_set_accel_fsr(2))
 9061              		.loc 1 775 16 view .LVU2673
 9062 00f4 4FF0FF34 		mov	r4, #-1
 9063 00f8 F0E7     		b	.L684
 9064              	.L690:
 777:DMP/driver/eMPL/inv_mpu.c ****     if (mpu_set_lpf(42))
 9065              		.loc 1 777 16 view .LVU2674
 9066 00fa 4FF0FF34 		mov	r4, #-1
 9067 00fe EDE7     		b	.L684
 9068              	.L691:
 779:DMP/driver/eMPL/inv_mpu.c ****     if (mpu_set_sample_rate(50))
 9069              		.loc 1 779 16 view .LVU2675
 9070 0100 4FF0FF34 		mov	r4, #-1
 9071 0104 EAE7     		b	.L684
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 251


 9072              	.L692:
 781:DMP/driver/eMPL/inv_mpu.c ****     if (mpu_configure_fifo(0))
 9073              		.loc 1 781 16 view .LVU2676
 9074 0106 4FF0FF34 		mov	r4, #-1
 9075 010a E7E7     		b	.L684
 9076              	.L693:
 783:DMP/driver/eMPL/inv_mpu.c **** 
 9077              		.loc 1 783 16 view .LVU2677
 9078 010c 4FF0FF34 		mov	r4, #-1
 9079 0110 E4E7     		b	.L684
 9080              	.L694:
 793:DMP/driver/eMPL/inv_mpu.c **** #else
 9081              		.loc 1 793 16 view .LVU2678
 9082 0112 4FF0FF34 		mov	r4, #-1
 9083 0116 E1E7     		b	.L684
 9084              	.L697:
 9085              		.align	2
 9086              	.L696:
 9087 0118 00000000 		.word	st
 9088              		.cfi_endproc
 9089              	.LFE170:
 9091              		.section	.text.mpu_write_mem,"ax",%progbits
 9092              		.align	1
 9093              		.global	mpu_write_mem
 9094              		.syntax unified
 9095              		.thumb
 9096              		.thumb_func
 9098              	mpu_write_mem:
 9099              	.LVL615:
 9100              	.LFB211:
2792:DMP/driver/eMPL/inv_mpu.c ****     unsigned char tmp[2];
 9101              		.loc 1 2792 1 is_stmt 1 view -0
 9102              		.cfi_startproc
 9103              		@ args = 0, pretend = 0, frame = 8
 9104              		@ frame_needed = 0, uses_anonymous_args = 0
2793:DMP/driver/eMPL/inv_mpu.c **** 
 9105              		.loc 1 2793 5 view .LVU2680
2795:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9106              		.loc 1 2795 5 view .LVU2681
2795:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9107              		.loc 1 2795 8 is_stmt 0 view .LVU2682
 9108 0000 3AB3     		cbz	r2, .L700
2792:DMP/driver/eMPL/inv_mpu.c ****     unsigned char tmp[2];
 9109              		.loc 1 2792 1 view .LVU2683
 9110 0002 70B5     		push	{r4, r5, r6, lr}
 9111              	.LCFI156:
 9112              		.cfi_def_cfa_offset 16
 9113              		.cfi_offset 4, -16
 9114              		.cfi_offset 5, -12
 9115              		.cfi_offset 6, -8
 9116              		.cfi_offset 14, -4
 9117 0004 82B0     		sub	sp, sp, #8
 9118              	.LCFI157:
 9119              		.cfi_def_cfa_offset 24
 9120 0006 0C46     		mov	r4, r1
 9121 0008 1646     		mov	r6, r2
2797:DMP/driver/eMPL/inv_mpu.c ****         return -1;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 252


 9122              		.loc 1 2797 5 is_stmt 1 view .LVU2684
2797:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9123              		.loc 1 2797 21 is_stmt 0 view .LVU2685
 9124 000a 194B     		ldr	r3, .L709
 9125 000c 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
2797:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9126              		.loc 1 2797 8 view .LVU2686
 9127 000e 1BB3     		cbz	r3, .L701
2800:DMP/driver/eMPL/inv_mpu.c ****     tmp[1] = (unsigned char)(mem_addr & 0xFF);
 9128              		.loc 1 2800 5 is_stmt 1 view .LVU2687
2800:DMP/driver/eMPL/inv_mpu.c ****     tmp[1] = (unsigned char)(mem_addr & 0xFF);
 9129              		.loc 1 2800 14 is_stmt 0 view .LVU2688
 9130 0010 030A     		lsrs	r3, r0, #8
2800:DMP/driver/eMPL/inv_mpu.c ****     tmp[1] = (unsigned char)(mem_addr & 0xFF);
 9131              		.loc 1 2800 12 view .LVU2689
 9132 0012 8DF80430 		strb	r3, [sp, #4]
2801:DMP/driver/eMPL/inv_mpu.c **** 
 9133              		.loc 1 2801 5 is_stmt 1 view .LVU2690
2801:DMP/driver/eMPL/inv_mpu.c **** 
 9134              		.loc 1 2801 14 is_stmt 0 view .LVU2691
 9135 0016 C0B2     		uxtb	r0, r0
 9136              	.LVL616:
2801:DMP/driver/eMPL/inv_mpu.c **** 
 9137              		.loc 1 2801 12 view .LVU2692
 9138 0018 8DF80500 		strb	r0, [sp, #5]
2804:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9139              		.loc 1 2804 5 is_stmt 1 view .LVU2693
2804:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9140              		.loc 1 2804 16 is_stmt 0 view .LVU2694
 9141 001c 0844     		add	r0, r0, r1
2804:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9142              		.loc 1 2804 29 view .LVU2695
 9143 001e 144B     		ldr	r3, .L709
 9144 0020 5D68     		ldr	r5, [r3, #4]
2804:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9145              		.loc 1 2804 32 view .LVU2696
 9146 0022 6B89     		ldrh	r3, [r5, #10]
2804:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9147              		.loc 1 2804 8 view .LVU2697
 9148 0024 9842     		cmp	r0, r3
 9149 0026 1ADC     		bgt	.L702
2807:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9150              		.loc 1 2807 5 is_stmt 1 view .LVU2698
2807:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9151              		.loc 1 2807 34 is_stmt 0 view .LVU2699
 9152 0028 114B     		ldr	r3, .L709
 9153 002a 1968     		ldr	r1, [r3]
 9154              	.LVL617:
2807:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9155              		.loc 1 2807 9 view .LVU2700
 9156 002c 01AB     		add	r3, sp, #4
 9157 002e 0222     		movs	r2, #2
 9158              	.LVL618:
2807:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9159              		.loc 1 2807 9 view .LVU2701
 9160 0030 C97E     		ldrb	r1, [r1, #27]	@ zero_extendqisi2
 9161 0032 2878     		ldrb	r0, [r5]	@ zero_extendqisi2
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 253


 9162 0034 FFF7FEFF 		bl	MPU_Write_Len
 9163              	.LVL619:
2807:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9164              		.loc 1 2807 8 view .LVU2702
 9165 0038 A0B9     		cbnz	r0, .L703
2809:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9166              		.loc 1 2809 5 is_stmt 1 view .LVU2703
2809:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9167              		.loc 1 2809 21 is_stmt 0 view .LVU2704
 9168 003a 0D4B     		ldr	r3, .L709
 9169 003c 5868     		ldr	r0, [r3, #4]
2809:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9170              		.loc 1 2809 34 view .LVU2705
 9171 003e 1968     		ldr	r1, [r3]
2809:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9172              		.loc 1 2809 9 view .LVU2706
 9173 0040 3346     		mov	r3, r6
 9174 0042 E2B2     		uxtb	r2, r4
 9175 0044 097E     		ldrb	r1, [r1, #24]	@ zero_extendqisi2
 9176 0046 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 9177 0048 FFF7FEFF 		bl	MPU_Write_Len
 9178              	.LVL620:
2809:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9179              		.loc 1 2809 8 view .LVU2707
 9180 004c 68B9     		cbnz	r0, .L704
 9181              	.L698:
2812:DMP/driver/eMPL/inv_mpu.c **** 
 9182              		.loc 1 2812 1 view .LVU2708
 9183 004e 02B0     		add	sp, sp, #8
 9184              	.LCFI158:
 9185              		.cfi_def_cfa_offset 16
 9186              		@ sp needed
 9187 0050 70BD     		pop	{r4, r5, r6, pc}
 9188              	.LVL621:
 9189              	.L700:
 9190              	.LCFI159:
 9191              		.cfi_def_cfa_offset 0
 9192              		.cfi_restore 4
 9193              		.cfi_restore 5
 9194              		.cfi_restore 6
 9195              		.cfi_restore 14
2796:DMP/driver/eMPL/inv_mpu.c ****     if (!st.chip_cfg.sensors)
 9196              		.loc 1 2796 16 view .LVU2709
 9197 0052 4FF0FF30 		mov	r0, #-1
 9198              	.LVL622:
2812:DMP/driver/eMPL/inv_mpu.c **** 
 9199              		.loc 1 2812 1 view .LVU2710
 9200 0056 7047     		bx	lr
 9201              	.LVL623:
 9202              	.L701:
 9203              	.LCFI160:
 9204              		.cfi_def_cfa_offset 24
 9205              		.cfi_offset 4, -16
 9206              		.cfi_offset 5, -12
 9207              		.cfi_offset 6, -8
 9208              		.cfi_offset 14, -4
2798:DMP/driver/eMPL/inv_mpu.c **** 
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 254


 9209              		.loc 1 2798 16 view .LVU2711
 9210 0058 4FF0FF30 		mov	r0, #-1
 9211              	.LVL624:
2798:DMP/driver/eMPL/inv_mpu.c **** 
 9212              		.loc 1 2798 16 view .LVU2712
 9213 005c F7E7     		b	.L698
 9214              	.L702:
2805:DMP/driver/eMPL/inv_mpu.c **** 
 9215              		.loc 1 2805 16 view .LVU2713
 9216 005e 4FF0FF30 		mov	r0, #-1
 9217 0062 F4E7     		b	.L698
 9218              	.LVL625:
 9219              	.L703:
2808:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->mem_r_w, length, data))
 9220              		.loc 1 2808 16 view .LVU2714
 9221 0064 4FF0FF30 		mov	r0, #-1
 9222 0068 F1E7     		b	.L698
 9223              	.L704:
2810:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 9224              		.loc 1 2810 16 view .LVU2715
 9225 006a 4FF0FF30 		mov	r0, #-1
 9226 006e EEE7     		b	.L698
 9227              	.L710:
 9228              		.align	2
 9229              	.L709:
 9230 0070 00000000 		.word	st
 9231              		.cfi_endproc
 9232              	.LFE211:
 9234              		.section	.text.mpu_read_mem,"ax",%progbits
 9235              		.align	1
 9236              		.global	mpu_read_mem
 9237              		.syntax unified
 9238              		.thumb
 9239              		.thumb_func
 9241              	mpu_read_mem:
 9242              	.LVL626:
 9243              	.LFB212:
2825:DMP/driver/eMPL/inv_mpu.c ****     unsigned char tmp[2];
 9244              		.loc 1 2825 1 is_stmt 1 view -0
 9245              		.cfi_startproc
 9246              		@ args = 0, pretend = 0, frame = 8
 9247              		@ frame_needed = 0, uses_anonymous_args = 0
2826:DMP/driver/eMPL/inv_mpu.c **** 
 9248              		.loc 1 2826 5 view .LVU2717
2828:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9249              		.loc 1 2828 5 view .LVU2718
2828:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9250              		.loc 1 2828 8 is_stmt 0 view .LVU2719
 9251 0000 3AB3     		cbz	r2, .L713
2825:DMP/driver/eMPL/inv_mpu.c ****     unsigned char tmp[2];
 9252              		.loc 1 2825 1 view .LVU2720
 9253 0002 70B5     		push	{r4, r5, r6, lr}
 9254              	.LCFI161:
 9255              		.cfi_def_cfa_offset 16
 9256              		.cfi_offset 4, -16
 9257              		.cfi_offset 5, -12
 9258              		.cfi_offset 6, -8
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 255


 9259              		.cfi_offset 14, -4
 9260 0004 82B0     		sub	sp, sp, #8
 9261              	.LCFI162:
 9262              		.cfi_def_cfa_offset 24
 9263 0006 0C46     		mov	r4, r1
 9264 0008 1646     		mov	r6, r2
2830:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9265              		.loc 1 2830 5 is_stmt 1 view .LVU2721
2830:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9266              		.loc 1 2830 21 is_stmt 0 view .LVU2722
 9267 000a 194B     		ldr	r3, .L722
 9268 000c 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
2830:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9269              		.loc 1 2830 8 view .LVU2723
 9270 000e 1BB3     		cbz	r3, .L714
2833:DMP/driver/eMPL/inv_mpu.c ****     tmp[1] = (unsigned char)(mem_addr & 0xFF);
 9271              		.loc 1 2833 5 is_stmt 1 view .LVU2724
2833:DMP/driver/eMPL/inv_mpu.c ****     tmp[1] = (unsigned char)(mem_addr & 0xFF);
 9272              		.loc 1 2833 14 is_stmt 0 view .LVU2725
 9273 0010 030A     		lsrs	r3, r0, #8
2833:DMP/driver/eMPL/inv_mpu.c ****     tmp[1] = (unsigned char)(mem_addr & 0xFF);
 9274              		.loc 1 2833 12 view .LVU2726
 9275 0012 8DF80430 		strb	r3, [sp, #4]
2834:DMP/driver/eMPL/inv_mpu.c **** 
 9276              		.loc 1 2834 5 is_stmt 1 view .LVU2727
2834:DMP/driver/eMPL/inv_mpu.c **** 
 9277              		.loc 1 2834 14 is_stmt 0 view .LVU2728
 9278 0016 C0B2     		uxtb	r0, r0
 9279              	.LVL627:
2834:DMP/driver/eMPL/inv_mpu.c **** 
 9280              		.loc 1 2834 12 view .LVU2729
 9281 0018 8DF80500 		strb	r0, [sp, #5]
2837:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9282              		.loc 1 2837 5 is_stmt 1 view .LVU2730
2837:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9283              		.loc 1 2837 16 is_stmt 0 view .LVU2731
 9284 001c 0844     		add	r0, r0, r1
2837:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9285              		.loc 1 2837 29 view .LVU2732
 9286 001e 144B     		ldr	r3, .L722
 9287 0020 5D68     		ldr	r5, [r3, #4]
2837:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9288              		.loc 1 2837 32 view .LVU2733
 9289 0022 6B89     		ldrh	r3, [r5, #10]
2837:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9290              		.loc 1 2837 8 view .LVU2734
 9291 0024 9842     		cmp	r0, r3
 9292 0026 1ADC     		bgt	.L715
2840:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9293              		.loc 1 2840 5 is_stmt 1 view .LVU2735
2840:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9294              		.loc 1 2840 34 is_stmt 0 view .LVU2736
 9295 0028 114B     		ldr	r3, .L722
 9296 002a 1968     		ldr	r1, [r3]
 9297              	.LVL628:
2840:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9298              		.loc 1 2840 9 view .LVU2737
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 256


 9299 002c 01AB     		add	r3, sp, #4
 9300 002e 0222     		movs	r2, #2
 9301              	.LVL629:
2840:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9302              		.loc 1 2840 9 view .LVU2738
 9303 0030 C97E     		ldrb	r1, [r1, #27]	@ zero_extendqisi2
 9304 0032 2878     		ldrb	r0, [r5]	@ zero_extendqisi2
 9305 0034 FFF7FEFF 		bl	MPU_Write_Len
 9306              	.LVL630:
2840:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9307              		.loc 1 2840 8 view .LVU2739
 9308 0038 A0B9     		cbnz	r0, .L716
2842:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9309              		.loc 1 2842 5 is_stmt 1 view .LVU2740
2842:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9310              		.loc 1 2842 20 is_stmt 0 view .LVU2741
 9311 003a 0D4B     		ldr	r3, .L722
 9312 003c 5868     		ldr	r0, [r3, #4]
2842:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9313              		.loc 1 2842 33 view .LVU2742
 9314 003e 1968     		ldr	r1, [r3]
2842:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9315              		.loc 1 2842 9 view .LVU2743
 9316 0040 3346     		mov	r3, r6
 9317 0042 E2B2     		uxtb	r2, r4
 9318 0044 097E     		ldrb	r1, [r1, #24]	@ zero_extendqisi2
 9319 0046 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 9320 0048 FFF7FEFF 		bl	MPU_Read_Len
 9321              	.LVL631:
2842:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9322              		.loc 1 2842 8 view .LVU2744
 9323 004c 68B9     		cbnz	r0, .L717
 9324              	.L711:
2845:DMP/driver/eMPL/inv_mpu.c **** 
 9325              		.loc 1 2845 1 view .LVU2745
 9326 004e 02B0     		add	sp, sp, #8
 9327              	.LCFI163:
 9328              		.cfi_def_cfa_offset 16
 9329              		@ sp needed
 9330 0050 70BD     		pop	{r4, r5, r6, pc}
 9331              	.LVL632:
 9332              	.L713:
 9333              	.LCFI164:
 9334              		.cfi_def_cfa_offset 0
 9335              		.cfi_restore 4
 9336              		.cfi_restore 5
 9337              		.cfi_restore 6
 9338              		.cfi_restore 14
2829:DMP/driver/eMPL/inv_mpu.c ****     if (!st.chip_cfg.sensors)
 9339              		.loc 1 2829 16 view .LVU2746
 9340 0052 4FF0FF30 		mov	r0, #-1
 9341              	.LVL633:
2845:DMP/driver/eMPL/inv_mpu.c **** 
 9342              		.loc 1 2845 1 view .LVU2747
 9343 0056 7047     		bx	lr
 9344              	.LVL634:
 9345              	.L714:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 257


 9346              	.LCFI165:
 9347              		.cfi_def_cfa_offset 24
 9348              		.cfi_offset 4, -16
 9349              		.cfi_offset 5, -12
 9350              		.cfi_offset 6, -8
 9351              		.cfi_offset 14, -4
2831:DMP/driver/eMPL/inv_mpu.c **** 
 9352              		.loc 1 2831 16 view .LVU2748
 9353 0058 4FF0FF30 		mov	r0, #-1
 9354              	.LVL635:
2831:DMP/driver/eMPL/inv_mpu.c **** 
 9355              		.loc 1 2831 16 view .LVU2749
 9356 005c F7E7     		b	.L711
 9357              	.L715:
2838:DMP/driver/eMPL/inv_mpu.c **** 
 9358              		.loc 1 2838 16 view .LVU2750
 9359 005e 4FF0FF30 		mov	r0, #-1
 9360 0062 F4E7     		b	.L711
 9361              	.LVL636:
 9362              	.L716:
2841:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_read(st.hw->addr, st.reg->mem_r_w, length, data))
 9363              		.loc 1 2841 16 view .LVU2751
 9364 0064 4FF0FF30 		mov	r0, #-1
 9365 0068 F1E7     		b	.L711
 9366              	.L717:
2843:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 9367              		.loc 1 2843 16 view .LVU2752
 9368 006a 4FF0FF30 		mov	r0, #-1
 9369 006e EEE7     		b	.L711
 9370              	.L723:
 9371              		.align	2
 9372              	.L722:
 9373 0070 00000000 		.word	st
 9374              		.cfi_endproc
 9375              	.LFE212:
 9377              		.section	.text.mpu_load_firmware,"ax",%progbits
 9378              		.align	1
 9379              		.global	mpu_load_firmware
 9380              		.syntax unified
 9381              		.thumb
 9382              		.thumb_func
 9384              	mpu_load_firmware:
 9385              	.LVL637:
 9386              	.LFB213:
2857:DMP/driver/eMPL/inv_mpu.c ****     unsigned short ii;
 9387              		.loc 1 2857 1 is_stmt 1 view -0
 9388              		.cfi_startproc
 9389              		@ args = 0, pretend = 0, frame = 24
 9390              		@ frame_needed = 0, uses_anonymous_args = 0
2857:DMP/driver/eMPL/inv_mpu.c ****     unsigned short ii;
 9391              		.loc 1 2857 1 is_stmt 0 view .LVU2754
 9392 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 9393              	.LCFI166:
 9394              		.cfi_def_cfa_offset 36
 9395              		.cfi_offset 4, -36
 9396              		.cfi_offset 5, -32
 9397              		.cfi_offset 6, -28
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 258


 9398              		.cfi_offset 7, -24
 9399              		.cfi_offset 8, -20
 9400              		.cfi_offset 9, -16
 9401              		.cfi_offset 10, -12
 9402              		.cfi_offset 11, -8
 9403              		.cfi_offset 14, -4
 9404 0004 87B0     		sub	sp, sp, #28
 9405              	.LCFI167:
 9406              		.cfi_def_cfa_offset 64
 9407 0006 9A46     		mov	r10, r3
2858:DMP/driver/eMPL/inv_mpu.c ****     unsigned short this_write;
 9408              		.loc 1 2858 5 is_stmt 1 view .LVU2755
2859:DMP/driver/eMPL/inv_mpu.c ****     /* Must divide evenly into st.hw->bank_size to avoid bank crossings. */
 9409              		.loc 1 2859 5 view .LVU2756
2862:DMP/driver/eMPL/inv_mpu.c **** 
 9410              		.loc 1 2862 5 view .LVU2757
2864:DMP/driver/eMPL/inv_mpu.c ****         /* DMP should only be loaded once. */
 9411              		.loc 1 2864 5 view .LVU2758
2864:DMP/driver/eMPL/inv_mpu.c ****         /* DMP should only be loaded once. */
 9412              		.loc 1 2864 20 is_stmt 0 view .LVU2759
 9413 0008 294B     		ldr	r3, .L736
 9414              	.LVL638:
2864:DMP/driver/eMPL/inv_mpu.c ****         /* DMP should only be loaded once. */
 9415              		.loc 1 2864 20 view .LVU2760
 9416 000a 93F82530 		ldrb	r3, [r3, #37]	@ zero_extendqisi2
2864:DMP/driver/eMPL/inv_mpu.c ****         /* DMP should only be loaded once. */
 9417              		.loc 1 2864 8 view .LVU2761
 9418 000e 002B     		cmp	r3, #0
 9419 0010 3CD1     		bne	.L728
 9420 0012 0746     		mov	r7, r0
 9421 0014 8846     		mov	r8, r1
 9422 0016 9146     		mov	r9, r2
2868:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9423              		.loc 1 2868 5 is_stmt 1 view .LVU2762
2868:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9424              		.loc 1 2868 8 is_stmt 0 view .LVU2763
 9425 0018 0029     		cmp	r1, #0
 9426 001a 3AD0     		beq	.L729
2870:DMP/driver/eMPL/inv_mpu.c ****         this_write = min(LOAD_CHUNK, length - ii);
 9427              		.loc 1 2870 13 view .LVU2764
 9428 001c 0024     		movs	r4, #0
 9429              	.LVL639:
 9430              	.L726:
2870:DMP/driver/eMPL/inv_mpu.c ****         this_write = min(LOAD_CHUNK, length - ii);
 9431              		.loc 1 2870 21 is_stmt 1 discriminator 1 view .LVU2765
 9432 001e BC42     		cmp	r4, r7
 9433 0020 1BD2     		bcs	.L735
2871:DMP/driver/eMPL/inv_mpu.c ****         if (mpu_write_mem(ii, this_write, (unsigned char*)&firmware[ii]))
 9434              		.loc 1 2871 9 view .LVU2766
2871:DMP/driver/eMPL/inv_mpu.c ****         if (mpu_write_mem(ii, this_write, (unsigned char*)&firmware[ii]))
 9435              		.loc 1 2871 22 is_stmt 0 view .LVU2767
 9436 0022 3E1B     		subs	r6, r7, r4
 9437 0024 102E     		cmp	r6, #16
 9438 0026 A8BF     		it	ge
 9439 0028 1026     		movge	r6, #16
2871:DMP/driver/eMPL/inv_mpu.c ****         if (mpu_write_mem(ii, this_write, (unsigned char*)&firmware[ii]))
 9440              		.loc 1 2871 20 view .LVU2768
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 259


 9441 002a B5B2     		uxth	r5, r6
 9442              	.LVL640:
2872:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 9443              		.loc 1 2872 9 is_stmt 1 view .LVU2769
2872:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 9444              		.loc 1 2872 59 is_stmt 0 view .LVU2770
 9445 002c 08EB040B 		add	fp, r8, r4
2872:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 9446              		.loc 1 2872 13 view .LVU2771
 9447 0030 5A46     		mov	r2, fp
 9448 0032 2946     		mov	r1, r5
 9449 0034 2046     		mov	r0, r4
 9450 0036 FFF7FEFF 		bl	mpu_write_mem
 9451              	.LVL641:
2872:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 9452              		.loc 1 2872 12 view .LVU2772
 9453 003a 68BB     		cbnz	r0, .L730
2874:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 9454              		.loc 1 2874 9 is_stmt 1 view .LVU2773
2874:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 9455              		.loc 1 2874 13 is_stmt 0 view .LVU2774
 9456 003c 02AA     		add	r2, sp, #8
 9457 003e 2946     		mov	r1, r5
 9458 0040 2046     		mov	r0, r4
 9459 0042 FFF7FEFF 		bl	mpu_read_mem
 9460              	.LVL642:
2874:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 9461              		.loc 1 2874 12 view .LVU2775
 9462 0046 50BB     		cbnz	r0, .L731
2876:DMP/driver/eMPL/inv_mpu.c ****             return -2;
 9463              		.loc 1 2876 9 is_stmt 1 view .LVU2776
2876:DMP/driver/eMPL/inv_mpu.c ****             return -2;
 9464              		.loc 1 2876 13 is_stmt 0 view .LVU2777
 9465 0048 2A46     		mov	r2, r5
 9466 004a 02A9     		add	r1, sp, #8
 9467 004c 5846     		mov	r0, fp
 9468 004e FFF7FEFF 		bl	memcmp
 9469              	.LVL643:
2876:DMP/driver/eMPL/inv_mpu.c ****             return -2;
 9470              		.loc 1 2876 12 view .LVU2778
 9471 0052 38BB     		cbnz	r0, .L732
2870:DMP/driver/eMPL/inv_mpu.c ****         this_write = min(LOAD_CHUNK, length - ii);
 9472              		.loc 1 2870 34 is_stmt 1 discriminator 2 view .LVU2779
 9473 0054 2544     		add	r5, r5, r4
 9474              	.LVL644:
2870:DMP/driver/eMPL/inv_mpu.c ****         this_write = min(LOAD_CHUNK, length - ii);
 9475              		.loc 1 2870 34 is_stmt 0 discriminator 2 view .LVU2780
 9476 0056 ACB2     		uxth	r4, r5
 9477              	.LVL645:
2870:DMP/driver/eMPL/inv_mpu.c ****         this_write = min(LOAD_CHUNK, length - ii);
 9478              		.loc 1 2870 34 discriminator 2 view .LVU2781
 9479 0058 E1E7     		b	.L726
 9480              	.LVL646:
 9481              	.L735:
2881:DMP/driver/eMPL/inv_mpu.c ****     tmp[1] = start_addr & 0xFF;
 9482              		.loc 1 2881 5 is_stmt 1 view .LVU2782
2881:DMP/driver/eMPL/inv_mpu.c ****     tmp[1] = start_addr & 0xFF;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 260


 9483              		.loc 1 2881 12 is_stmt 0 view .LVU2783
 9484 005a 4FEA1923 		lsr	r3, r9, #8
 9485 005e 8DF80430 		strb	r3, [sp, #4]
2882:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->prgm_start_h, 2, tmp))
 9486              		.loc 1 2882 5 is_stmt 1 view .LVU2784
2882:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->prgm_start_h, 2, tmp))
 9487              		.loc 1 2882 12 is_stmt 0 view .LVU2785
 9488 0062 8DF80590 		strb	r9, [sp, #5]
2883:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9489              		.loc 1 2883 5 is_stmt 1 view .LVU2786
2883:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9490              		.loc 1 2883 21 is_stmt 0 view .LVU2787
 9491 0066 124B     		ldr	r3, .L736
 9492 0068 5868     		ldr	r0, [r3, #4]
2883:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9493              		.loc 1 2883 34 view .LVU2788
 9494 006a 1968     		ldr	r1, [r3]
2883:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9495              		.loc 1 2883 9 view .LVU2789
 9496 006c 01AB     		add	r3, sp, #4
 9497 006e 0222     		movs	r2, #2
 9498 0070 497F     		ldrb	r1, [r1, #29]	@ zero_extendqisi2
 9499 0072 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 9500 0074 FFF7FEFF 		bl	MPU_Write_Len
 9501              	.LVL647:
2883:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 9502              		.loc 1 2883 8 view .LVU2790
 9503 0078 B8B9     		cbnz	r0, .L733
2886:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.dmp_sample_rate = sample_rate;
 9504              		.loc 1 2886 5 is_stmt 1 view .LVU2791
2886:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.dmp_sample_rate = sample_rate;
 9505              		.loc 1 2886 28 is_stmt 0 view .LVU2792
 9506 007a 0D4B     		ldr	r3, .L736
 9507 007c 0122     		movs	r2, #1
 9508 007e 83F82520 		strb	r2, [r3, #37]
2887:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 9509              		.loc 1 2887 5 is_stmt 1 view .LVU2793
2887:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 9510              		.loc 1 2887 33 is_stmt 0 view .LVU2794
 9511 0082 A3F826A0 		strh	r10, [r3, #38]	@ movhi
2888:DMP/driver/eMPL/inv_mpu.c **** }
 9512              		.loc 1 2888 5 is_stmt 1 view .LVU2795
 9513              	.LVL648:
 9514              	.L724:
2889:DMP/driver/eMPL/inv_mpu.c **** 
 9515              		.loc 1 2889 1 is_stmt 0 view .LVU2796
 9516 0086 07B0     		add	sp, sp, #28
 9517              	.LCFI168:
 9518              		.cfi_remember_state
 9519              		.cfi_def_cfa_offset 36
 9520              		@ sp needed
 9521 0088 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 9522              	.LVL649:
 9523              	.L728:
 9524              	.LCFI169:
 9525              		.cfi_restore_state
2866:DMP/driver/eMPL/inv_mpu.c **** 
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 261


 9526              		.loc 1 2866 16 view .LVU2797
 9527 008c 4FF0FF30 		mov	r0, #-1
 9528              	.LVL650:
2866:DMP/driver/eMPL/inv_mpu.c **** 
 9529              		.loc 1 2866 16 view .LVU2798
 9530 0090 F9E7     		b	.L724
 9531              	.LVL651:
 9532              	.L729:
2869:DMP/driver/eMPL/inv_mpu.c ****     for (ii = 0; ii < length; ii += this_write) {
 9533              		.loc 1 2869 16 view .LVU2799
 9534 0092 4FF0FF30 		mov	r0, #-1
 9535              	.LVL652:
2869:DMP/driver/eMPL/inv_mpu.c ****     for (ii = 0; ii < length; ii += this_write) {
 9536              		.loc 1 2869 16 view .LVU2800
 9537 0096 F6E7     		b	.L724
 9538              	.LVL653:
 9539              	.L730:
2873:DMP/driver/eMPL/inv_mpu.c ****         if (mpu_read_mem(ii, this_write, cur))
 9540              		.loc 1 2873 20 view .LVU2801
 9541 0098 4FF0FF30 		mov	r0, #-1
 9542 009c F3E7     		b	.L724
 9543              	.L731:
2875:DMP/driver/eMPL/inv_mpu.c ****         if (memcmp(firmware+ii, cur, this_write))
 9544              		.loc 1 2875 20 view .LVU2802
 9545 009e 4FF0FF30 		mov	r0, #-1
 9546 00a2 F0E7     		b	.L724
 9547              	.L732:
2877:DMP/driver/eMPL/inv_mpu.c ****     }
 9548              		.loc 1 2877 20 view .LVU2803
 9549 00a4 6FF00100 		mvn	r0, #1
 9550 00a8 EDE7     		b	.L724
 9551              	.LVL654:
 9552              	.L733:
2884:DMP/driver/eMPL/inv_mpu.c **** 
 9553              		.loc 1 2884 16 view .LVU2804
 9554 00aa 4FF0FF30 		mov	r0, #-1
 9555 00ae EAE7     		b	.L724
 9556              	.L737:
 9557              		.align	2
 9558              	.L736:
 9559 00b0 00000000 		.word	st
 9560              		.cfi_endproc
 9561              	.LFE213:
 9563              		.section	.text.mpu_set_dmp_state,"ax",%progbits
 9564              		.align	1
 9565              		.global	mpu_set_dmp_state
 9566              		.syntax unified
 9567              		.thumb
 9568              		.thumb_func
 9570              	mpu_set_dmp_state:
 9571              	.LVL655:
 9572              	.LFB214:
2897:DMP/driver/eMPL/inv_mpu.c ****     unsigned char tmp;
 9573              		.loc 1 2897 1 is_stmt 1 view -0
 9574              		.cfi_startproc
 9575              		@ args = 0, pretend = 0, frame = 8
 9576              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 262


2898:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.dmp_on == enable)
 9577              		.loc 1 2898 5 view .LVU2806
2899:DMP/driver/eMPL/inv_mpu.c ****         return 0;
 9578              		.loc 1 2899 5 view .LVU2807
2899:DMP/driver/eMPL/inv_mpu.c ****         return 0;
 9579              		.loc 1 2899 20 is_stmt 0 view .LVU2808
 9580 0000 234B     		ldr	r3, .L747
 9581 0002 93F82430 		ldrb	r3, [r3, #36]	@ zero_extendqisi2
2899:DMP/driver/eMPL/inv_mpu.c ****         return 0;
 9582              		.loc 1 2899 8 view .LVU2809
 9583 0006 8342     		cmp	r3, r0
 9584 0008 3CD0     		beq	.L741
2897:DMP/driver/eMPL/inv_mpu.c ****     unsigned char tmp;
 9585              		.loc 1 2897 1 view .LVU2810
 9586 000a 30B5     		push	{r4, r5, lr}
 9587              	.LCFI170:
 9588              		.cfi_def_cfa_offset 12
 9589              		.cfi_offset 4, -12
 9590              		.cfi_offset 5, -8
 9591              		.cfi_offset 14, -4
 9592 000c 83B0     		sub	sp, sp, #12
 9593              	.LCFI171:
 9594              		.cfi_def_cfa_offset 24
2902:DMP/driver/eMPL/inv_mpu.c ****         if (!st.chip_cfg.dmp_loaded)
 9595              		.loc 1 2902 5 is_stmt 1 view .LVU2811
2902:DMP/driver/eMPL/inv_mpu.c ****         if (!st.chip_cfg.dmp_loaded)
 9596              		.loc 1 2902 8 is_stmt 0 view .LVU2812
 9597 000e 18B3     		cbz	r0, .L740
2903:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 9598              		.loc 1 2903 9 is_stmt 1 view .LVU2813
2903:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 9599              		.loc 1 2903 25 is_stmt 0 view .LVU2814
 9600 0010 1F4B     		ldr	r3, .L747
 9601 0012 93F82530 		ldrb	r3, [r3, #37]	@ zero_extendqisi2
2903:DMP/driver/eMPL/inv_mpu.c ****             return -1;
 9602              		.loc 1 2903 12 view .LVU2815
 9603 0016 002B     		cmp	r3, #0
 9604 0018 36D0     		beq	.L742
2906:DMP/driver/eMPL/inv_mpu.c ****         /* Disable bypass mode. */
 9605              		.loc 1 2906 9 is_stmt 1 view .LVU2816
 9606 001a 0020     		movs	r0, #0
 9607              	.LVL656:
2906:DMP/driver/eMPL/inv_mpu.c ****         /* Disable bypass mode. */
 9608              		.loc 1 2906 9 is_stmt 0 view .LVU2817
 9609 001c FFF7FEFF 		bl	set_int_enable
 9610              	.LVL657:
2908:DMP/driver/eMPL/inv_mpu.c ****         /* Keep constant sample rate, FIFO rate controlled by DMP. */
 9611              		.loc 1 2908 9 is_stmt 1 view .LVU2818
 9612 0020 0020     		movs	r0, #0
 9613 0022 FFF7FEFF 		bl	mpu_set_bypass
 9614              	.LVL658:
2910:DMP/driver/eMPL/inv_mpu.c ****         /* Remove FIFO elements. */
 9615              		.loc 1 2910 9 view .LVU2819
 9616 0026 1A4D     		ldr	r5, .L747
 9617 0028 E88C     		ldrh	r0, [r5, #38]
 9618 002a FFF7FEFF 		bl	mpu_set_sample_rate
 9619              	.LVL659:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 263


2912:DMP/driver/eMPL/inv_mpu.c ****         i2c_write(st.hw->addr, 0x23, 1, &tmp);
 9620              		.loc 1 2912 9 view .LVU2820
2912:DMP/driver/eMPL/inv_mpu.c ****         i2c_write(st.hw->addr, 0x23, 1, &tmp);
 9621              		.loc 1 2912 13 is_stmt 0 view .LVU2821
 9622 002e 0024     		movs	r4, #0
 9623 0030 8DF80740 		strb	r4, [sp, #7]
2913:DMP/driver/eMPL/inv_mpu.c ****         st.chip_cfg.dmp_on = 1;
 9624              		.loc 1 2913 9 is_stmt 1 view .LVU2822
2913:DMP/driver/eMPL/inv_mpu.c ****         st.chip_cfg.dmp_on = 1;
 9625              		.loc 1 2913 21 is_stmt 0 view .LVU2823
 9626 0034 6868     		ldr	r0, [r5, #4]
2913:DMP/driver/eMPL/inv_mpu.c ****         st.chip_cfg.dmp_on = 1;
 9627              		.loc 1 2913 9 view .LVU2824
 9628 0036 0DF10703 		add	r3, sp, #7
 9629 003a 0122     		movs	r2, #1
 9630 003c 2321     		movs	r1, #35
 9631 003e 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 9632 0040 FFF7FEFF 		bl	MPU_Write_Len
 9633              	.LVL660:
2914:DMP/driver/eMPL/inv_mpu.c ****         /* Enable DMP interrupt. */
 9634              		.loc 1 2914 9 is_stmt 1 view .LVU2825
2914:DMP/driver/eMPL/inv_mpu.c ****         /* Enable DMP interrupt. */
 9635              		.loc 1 2914 28 is_stmt 0 view .LVU2826
 9636 0044 0120     		movs	r0, #1
 9637 0046 85F82400 		strb	r0, [r5, #36]
2916:DMP/driver/eMPL/inv_mpu.c ****         mpu_reset_fifo();
 9638              		.loc 1 2916 9 is_stmt 1 view .LVU2827
 9639 004a FFF7FEFF 		bl	set_int_enable
 9640              	.LVL661:
2917:DMP/driver/eMPL/inv_mpu.c ****     } else {
 9641              		.loc 1 2917 9 view .LVU2828
 9642 004e FFF7FEFF 		bl	mpu_reset_fifo
 9643              	.LVL662:
2927:DMP/driver/eMPL/inv_mpu.c **** }
 9644              		.loc 1 2927 12 is_stmt 0 view .LVU2829
 9645 0052 2046     		mov	r0, r4
 9646              	.L738:
2928:DMP/driver/eMPL/inv_mpu.c **** 
 9647              		.loc 1 2928 1 view .LVU2830
 9648 0054 03B0     		add	sp, sp, #12
 9649              	.LCFI172:
 9650              		.cfi_remember_state
 9651              		.cfi_def_cfa_offset 12
 9652              		@ sp needed
 9653 0056 30BD     		pop	{r4, r5, pc}
 9654              	.LVL663:
 9655              	.L740:
 9656              	.LCFI173:
 9657              		.cfi_restore_state
2920:DMP/driver/eMPL/inv_mpu.c ****         /* Restore FIFO settings. */
 9658              		.loc 1 2920 9 is_stmt 1 view .LVU2831
 9659 0058 0020     		movs	r0, #0
 9660              	.LVL664:
2920:DMP/driver/eMPL/inv_mpu.c ****         /* Restore FIFO settings. */
 9661              		.loc 1 2920 9 is_stmt 0 view .LVU2832
 9662 005a FFF7FEFF 		bl	set_int_enable
 9663              	.LVL665:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 264


2922:DMP/driver/eMPL/inv_mpu.c ****         i2c_write(st.hw->addr, 0x23, 1, &tmp);
 9664              		.loc 1 2922 9 is_stmt 1 view .LVU2833
2922:DMP/driver/eMPL/inv_mpu.c ****         i2c_write(st.hw->addr, 0x23, 1, &tmp);
 9665              		.loc 1 2922 26 is_stmt 0 view .LVU2834
 9666 005e 0C4D     		ldr	r5, .L747
 9667 0060 2B7C     		ldrb	r3, [r5, #16]	@ zero_extendqisi2
2922:DMP/driver/eMPL/inv_mpu.c ****         i2c_write(st.hw->addr, 0x23, 1, &tmp);
 9668              		.loc 1 2922 13 view .LVU2835
 9669 0062 8DF80730 		strb	r3, [sp, #7]
2923:DMP/driver/eMPL/inv_mpu.c ****         st.chip_cfg.dmp_on = 0;
 9670              		.loc 1 2923 9 is_stmt 1 view .LVU2836
2923:DMP/driver/eMPL/inv_mpu.c ****         st.chip_cfg.dmp_on = 0;
 9671              		.loc 1 2923 21 is_stmt 0 view .LVU2837
 9672 0066 6868     		ldr	r0, [r5, #4]
2923:DMP/driver/eMPL/inv_mpu.c ****         st.chip_cfg.dmp_on = 0;
 9673              		.loc 1 2923 9 view .LVU2838
 9674 0068 0DF10703 		add	r3, sp, #7
 9675 006c 0122     		movs	r2, #1
 9676 006e 2321     		movs	r1, #35
 9677 0070 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 9678 0072 FFF7FEFF 		bl	MPU_Write_Len
 9679              	.LVL666:
2924:DMP/driver/eMPL/inv_mpu.c ****         mpu_reset_fifo();
 9680              		.loc 1 2924 9 is_stmt 1 view .LVU2839
2924:DMP/driver/eMPL/inv_mpu.c ****         mpu_reset_fifo();
 9681              		.loc 1 2924 28 is_stmt 0 view .LVU2840
 9682 0076 0024     		movs	r4, #0
 9683 0078 85F82440 		strb	r4, [r5, #36]
2925:DMP/driver/eMPL/inv_mpu.c ****     }
 9684              		.loc 1 2925 9 is_stmt 1 view .LVU2841
 9685 007c FFF7FEFF 		bl	mpu_reset_fifo
 9686              	.LVL667:
2927:DMP/driver/eMPL/inv_mpu.c **** }
 9687              		.loc 1 2927 12 is_stmt 0 view .LVU2842
 9688 0080 2046     		mov	r0, r4
 9689 0082 E7E7     		b	.L738
 9690              	.LVL668:
 9691              	.L741:
 9692              	.LCFI174:
 9693              		.cfi_def_cfa_offset 0
 9694              		.cfi_restore 4
 9695              		.cfi_restore 5
 9696              		.cfi_restore 14
2900:DMP/driver/eMPL/inv_mpu.c **** 
 9697              		.loc 1 2900 16 view .LVU2843
 9698 0084 0020     		movs	r0, #0
 9699              	.LVL669:
2928:DMP/driver/eMPL/inv_mpu.c **** 
 9700              		.loc 1 2928 1 view .LVU2844
 9701 0086 7047     		bx	lr
 9702              	.LVL670:
 9703              	.L742:
 9704              	.LCFI175:
 9705              		.cfi_def_cfa_offset 24
 9706              		.cfi_offset 4, -12
 9707              		.cfi_offset 5, -8
 9708              		.cfi_offset 14, -4
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 265


2904:DMP/driver/eMPL/inv_mpu.c ****         /* Disable data ready interrupt. */
 9709              		.loc 1 2904 20 view .LVU2845
 9710 0088 4FF0FF30 		mov	r0, #-1
 9711              	.LVL671:
2904:DMP/driver/eMPL/inv_mpu.c ****         /* Disable data ready interrupt. */
 9712              		.loc 1 2904 20 view .LVU2846
 9713 008c E2E7     		b	.L738
 9714              	.L748:
 9715 008e 00BF     		.align	2
 9716              	.L747:
 9717 0090 00000000 		.word	st
 9718              		.cfi_endproc
 9719              	.LFE214:
 9721              		.section	.rodata.mpu_run_6500_self_test.str1.4,"aMS",%progbits,1
 9722              		.align	2
 9723              	.LC29:
 9724 0000 53746172 		.ascii	"Starting MPU6500 HWST!\015\000"
 9724      74696E67 
 9724      204D5055 
 9724      36353030 
 9724      20485753 
 9725              		.align	2
 9726              	.LC30:
 9727 0018 52657472 		.ascii	"Retrieving Biases\015\000"
 9727      69657669 
 9727      6E672042 
 9727      69617365 
 9727      730D00
 9728 002b 00       		.align	2
 9729              	.LC31:
 9730 002c 52657472 		.ascii	"Retrieving Biases Error - possible I2C error\000"
 9730      69657669 
 9730      6E672042 
 9730      69617365 
 9730      73204572 
 9731 0059 000000   		.align	2
 9732              	.LC32:
 9733 005c 52657472 		.ascii	"Retrieving ST Biases\000"
 9733      69657669 
 9733      6E672053 
 9733      54204269 
 9733      61736573 
 9734 0071 000000   		.align	2
 9735              	.LC33:
 9736 0074 52657472 		.ascii	"Retrieving ST Biases Error - possible I2C error\000"
 9736      69657669 
 9736      6E672053 
 9736      54204269 
 9736      61736573 
 9737              		.align	2
 9738              	.LC34:
 9739 00a4 41636365 		.ascii	"Accel Self Test Results: %d\012\000"
 9739      6C205365 
 9739      6C662054 
 9739      65737420 
 9739      52657375 
 9740 00c1 000000   		.align	2
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 266


 9741              	.LC35:
 9742 00c4 4779726F 		.ascii	"Gyro Self Test Results: %d\012\000"
 9742      2053656C 
 9742      66205465 
 9742      73742052 
 9742      6573756C 
 9743              		.align	2
 9744              	.LC36:
 9745 00e0 436F6D70 		.ascii	"Compass Self Test Results: %d\012\000"
 9745      61737320 
 9745      53656C66 
 9745      20546573 
 9745      74205265 
 9746 00ff 00       		.align	2
 9747              	.LC37:
 9748 0100 45786974 		.ascii	"Exiting HWST\000"
 9748      696E6720 
 9748      48575354 
 9748      00
 9749              		.section	.text.mpu_run_6500_self_test,"ax",%progbits
 9750              		.align	1
 9751              		.global	mpu_run_6500_self_test
 9752              		.syntax unified
 9753              		.thumb
 9754              		.thumb_func
 9756              	mpu_run_6500_self_test:
 9757              	.LVL672:
 9758              	.LFB209:
2566:DMP/driver/eMPL/inv_mpu.c ****     const unsigned char tries = 2;
 9759              		.loc 1 2566 1 is_stmt 1 view -0
 9760              		.cfi_startproc
 9761              		@ args = 0, pretend = 0, frame = 32
 9762              		@ frame_needed = 0, uses_anonymous_args = 0
2566:DMP/driver/eMPL/inv_mpu.c ****     const unsigned char tries = 2;
 9763              		.loc 1 2566 1 is_stmt 0 view .LVU2848
 9764 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 9765              	.LCFI176:
 9766              		.cfi_def_cfa_offset 28
 9767              		.cfi_offset 4, -28
 9768              		.cfi_offset 5, -24
 9769              		.cfi_offset 6, -20
 9770              		.cfi_offset 7, -16
 9771              		.cfi_offset 8, -12
 9772              		.cfi_offset 9, -8
 9773              		.cfi_offset 14, -4
 9774 0004 89B0     		sub	sp, sp, #36
 9775              	.LCFI177:
 9776              		.cfi_def_cfa_offset 64
 9777 0006 0646     		mov	r6, r0
 9778 0008 8946     		mov	r9, r1
2567:DMP/driver/eMPL/inv_mpu.c ****     long gyro_st[3], accel_st[3];
 9779              		.loc 1 2567 5 is_stmt 1 view .LVU2849
 9780              	.LVL673:
2568:DMP/driver/eMPL/inv_mpu.c ****     unsigned char accel_result, gyro_result;
 9781              		.loc 1 2568 5 view .LVU2850
2569:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
 9782              		.loc 1 2569 5 view .LVU2851
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 267


2571:DMP/driver/eMPL/inv_mpu.c **** #endif
 9783              		.loc 1 2571 5 view .LVU2852
2573:DMP/driver/eMPL/inv_mpu.c **** 
 9784              		.loc 1 2573 5 view .LVU2853
2575:DMP/driver/eMPL/inv_mpu.c ****     unsigned char accel_fsr, fifo_sensors, sensors_on;
 9785              		.loc 1 2575 5 view .LVU2854
2576:DMP/driver/eMPL/inv_mpu.c ****     unsigned short gyro_fsr, sample_rate, lpf;
 9786              		.loc 1 2576 5 view .LVU2855
2577:DMP/driver/eMPL/inv_mpu.c ****     unsigned char dmp_was_on;
 9787              		.loc 1 2577 5 view .LVU2856
2578:DMP/driver/eMPL/inv_mpu.c **** 
 9788              		.loc 1 2578 5 view .LVU2857
2582:DMP/driver/eMPL/inv_mpu.c ****     	log_i("Starting MPU6500 HWST!\r\n");
 9789              		.loc 1 2582 5 view .LVU2858
2582:DMP/driver/eMPL/inv_mpu.c ****     	log_i("Starting MPU6500 HWST!\r\n");
 9790              		.loc 1 2582 7 is_stmt 0 view .LVU2859
 9791 000a 1446     		mov	r4, r2
 9792 000c 2ABB     		cbnz	r2, .L774
 9793              	.LVL674:
 9794              	.L750:
2585:DMP/driver/eMPL/inv_mpu.c ****         mpu_set_dmp_state(0);
 9795              		.loc 1 2585 5 is_stmt 1 view .LVU2860
2585:DMP/driver/eMPL/inv_mpu.c ****         mpu_set_dmp_state(0);
 9796              		.loc 1 2585 20 is_stmt 0 view .LVU2861
 9797 000e 5D4B     		ldr	r3, .L786
 9798 0010 93F82470 		ldrb	r7, [r3, #36]	@ zero_extendqisi2
2585:DMP/driver/eMPL/inv_mpu.c ****         mpu_set_dmp_state(0);
 9799              		.loc 1 2585 8 view .LVU2862
 9800 0014 2FBB     		cbnz	r7, .L775
 9801              	.L751:
 9802              	.LVL675:
2592:DMP/driver/eMPL/inv_mpu.c ****     mpu_get_accel_fsr(&accel_fsr);
 9803              		.loc 1 2592 5 is_stmt 1 view .LVU2863
 9804 0016 01A8     		add	r0, sp, #4
 9805 0018 FFF7FEFF 		bl	mpu_get_gyro_fsr
 9806              	.LVL676:
2593:DMP/driver/eMPL/inv_mpu.c ****     mpu_get_lpf(&lpf);
 9807              		.loc 1 2593 5 view .LVU2864
 9808 001c 0DF10700 		add	r0, sp, #7
 9809 0020 FFF7FEFF 		bl	mpu_get_accel_fsr
 9810              	.LVL677:
2594:DMP/driver/eMPL/inv_mpu.c ****     mpu_get_sample_rate(&sample_rate);
 9811              		.loc 1 2594 5 view .LVU2865
 9812 0024 6846     		mov	r0, sp
 9813 0026 FFF7FEFF 		bl	mpu_get_lpf
 9814              	.LVL678:
2595:DMP/driver/eMPL/inv_mpu.c ****     sensors_on = st.chip_cfg.sensors;
 9815              		.loc 1 2595 5 view .LVU2866
 9816 002a 0DF10200 		add	r0, sp, #2
 9817 002e FFF7FEFF 		bl	mpu_get_sample_rate
 9818              	.LVL679:
2596:DMP/driver/eMPL/inv_mpu.c ****     mpu_get_fifo_config(&fifo_sensors);
 9819              		.loc 1 2596 5 view .LVU2867
2596:DMP/driver/eMPL/inv_mpu.c ****     mpu_get_fifo_config(&fifo_sensors);
 9820              		.loc 1 2596 16 is_stmt 0 view .LVU2868
 9821 0032 544B     		ldr	r3, .L786
 9822 0034 93F80A80 		ldrb	r8, [r3, #10]	@ zero_extendqisi2
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 268


 9823              	.LVL680:
2597:DMP/driver/eMPL/inv_mpu.c **** 
 9824              		.loc 1 2597 5 is_stmt 1 view .LVU2869
 9825 0038 0DF10600 		add	r0, sp, #6
 9826 003c FFF7FEFF 		bl	mpu_get_fifo_config
 9827              	.LVL681:
2599:DMP/driver/eMPL/inv_mpu.c ****     	log_i("Retrieving Biases\r\n");
 9828              		.loc 1 2599 5 view .LVU2870
2599:DMP/driver/eMPL/inv_mpu.c ****     	log_i("Retrieving Biases\r\n");
 9829              		.loc 1 2599 7 is_stmt 0 view .LVU2871
 9830 0040 A4B9     		cbnz	r4, .L776
 9831              	.L752:
2587:DMP/driver/eMPL/inv_mpu.c ****     } else
 9832              		.loc 1 2587 20 discriminator 1 view .LVU2872
 9833 0042 0025     		movs	r5, #0
 9834              	.L754:
 9835              	.LVL682:
2602:DMP/driver/eMPL/inv_mpu.c ****         if (!get_st_6500_biases(gyro, accel, 0, debug))
 9836              		.loc 1 2602 21 is_stmt 1 discriminator 1 view .LVU2873
 9837 0044 012D     		cmp	r5, #1
 9838 0046 15DC     		bgt	.L753
2603:DMP/driver/eMPL/inv_mpu.c ****             break;
 9839              		.loc 1 2603 9 view .LVU2874
2603:DMP/driver/eMPL/inv_mpu.c ****             break;
 9840              		.loc 1 2603 14 is_stmt 0 view .LVU2875
 9841 0048 2346     		mov	r3, r4
 9842 004a 0022     		movs	r2, #0
 9843 004c 4946     		mov	r1, r9
 9844 004e 3046     		mov	r0, r6
 9845 0050 FFF7FEFF 		bl	get_st_6500_biases
 9846              	.LVL683:
2603:DMP/driver/eMPL/inv_mpu.c ****             break;
 9847              		.loc 1 2603 12 view .LVU2876
 9848 0054 70B1     		cbz	r0, .L753
2602:DMP/driver/eMPL/inv_mpu.c ****         if (!get_st_6500_biases(gyro, accel, 0, debug))
 9849              		.loc 1 2602 32 is_stmt 1 discriminator 2 view .LVU2877
 9850 0056 0135     		adds	r5, r5, #1
 9851              	.LVL684:
2602:DMP/driver/eMPL/inv_mpu.c ****         if (!get_st_6500_biases(gyro, accel, 0, debug))
 9852              		.loc 1 2602 32 is_stmt 0 discriminator 2 view .LVU2878
 9853 0058 F4E7     		b	.L754
 9854              	.LVL685:
 9855              	.L774:
2583:DMP/driver/eMPL/inv_mpu.c **** 
 9856              		.loc 1 2583 6 is_stmt 1 view .LVU2879
 9857 005a 4B48     		ldr	r0, .L786+4
 9858              	.LVL686:
2583:DMP/driver/eMPL/inv_mpu.c **** 
 9859              		.loc 1 2583 6 is_stmt 0 view .LVU2880
 9860 005c FFF7FEFF 		bl	puts
 9861              	.LVL687:
2583:DMP/driver/eMPL/inv_mpu.c **** 
 9862              		.loc 1 2583 6 view .LVU2881
 9863 0060 D5E7     		b	.L750
 9864              	.L775:
2586:DMP/driver/eMPL/inv_mpu.c ****         dmp_was_on = 1;
 9865              		.loc 1 2586 9 is_stmt 1 view .LVU2882
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 269


 9866 0062 0020     		movs	r0, #0
 9867 0064 FFF7FEFF 		bl	mpu_set_dmp_state
 9868              	.LVL688:
2587:DMP/driver/eMPL/inv_mpu.c ****     } else
 9869              		.loc 1 2587 9 view .LVU2883
2587:DMP/driver/eMPL/inv_mpu.c ****     } else
 9870              		.loc 1 2587 20 is_stmt 0 view .LVU2884
 9871 0068 0127     		movs	r7, #1
 9872 006a D4E7     		b	.L751
 9873              	.LVL689:
 9874              	.L776:
2600:DMP/driver/eMPL/inv_mpu.c **** 
 9875              		.loc 1 2600 6 is_stmt 1 view .LVU2885
 9876 006c 4748     		ldr	r0, .L786+8
 9877 006e FFF7FEFF 		bl	puts
 9878              	.LVL690:
 9879 0072 E6E7     		b	.L752
 9880              	.LVL691:
 9881              	.L753:
2605:DMP/driver/eMPL/inv_mpu.c ****         /* If we reach this point, we most likely encountered an I2C error.
 9882              		.loc 1 2605 5 view .LVU2886
2605:DMP/driver/eMPL/inv_mpu.c ****         /* If we reach this point, we most likely encountered an I2C error.
 9883              		.loc 1 2605 8 is_stmt 0 view .LVU2887
 9884 0074 022D     		cmp	r5, #2
 9885 0076 0CD0     		beq	.L777
2616:DMP/driver/eMPL/inv_mpu.c ****     	log_i("Retrieving ST Biases\n");
 9886              		.loc 1 2616 5 is_stmt 1 view .LVU2888
2616:DMP/driver/eMPL/inv_mpu.c ****     	log_i("Retrieving ST Biases\n");
 9887              		.loc 1 2616 7 is_stmt 0 view .LVU2889
 9888 0078 9CB9     		cbnz	r4, .L778
 9889              	.L759:
2587:DMP/driver/eMPL/inv_mpu.c ****     } else
 9890              		.loc 1 2587 20 discriminator 1 view .LVU2890
 9891 007a 0025     		movs	r5, #0
 9892              	.LVL692:
 9893              	.L761:
2619:DMP/driver/eMPL/inv_mpu.c ****         if (!get_st_6500_biases(gyro_st, accel_st, 1, debug))
 9894              		.loc 1 2619 21 is_stmt 1 discriminator 1 view .LVU2891
 9895 007c 012D     		cmp	r5, #1
 9896 007e 14DC     		bgt	.L760
2620:DMP/driver/eMPL/inv_mpu.c ****             break;
 9897              		.loc 1 2620 9 view .LVU2892
2620:DMP/driver/eMPL/inv_mpu.c ****             break;
 9898              		.loc 1 2620 14 is_stmt 0 view .LVU2893
 9899 0080 2346     		mov	r3, r4
 9900 0082 0122     		movs	r2, #1
 9901 0084 02A9     		add	r1, sp, #8
 9902 0086 05A8     		add	r0, sp, #20
 9903 0088 FFF7FEFF 		bl	get_st_6500_biases
 9904              	.LVL693:
2620:DMP/driver/eMPL/inv_mpu.c ****             break;
 9905              		.loc 1 2620 12 view .LVU2894
 9906 008c 68B1     		cbz	r0, .L760
2619:DMP/driver/eMPL/inv_mpu.c ****         if (!get_st_6500_biases(gyro_st, accel_st, 1, debug))
 9907              		.loc 1 2619 32 is_stmt 1 discriminator 2 view .LVU2895
 9908 008e 0135     		adds	r5, r5, #1
 9909              	.LVL694:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 270


2619:DMP/driver/eMPL/inv_mpu.c ****         if (!get_st_6500_biases(gyro_st, accel_st, 1, debug))
 9910              		.loc 1 2619 32 is_stmt 0 discriminator 2 view .LVU2896
 9911 0090 F4E7     		b	.L761
 9912              	.L777:
2609:DMP/driver/eMPL/inv_mpu.c ****         	log_i("Retrieving Biases Error - possible I2C error\n");
 9913              		.loc 1 2609 9 is_stmt 1 view .LVU2897
2609:DMP/driver/eMPL/inv_mpu.c ****         	log_i("Retrieving Biases Error - possible I2C error\n");
 9914              		.loc 1 2609 11 is_stmt 0 view .LVU2898
 9915 0092 0CB9     		cbnz	r4, .L779
2612:DMP/driver/eMPL/inv_mpu.c ****         goto restore;
 9916              		.loc 1 2612 16 view .LVU2899
 9917 0094 0025     		movs	r5, #0
 9918              	.LVL695:
2612:DMP/driver/eMPL/inv_mpu.c ****         goto restore;
 9919              		.loc 1 2612 16 view .LVU2900
 9920 0096 33E0     		b	.L757
 9921              	.LVL696:
 9922              	.L779:
2610:DMP/driver/eMPL/inv_mpu.c **** 
 9923              		.loc 1 2610 10 is_stmt 1 view .LVU2901
 9924 0098 3D48     		ldr	r0, .L786+12
 9925 009a FFF7FEFF 		bl	puts
 9926              	.LVL697:
2612:DMP/driver/eMPL/inv_mpu.c ****         goto restore;
 9927              		.loc 1 2612 9 view .LVU2902
2613:DMP/driver/eMPL/inv_mpu.c ****     }
 9928              		.loc 1 2613 9 view .LVU2903
2612:DMP/driver/eMPL/inv_mpu.c ****         goto restore;
 9929              		.loc 1 2612 16 is_stmt 0 view .LVU2904
 9930 009e 0025     		movs	r5, #0
 9931              	.LVL698:
2613:DMP/driver/eMPL/inv_mpu.c ****     }
 9932              		.loc 1 2613 9 view .LVU2905
 9933 00a0 2DE0     		b	.L758
 9934              	.LVL699:
 9935              	.L778:
2617:DMP/driver/eMPL/inv_mpu.c **** 
 9936              		.loc 1 2617 6 is_stmt 1 view .LVU2906
 9937 00a2 3C48     		ldr	r0, .L786+16
 9938 00a4 FFF7FEFF 		bl	puts
 9939              	.LVL700:
 9940 00a8 E7E7     		b	.L759
 9941              	.L760:
2622:DMP/driver/eMPL/inv_mpu.c **** 
 9942              		.loc 1 2622 5 view .LVU2907
2622:DMP/driver/eMPL/inv_mpu.c **** 
 9943              		.loc 1 2622 8 is_stmt 0 view .LVU2908
 9944 00aa 022D     		cmp	r5, #2
 9945 00ac 07D1     		bne	.L763
2624:DMP/driver/eMPL/inv_mpu.c ****         	log_i("Retrieving ST Biases Error - possible I2C error\n");
 9946              		.loc 1 2624 9 is_stmt 1 view .LVU2909
2624:DMP/driver/eMPL/inv_mpu.c ****         	log_i("Retrieving ST Biases Error - possible I2C error\n");
 9947              		.loc 1 2624 11 is_stmt 0 view .LVU2910
 9948 00ae 0CB9     		cbnz	r4, .L780
2628:DMP/driver/eMPL/inv_mpu.c ****         goto restore;
 9949              		.loc 1 2628 16 view .LVU2911
 9950 00b0 0025     		movs	r5, #0
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 271


 9951              	.LVL701:
2628:DMP/driver/eMPL/inv_mpu.c ****         goto restore;
 9952              		.loc 1 2628 16 view .LVU2912
 9953 00b2 25E0     		b	.L757
 9954              	.LVL702:
 9955              	.L780:
2625:DMP/driver/eMPL/inv_mpu.c **** 
 9956              		.loc 1 2625 10 is_stmt 1 view .LVU2913
 9957 00b4 3848     		ldr	r0, .L786+20
 9958 00b6 FFF7FEFF 		bl	puts
 9959              	.LVL703:
2628:DMP/driver/eMPL/inv_mpu.c ****         goto restore;
 9960              		.loc 1 2628 9 view .LVU2914
2629:DMP/driver/eMPL/inv_mpu.c ****     }
 9961              		.loc 1 2629 9 view .LVU2915
2628:DMP/driver/eMPL/inv_mpu.c ****         goto restore;
 9962              		.loc 1 2628 16 is_stmt 0 view .LVU2916
 9963 00ba 0025     		movs	r5, #0
 9964              	.LVL704:
2629:DMP/driver/eMPL/inv_mpu.c ****     }
 9965              		.loc 1 2629 9 view .LVU2917
 9966 00bc 1FE0     		b	.L758
 9967              	.LVL705:
 9968              	.L763:
2632:DMP/driver/eMPL/inv_mpu.c ****     if(debug)
 9969              		.loc 1 2632 5 is_stmt 1 view .LVU2918
2632:DMP/driver/eMPL/inv_mpu.c ****     if(debug)
 9970              		.loc 1 2632 20 is_stmt 0 view .LVU2919
 9971 00be 2246     		mov	r2, r4
 9972 00c0 02A9     		add	r1, sp, #8
 9973 00c2 4846     		mov	r0, r9
 9974 00c4 FFF7FEFF 		bl	accel_6500_self_test
 9975              	.LVL706:
2632:DMP/driver/eMPL/inv_mpu.c ****     if(debug)
 9976              		.loc 1 2632 18 view .LVU2920
 9977 00c8 5FFA80F9 		uxtb	r9, r0
 9978              	.LVL707:
2633:DMP/driver/eMPL/inv_mpu.c ****     	log_i("Accel Self Test Results: %d\n", accel_result);
 9979              		.loc 1 2633 5 is_stmt 1 view .LVU2921
2633:DMP/driver/eMPL/inv_mpu.c ****     	log_i("Accel Self Test Results: %d\n", accel_result);
 9980              		.loc 1 2633 7 is_stmt 0 view .LVU2922
 9981 00cc 002C     		cmp	r4, #0
 9982 00ce 3FD1     		bne	.L781
 9983              	.L764:
2636:DMP/driver/eMPL/inv_mpu.c ****     if(debug)
 9984              		.loc 1 2636 5 is_stmt 1 view .LVU2923
2636:DMP/driver/eMPL/inv_mpu.c ****     if(debug)
 9985              		.loc 1 2636 19 is_stmt 0 view .LVU2924
 9986 00d0 2246     		mov	r2, r4
 9987 00d2 05A9     		add	r1, sp, #20
 9988 00d4 3046     		mov	r0, r6
 9989 00d6 FFF7FEFF 		bl	gyro_6500_self_test
 9990              	.LVL708:
2636:DMP/driver/eMPL/inv_mpu.c ****     if(debug)
 9991              		.loc 1 2636 17 view .LVU2925
 9992 00da C5B2     		uxtb	r5, r0
 9993              	.LVL709:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 272


2637:DMP/driver/eMPL/inv_mpu.c ****     	log_i("Gyro Self Test Results: %d\n", gyro_result);
 9994              		.loc 1 2637 5 is_stmt 1 view .LVU2926
2637:DMP/driver/eMPL/inv_mpu.c ****     	log_i("Gyro Self Test Results: %d\n", gyro_result);
 9995              		.loc 1 2637 7 is_stmt 0 view .LVU2927
 9996 00dc 002C     		cmp	r4, #0
 9997 00de 3CD1     		bne	.L782
 9998              	.L765:
2640:DMP/driver/eMPL/inv_mpu.c ****     if (!gyro_result)
 9999              		.loc 1 2640 5 is_stmt 1 view .LVU2928
 10000              	.LVL710:
2641:DMP/driver/eMPL/inv_mpu.c ****         result |= 0x01;
 10001              		.loc 1 2641 5 view .LVU2929
2641:DMP/driver/eMPL/inv_mpu.c ****         result |= 0x01;
 10002              		.loc 1 2641 8 is_stmt 0 view .LVU2930
 10003 00e0 002D     		cmp	r5, #0
 10004 00e2 3FD0     		beq	.L772
2640:DMP/driver/eMPL/inv_mpu.c ****     if (!gyro_result)
 10005              		.loc 1 2640 12 view .LVU2931
 10006 00e4 0025     		movs	r5, #0
 10007              	.LVL711:
 10008              	.L766:
2643:DMP/driver/eMPL/inv_mpu.c ****         result |= 0x02;
 10009              		.loc 1 2643 5 is_stmt 1 view .LVU2932
2643:DMP/driver/eMPL/inv_mpu.c ****         result |= 0x02;
 10010              		.loc 1 2643 8 is_stmt 0 view .LVU2933
 10011 00e6 B9F1000F 		cmp	r9, #0
 10012 00ea 01D1     		bne	.L767
2644:DMP/driver/eMPL/inv_mpu.c **** 
 10013              		.loc 1 2644 9 is_stmt 1 view .LVU2934
2644:DMP/driver/eMPL/inv_mpu.c **** 
 10014              		.loc 1 2644 16 is_stmt 0 view .LVU2935
 10015 00ec 45F00205 		orr	r5, r5, #2
 10016              	.LVL712:
 10017              	.L767:
2647:DMP/driver/eMPL/inv_mpu.c ****     if(debug)
 10018              		.loc 1 2647 5 is_stmt 1 view .LVU2936
2647:DMP/driver/eMPL/inv_mpu.c ****     if(debug)
 10019              		.loc 1 2647 22 is_stmt 0 view .LVU2937
 10020 00f0 FFF7FEFF 		bl	compass_self_test
 10021              	.LVL713:
2647:DMP/driver/eMPL/inv_mpu.c ****     if(debug)
 10022              		.loc 1 2647 20 view .LVU2938
 10023 00f4 C6B2     		uxtb	r6, r0
 10024              	.LVL714:
2648:DMP/driver/eMPL/inv_mpu.c ****     	log_i("Compass Self Test Results: %d\n", compass_result);
 10025              		.loc 1 2648 5 is_stmt 1 view .LVU2939
2648:DMP/driver/eMPL/inv_mpu.c ****     	log_i("Compass Self Test Results: %d\n", compass_result);
 10026              		.loc 1 2648 7 is_stmt 0 view .LVU2940
 10027 00f6 BCBB     		cbnz	r4, .L783
 10028              	.L768:
2650:DMP/driver/eMPL/inv_mpu.c ****         result |= 0x04;
 10029              		.loc 1 2650 5 is_stmt 1 view .LVU2941
2650:DMP/driver/eMPL/inv_mpu.c ****         result |= 0x04;
 10030              		.loc 1 2650 8 is_stmt 0 view .LVU2942
 10031 00f8 0EB9     		cbnz	r6, .L758
2651:DMP/driver/eMPL/inv_mpu.c **** #else
 10032              		.loc 1 2651 9 is_stmt 1 view .LVU2943
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 273


2651:DMP/driver/eMPL/inv_mpu.c **** #else
 10033              		.loc 1 2651 16 is_stmt 0 view .LVU2944
 10034 00fa 45F00405 		orr	r5, r5, #4
 10035              	.LVL715:
 10036              	.L758:
2656:DMP/driver/eMPL/inv_mpu.c **** 		log_i("Exiting HWST\n");
 10037              		.loc 1 2656 2 is_stmt 1 view .LVU2945
2656:DMP/driver/eMPL/inv_mpu.c **** 		log_i("Exiting HWST\n");
 10038              		.loc 1 2656 4 is_stmt 0 view .LVU2946
 10039 00fe C4BB     		cbnz	r4, .L784
 10040              	.LVL716:
 10041              	.L757:
2659:DMP/driver/eMPL/inv_mpu.c **** 	st.chip_cfg.accel_fsr = 0xFF;
 10042              		.loc 1 2659 2 is_stmt 1 view .LVU2947
2659:DMP/driver/eMPL/inv_mpu.c **** 	st.chip_cfg.accel_fsr = 0xFF;
 10043              		.loc 1 2659 23 is_stmt 0 view .LVU2948
 10044 0100 204B     		ldr	r3, .L786
 10045 0102 FF22     		movs	r2, #255
 10046 0104 1A72     		strb	r2, [r3, #8]
2660:DMP/driver/eMPL/inv_mpu.c **** 	st.chip_cfg.lpf = 0xFF;
 10047              		.loc 1 2660 2 is_stmt 1 view .LVU2949
2660:DMP/driver/eMPL/inv_mpu.c **** 	st.chip_cfg.lpf = 0xFF;
 10048              		.loc 1 2660 24 is_stmt 0 view .LVU2950
 10049 0106 5A72     		strb	r2, [r3, #9]
2661:DMP/driver/eMPL/inv_mpu.c **** 	st.chip_cfg.sample_rate = 0xFFFF;
 10050              		.loc 1 2661 2 is_stmt 1 view .LVU2951
2661:DMP/driver/eMPL/inv_mpu.c **** 	st.chip_cfg.sample_rate = 0xFFFF;
 10051              		.loc 1 2661 18 is_stmt 0 view .LVU2952
 10052 0108 DA72     		strb	r2, [r3, #11]
2662:DMP/driver/eMPL/inv_mpu.c **** 	st.chip_cfg.sensors = 0xFF;
 10053              		.loc 1 2662 2 is_stmt 1 view .LVU2953
2662:DMP/driver/eMPL/inv_mpu.c **** 	st.chip_cfg.sensors = 0xFF;
 10054              		.loc 1 2662 26 is_stmt 0 view .LVU2954
 10055 010a 4FF6FF71 		movw	r1, #65535
 10056 010e D981     		strh	r1, [r3, #14]	@ movhi
2663:DMP/driver/eMPL/inv_mpu.c **** 	st.chip_cfg.fifo_enable = 0xFF;
 10057              		.loc 1 2663 2 is_stmt 1 view .LVU2955
2663:DMP/driver/eMPL/inv_mpu.c **** 	st.chip_cfg.fifo_enable = 0xFF;
 10058              		.loc 1 2663 22 is_stmt 0 view .LVU2956
 10059 0110 9A72     		strb	r2, [r3, #10]
2664:DMP/driver/eMPL/inv_mpu.c **** 	st.chip_cfg.clk_src = INV_CLK_PLL;
 10060              		.loc 1 2664 2 is_stmt 1 view .LVU2957
2664:DMP/driver/eMPL/inv_mpu.c **** 	st.chip_cfg.clk_src = INV_CLK_PLL;
 10061              		.loc 1 2664 26 is_stmt 0 view .LVU2958
 10062 0112 1A74     		strb	r2, [r3, #16]
2665:DMP/driver/eMPL/inv_mpu.c **** 	mpu_set_gyro_fsr(gyro_fsr);
 10063              		.loc 1 2665 2 is_stmt 1 view .LVU2959
2665:DMP/driver/eMPL/inv_mpu.c **** 	mpu_set_gyro_fsr(gyro_fsr);
 10064              		.loc 1 2665 22 is_stmt 0 view .LVU2960
 10065 0114 0122     		movs	r2, #1
 10066 0116 1A73     		strb	r2, [r3, #12]
2666:DMP/driver/eMPL/inv_mpu.c **** 	mpu_set_accel_fsr(accel_fsr);
 10067              		.loc 1 2666 2 is_stmt 1 view .LVU2961
 10068 0118 BDF80400 		ldrh	r0, [sp, #4]
 10069 011c FFF7FEFF 		bl	mpu_set_gyro_fsr
 10070              	.LVL717:
2667:DMP/driver/eMPL/inv_mpu.c **** 	mpu_set_lpf(lpf);
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 274


 10071              		.loc 1 2667 2 view .LVU2962
 10072 0120 9DF80700 		ldrb	r0, [sp, #7]	@ zero_extendqisi2
 10073 0124 FFF7FEFF 		bl	mpu_set_accel_fsr
 10074              	.LVL718:
2668:DMP/driver/eMPL/inv_mpu.c **** 	mpu_set_sample_rate(sample_rate);
 10075              		.loc 1 2668 2 view .LVU2963
 10076 0128 BDF80000 		ldrh	r0, [sp]
 10077 012c FFF7FEFF 		bl	mpu_set_lpf
 10078              	.LVL719:
2669:DMP/driver/eMPL/inv_mpu.c **** 	mpu_set_sensors(sensors_on);
 10079              		.loc 1 2669 2 view .LVU2964
 10080 0130 BDF80200 		ldrh	r0, [sp, #2]
 10081 0134 FFF7FEFF 		bl	mpu_set_sample_rate
 10082              	.LVL720:
2670:DMP/driver/eMPL/inv_mpu.c **** 	mpu_configure_fifo(fifo_sensors);
 10083              		.loc 1 2670 2 view .LVU2965
 10084 0138 4046     		mov	r0, r8
 10085 013a FFF7FEFF 		bl	mpu_set_sensors
 10086              	.LVL721:
2671:DMP/driver/eMPL/inv_mpu.c **** 
 10087              		.loc 1 2671 2 view .LVU2966
 10088 013e 9DF80600 		ldrb	r0, [sp, #6]	@ zero_extendqisi2
 10089 0142 FFF7FEFF 		bl	mpu_configure_fifo
 10090              	.LVL722:
2673:DMP/driver/eMPL/inv_mpu.c **** 		mpu_set_dmp_state(1);
 10091              		.loc 1 2673 2 view .LVU2967
2673:DMP/driver/eMPL/inv_mpu.c **** 		mpu_set_dmp_state(1);
 10092              		.loc 1 2673 5 is_stmt 0 view .LVU2968
 10093 0146 C7B9     		cbnz	r7, .L785
 10094              	.L749:
2677:DMP/driver/eMPL/inv_mpu.c **** #endif
 10095              		.loc 1 2677 1 view .LVU2969
 10096 0148 2846     		mov	r0, r5
 10097 014a 09B0     		add	sp, sp, #36
 10098              	.LCFI178:
 10099              		.cfi_remember_state
 10100              		.cfi_def_cfa_offset 28
 10101              		@ sp needed
 10102 014c BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 10103              	.LVL723:
 10104              	.L781:
 10105              	.LCFI179:
 10106              		.cfi_restore_state
2634:DMP/driver/eMPL/inv_mpu.c **** 
 10107              		.loc 1 2634 6 is_stmt 1 view .LVU2970
 10108 0150 4946     		mov	r1, r9
 10109 0152 1248     		ldr	r0, .L786+24
 10110 0154 FFF7FEFF 		bl	printf
 10111              	.LVL724:
 10112 0158 BAE7     		b	.L764
 10113              	.LVL725:
 10114              	.L782:
2638:DMP/driver/eMPL/inv_mpu.c **** 
 10115              		.loc 1 2638 6 view .LVU2971
 10116 015a 2946     		mov	r1, r5
 10117 015c 1048     		ldr	r0, .L786+28
 10118 015e FFF7FEFF 		bl	printf
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 275


 10119              	.LVL726:
 10120 0162 BDE7     		b	.L765
 10121              	.LVL727:
 10122              	.L772:
2642:DMP/driver/eMPL/inv_mpu.c ****     if (!accel_result)
 10123              		.loc 1 2642 16 is_stmt 0 view .LVU2972
 10124 0164 0125     		movs	r5, #1
 10125              	.LVL728:
2642:DMP/driver/eMPL/inv_mpu.c ****     if (!accel_result)
 10126              		.loc 1 2642 16 view .LVU2973
 10127 0166 BEE7     		b	.L766
 10128              	.LVL729:
 10129              	.L783:
2649:DMP/driver/eMPL/inv_mpu.c ****     if (!compass_result)
 10130              		.loc 1 2649 6 is_stmt 1 view .LVU2974
 10131 0168 3146     		mov	r1, r6
 10132 016a 0E48     		ldr	r0, .L786+32
 10133 016c FFF7FEFF 		bl	printf
 10134              	.LVL730:
 10135 0170 C2E7     		b	.L768
 10136              	.LVL731:
 10137              	.L784:
2657:DMP/driver/eMPL/inv_mpu.c **** 	/* Set to invalid values to ensure no I2C writes are skipped. */
 10138              		.loc 1 2657 3 view .LVU2975
 10139 0172 0D48     		ldr	r0, .L786+36
 10140 0174 FFF7FEFF 		bl	puts
 10141              	.LVL732:
 10142 0178 C2E7     		b	.L757
 10143              	.LVL733:
 10144              	.L785:
2674:DMP/driver/eMPL/inv_mpu.c **** 
 10145              		.loc 1 2674 3 view .LVU2976
 10146 017a 0120     		movs	r0, #1
 10147 017c FFF7FEFF 		bl	mpu_set_dmp_state
 10148              	.LVL734:
2676:DMP/driver/eMPL/inv_mpu.c **** }
 10149              		.loc 1 2676 2 view .LVU2977
2676:DMP/driver/eMPL/inv_mpu.c **** }
 10150              		.loc 1 2676 9 is_stmt 0 view .LVU2978
 10151 0180 E2E7     		b	.L749
 10152              	.L787:
 10153 0182 00BF     		.align	2
 10154              	.L786:
 10155 0184 00000000 		.word	st
 10156 0188 00000000 		.word	.LC29
 10157 018c 18000000 		.word	.LC30
 10158 0190 2C000000 		.word	.LC31
 10159 0194 5C000000 		.word	.LC32
 10160 0198 74000000 		.word	.LC33
 10161 019c A4000000 		.word	.LC34
 10162 01a0 C4000000 		.word	.LC35
 10163 01a4 E0000000 		.word	.LC36
 10164 01a8 00010000 		.word	.LC37
 10165              		.cfi_endproc
 10166              	.LFE209:
 10168              		.section	.text.mpu_run_self_test,"ax",%progbits
 10169              		.align	1
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 276


 10170              		.global	mpu_run_self_test
 10171              		.syntax unified
 10172              		.thumb
 10173              		.thumb_func
 10175              	mpu_run_self_test:
 10176              	.LVL735:
 10177              	.LFB210:
2687:DMP/driver/eMPL/inv_mpu.c **** #ifdef MPU6050
 10178              		.loc 1 2687 1 is_stmt 1 view -0
 10179              		.cfi_startproc
 10180              		@ args = 0, pretend = 0, frame = 8
 10181              		@ frame_needed = 0, uses_anonymous_args = 0
2687:DMP/driver/eMPL/inv_mpu.c **** #ifdef MPU6050
 10182              		.loc 1 2687 1 is_stmt 0 view .LVU2980
 10183 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 10184              	.LCFI180:
 10185              		.cfi_def_cfa_offset 24
 10186              		.cfi_offset 4, -24
 10187              		.cfi_offset 5, -20
 10188              		.cfi_offset 6, -16
 10189              		.cfi_offset 7, -12
 10190              		.cfi_offset 8, -8
 10191              		.cfi_offset 14, -4
 10192 0004 82B0     		sub	sp, sp, #8
 10193              	.LCFI181:
 10194              		.cfi_def_cfa_offset 32
 10195 0006 0546     		mov	r5, r0
 10196 0008 0E46     		mov	r6, r1
2697:DMP/driver/eMPL/inv_mpu.c ****     unsigned char accel_fsr, fifo_sensors, sensors_on;
 10197              		.loc 1 2697 5 is_stmt 1 view .LVU2981
2698:DMP/driver/eMPL/inv_mpu.c ****     unsigned short gyro_fsr, sample_rate, lpf;
 10198              		.loc 1 2698 5 view .LVU2982
2699:DMP/driver/eMPL/inv_mpu.c ****     unsigned char dmp_was_on;
 10199              		.loc 1 2699 5 view .LVU2983
2700:DMP/driver/eMPL/inv_mpu.c **** 
 10200              		.loc 1 2700 5 view .LVU2984
2702:DMP/driver/eMPL/inv_mpu.c ****         mpu_set_dmp_state(0);
 10201              		.loc 1 2702 5 view .LVU2985
2702:DMP/driver/eMPL/inv_mpu.c ****         mpu_set_dmp_state(0);
 10202              		.loc 1 2702 20 is_stmt 0 view .LVU2986
 10203 000a 274B     		ldr	r3, .L794
 10204 000c 93F82470 		ldrb	r7, [r3, #36]	@ zero_extendqisi2
2702:DMP/driver/eMPL/inv_mpu.c ****         mpu_set_dmp_state(0);
 10205              		.loc 1 2702 8 view .LVU2987
 10206 0010 002F     		cmp	r7, #0
 10207 0012 40D1     		bne	.L792
 10208              	.LVL736:
 10209              	.L789:
2709:DMP/driver/eMPL/inv_mpu.c ****     mpu_get_accel_fsr(&accel_fsr);
 10210              		.loc 1 2709 5 is_stmt 1 view .LVU2988
 10211 0014 01A8     		add	r0, sp, #4
 10212 0016 FFF7FEFF 		bl	mpu_get_gyro_fsr
 10213              	.LVL737:
2710:DMP/driver/eMPL/inv_mpu.c ****     mpu_get_lpf(&lpf);
 10214              		.loc 1 2710 5 view .LVU2989
 10215 001a 0DF10700 		add	r0, sp, #7
 10216 001e FFF7FEFF 		bl	mpu_get_accel_fsr
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 277


 10217              	.LVL738:
2711:DMP/driver/eMPL/inv_mpu.c ****     mpu_get_sample_rate(&sample_rate);
 10218              		.loc 1 2711 5 view .LVU2990
 10219 0022 6846     		mov	r0, sp
 10220 0024 FFF7FEFF 		bl	mpu_get_lpf
 10221              	.LVL739:
2712:DMP/driver/eMPL/inv_mpu.c ****     sensors_on = st.chip_cfg.sensors;
 10222              		.loc 1 2712 5 view .LVU2991
 10223 0028 0DF10200 		add	r0, sp, #2
 10224 002c FFF7FEFF 		bl	mpu_get_sample_rate
 10225              	.LVL740:
2713:DMP/driver/eMPL/inv_mpu.c ****     mpu_get_fifo_config(&fifo_sensors);
 10226              		.loc 1 2713 5 view .LVU2992
2713:DMP/driver/eMPL/inv_mpu.c ****     mpu_get_fifo_config(&fifo_sensors);
 10227              		.loc 1 2713 16 is_stmt 0 view .LVU2993
 10228 0030 1D4C     		ldr	r4, .L794
 10229 0032 94F80A80 		ldrb	r8, [r4, #10]	@ zero_extendqisi2
 10230              	.LVL741:
2714:DMP/driver/eMPL/inv_mpu.c **** 
 10231              		.loc 1 2714 5 is_stmt 1 view .LVU2994
 10232 0036 0DF10600 		add	r0, sp, #6
 10233 003a FFF7FEFF 		bl	mpu_get_fifo_config
 10234              	.LVL742:
2757:DMP/driver/eMPL/inv_mpu.c ****     result = 0x7;
 10235              		.loc 1 2757 5 view .LVU2995
 10236 003e 0022     		movs	r2, #0
 10237 0040 3146     		mov	r1, r6
 10238 0042 2846     		mov	r0, r5
 10239 0044 FFF7FEFF 		bl	get_st_biases
 10240              	.LVL743:
2758:DMP/driver/eMPL/inv_mpu.c **** #endif
 10241              		.loc 1 2758 5 view .LVU2996
2761:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.accel_fsr = 0xFF;
 10242              		.loc 1 2761 5 view .LVU2997
2761:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.accel_fsr = 0xFF;
 10243              		.loc 1 2761 26 is_stmt 0 view .LVU2998
 10244 0048 FF23     		movs	r3, #255
 10245 004a 2372     		strb	r3, [r4, #8]
2762:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.lpf = 0xFF;
 10246              		.loc 1 2762 5 is_stmt 1 view .LVU2999
2762:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.lpf = 0xFF;
 10247              		.loc 1 2762 27 is_stmt 0 view .LVU3000
 10248 004c 6372     		strb	r3, [r4, #9]
2763:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.sample_rate = 0xFFFF;
 10249              		.loc 1 2763 5 is_stmt 1 view .LVU3001
2763:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.sample_rate = 0xFFFF;
 10250              		.loc 1 2763 21 is_stmt 0 view .LVU3002
 10251 004e E372     		strb	r3, [r4, #11]
2764:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.sensors = 0xFF;
 10252              		.loc 1 2764 5 is_stmt 1 view .LVU3003
2764:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.sensors = 0xFF;
 10253              		.loc 1 2764 29 is_stmt 0 view .LVU3004
 10254 0050 4FF6FF72 		movw	r2, #65535
 10255 0054 E281     		strh	r2, [r4, #14]	@ movhi
2765:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.fifo_enable = 0xFF;
 10256              		.loc 1 2765 5 is_stmt 1 view .LVU3005
2765:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.fifo_enable = 0xFF;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 278


 10257              		.loc 1 2765 25 is_stmt 0 view .LVU3006
 10258 0056 A372     		strb	r3, [r4, #10]
2766:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.clk_src = INV_CLK_PLL;
 10259              		.loc 1 2766 5 is_stmt 1 view .LVU3007
2766:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.clk_src = INV_CLK_PLL;
 10260              		.loc 1 2766 29 is_stmt 0 view .LVU3008
 10261 0058 2374     		strb	r3, [r4, #16]
2767:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_gyro_fsr(gyro_fsr);
 10262              		.loc 1 2767 5 is_stmt 1 view .LVU3009
2767:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_gyro_fsr(gyro_fsr);
 10263              		.loc 1 2767 25 is_stmt 0 view .LVU3010
 10264 005a 0123     		movs	r3, #1
 10265 005c 2373     		strb	r3, [r4, #12]
2768:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_accel_fsr(accel_fsr);
 10266              		.loc 1 2768 5 is_stmt 1 view .LVU3011
 10267 005e BDF80400 		ldrh	r0, [sp, #4]
 10268 0062 FFF7FEFF 		bl	mpu_set_gyro_fsr
 10269              	.LVL744:
2769:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_lpf(lpf);
 10270              		.loc 1 2769 5 view .LVU3012
 10271 0066 9DF80700 		ldrb	r0, [sp, #7]	@ zero_extendqisi2
 10272 006a FFF7FEFF 		bl	mpu_set_accel_fsr
 10273              	.LVL745:
2770:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_sample_rate(sample_rate);
 10274              		.loc 1 2770 5 view .LVU3013
 10275 006e BDF80000 		ldrh	r0, [sp]
 10276 0072 FFF7FEFF 		bl	mpu_set_lpf
 10277              	.LVL746:
2771:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_sensors(sensors_on);
 10278              		.loc 1 2771 5 view .LVU3014
 10279 0076 BDF80200 		ldrh	r0, [sp, #2]
 10280 007a FFF7FEFF 		bl	mpu_set_sample_rate
 10281              	.LVL747:
2772:DMP/driver/eMPL/inv_mpu.c ****     mpu_configure_fifo(fifo_sensors);
 10282              		.loc 1 2772 5 view .LVU3015
 10283 007e 4046     		mov	r0, r8
 10284 0080 FFF7FEFF 		bl	mpu_set_sensors
 10285              	.LVL748:
2773:DMP/driver/eMPL/inv_mpu.c **** 
 10286              		.loc 1 2773 5 view .LVU3016
 10287 0084 9DF80600 		ldrb	r0, [sp, #6]	@ zero_extendqisi2
 10288 0088 FFF7FEFF 		bl	mpu_configure_fifo
 10289              	.LVL749:
2775:DMP/driver/eMPL/inv_mpu.c ****         mpu_set_dmp_state(1);
 10290              		.loc 1 2775 5 view .LVU3017
2775:DMP/driver/eMPL/inv_mpu.c ****         mpu_set_dmp_state(1);
 10291              		.loc 1 2775 8 is_stmt 0 view .LVU3018
 10292 008c 47B9     		cbnz	r7, .L793
 10293              	.L790:
2778:DMP/driver/eMPL/inv_mpu.c **** }
 10294              		.loc 1 2778 5 is_stmt 1 view .LVU3019
2779:DMP/driver/eMPL/inv_mpu.c **** 
 10295              		.loc 1 2779 1 is_stmt 0 view .LVU3020
 10296 008e 0720     		movs	r0, #7
 10297 0090 02B0     		add	sp, sp, #8
 10298              	.LCFI182:
 10299              		.cfi_remember_state
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 279


 10300              		.cfi_def_cfa_offset 24
 10301              		@ sp needed
 10302 0092 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 10303              	.LVL750:
 10304              	.L792:
 10305              	.LCFI183:
 10306              		.cfi_restore_state
2703:DMP/driver/eMPL/inv_mpu.c ****         dmp_was_on = 1;
 10307              		.loc 1 2703 9 is_stmt 1 view .LVU3021
 10308 0096 0020     		movs	r0, #0
 10309              	.LVL751:
2703:DMP/driver/eMPL/inv_mpu.c ****         dmp_was_on = 1;
 10310              		.loc 1 2703 9 is_stmt 0 view .LVU3022
 10311 0098 FFF7FEFF 		bl	mpu_set_dmp_state
 10312              	.LVL752:
2704:DMP/driver/eMPL/inv_mpu.c ****     } else
 10313              		.loc 1 2704 9 is_stmt 1 view .LVU3023
2704:DMP/driver/eMPL/inv_mpu.c ****     } else
 10314              		.loc 1 2704 20 is_stmt 0 view .LVU3024
 10315 009c 0127     		movs	r7, #1
 10316 009e B9E7     		b	.L789
 10317              	.LVL753:
 10318              	.L793:
2776:DMP/driver/eMPL/inv_mpu.c **** 
 10319              		.loc 1 2776 9 is_stmt 1 view .LVU3025
 10320 00a0 0120     		movs	r0, #1
 10321 00a2 FFF7FEFF 		bl	mpu_set_dmp_state
 10322              	.LVL754:
 10323 00a6 F2E7     		b	.L790
 10324              	.L795:
 10325              		.align	2
 10326              	.L794:
 10327 00a8 00000000 		.word	st
 10328              		.cfi_endproc
 10329              	.LFE210:
 10331              		.section	.text.mpu_get_dmp_state,"ax",%progbits
 10332              		.align	1
 10333              		.global	mpu_get_dmp_state
 10334              		.syntax unified
 10335              		.thumb
 10336              		.thumb_func
 10338              	mpu_get_dmp_state:
 10339              	.LVL755:
 10340              	.LFB215:
2936:DMP/driver/eMPL/inv_mpu.c ****     enabled[0] = st.chip_cfg.dmp_on;
 10341              		.loc 1 2936 1 view -0
 10342              		.cfi_startproc
 10343              		@ args = 0, pretend = 0, frame = 0
 10344              		@ frame_needed = 0, uses_anonymous_args = 0
 10345              		@ link register save eliminated.
2937:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 10346              		.loc 1 2937 5 view .LVU3027
2937:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 10347              		.loc 1 2937 29 is_stmt 0 view .LVU3028
 10348 0000 024B     		ldr	r3, .L797
 10349 0002 93F82430 		ldrb	r3, [r3, #36]	@ zero_extendqisi2
2937:DMP/driver/eMPL/inv_mpu.c ****     return 0;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 280


 10350              		.loc 1 2937 16 view .LVU3029
 10351 0006 0370     		strb	r3, [r0]
2938:DMP/driver/eMPL/inv_mpu.c **** }
 10352              		.loc 1 2938 5 is_stmt 1 view .LVU3030
2939:DMP/driver/eMPL/inv_mpu.c **** 
 10353              		.loc 1 2939 1 is_stmt 0 view .LVU3031
 10354 0008 0020     		movs	r0, #0
 10355              	.LVL756:
2939:DMP/driver/eMPL/inv_mpu.c **** 
 10356              		.loc 1 2939 1 view .LVU3032
 10357 000a 7047     		bx	lr
 10358              	.L798:
 10359              		.align	2
 10360              	.L797:
 10361 000c 00000000 		.word	st
 10362              		.cfi_endproc
 10363              	.LFE215:
 10365              		.section	.text.mpu_get_compass_reg,"ax",%progbits
 10366              		.align	1
 10367              		.global	mpu_get_compass_reg
 10368              		.syntax unified
 10369              		.thumb
 10370              		.thumb_func
 10372              	mpu_get_compass_reg:
 10373              	.LVL757:
 10374              	.LFB217:
3043:DMP/driver/eMPL/inv_mpu.c **** #endif
3044:DMP/driver/eMPL/inv_mpu.c **** 
3045:DMP/driver/eMPL/inv_mpu.c **** /**
3046:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Read raw compass data.
3047:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] data        Raw data in hardware units.
3048:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] timestamp   Timestamp in milliseconds. Null if not needed.
3049:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
3050:DMP/driver/eMPL/inv_mpu.c ****  */
3051:DMP/driver/eMPL/inv_mpu.c **** int mpu_get_compass_reg(short *data, unsigned long *timestamp)
3052:DMP/driver/eMPL/inv_mpu.c **** {
 10375              		.loc 1 3052 1 is_stmt 1 view -0
 10376              		.cfi_startproc
 10377              		@ args = 0, pretend = 0, frame = 16
 10378              		@ frame_needed = 0, uses_anonymous_args = 0
3053:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
3054:DMP/driver/eMPL/inv_mpu.c ****     unsigned char tmp[9];
 10379              		.loc 1 3054 5 view .LVU3034
3055:DMP/driver/eMPL/inv_mpu.c **** 
3056:DMP/driver/eMPL/inv_mpu.c ****     if (!(st.chip_cfg.sensors & INV_XYZ_COMPASS))
 10380              		.loc 1 3056 5 view .LVU3035
 10381              		.loc 1 3056 22 is_stmt 0 view .LVU3036
 10382 0000 2B4B     		ldr	r3, .L809
 10383 0002 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 10384              		.loc 1 3056 8 view .LVU3037
 10385 0004 13F0010F 		tst	r3, #1
 10386 0008 46D0     		beq	.L801
3052:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
 10387              		.loc 1 3052 1 view .LVU3038
 10388 000a 10B5     		push	{r4, lr}
 10389              	.LCFI184:
 10390              		.cfi_def_cfa_offset 8
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 281


 10391              		.cfi_offset 4, -8
 10392              		.cfi_offset 14, -4
 10393 000c 84B0     		sub	sp, sp, #16
 10394              	.LCFI185:
 10395              		.cfi_def_cfa_offset 24
 10396 000e 0446     		mov	r4, r0
3057:DMP/driver/eMPL/inv_mpu.c ****         return -1;
3058:DMP/driver/eMPL/inv_mpu.c **** 
3059:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_BYPASS
3060:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_read(st.chip_cfg.compass_addr, AKM_REG_ST1, 8, tmp))
3061:DMP/driver/eMPL/inv_mpu.c ****         return -1;
3062:DMP/driver/eMPL/inv_mpu.c ****     tmp[8] = AKM_SINGLE_MEASUREMENT;
3063:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.chip_cfg.compass_addr, AKM_REG_CNTL, 1, tmp+8))
3064:DMP/driver/eMPL/inv_mpu.c ****         return -1;
3065:DMP/driver/eMPL/inv_mpu.c **** #else
3066:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_read(st.hw->addr, st.reg->raw_compass, 8, tmp))
 10397              		.loc 1 3066 5 is_stmt 1 view .LVU3039
 10398              		.loc 1 3066 20 is_stmt 0 view .LVU3040
 10399 0010 274B     		ldr	r3, .L809
 10400 0012 5868     		ldr	r0, [r3, #4]
 10401              	.LVL758:
 10402              		.loc 1 3066 33 view .LVU3041
 10403 0014 1968     		ldr	r1, [r3]
 10404              	.LVL759:
 10405              		.loc 1 3066 9 view .LVU3042
 10406 0016 01AB     		add	r3, sp, #4
 10407 0018 0822     		movs	r2, #8
 10408 001a 91F82810 		ldrb	r1, [r1, #40]	@ zero_extendqisi2
 10409 001e 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 10410 0020 FFF7FEFF 		bl	MPU_Read_Len
 10411              	.LVL760:
 10412              		.loc 1 3066 8 view .LVU3043
 10413 0024 0028     		cmp	r0, #0
 10414 0026 3AD1     		bne	.L802
3067:DMP/driver/eMPL/inv_mpu.c ****         return -1;
3068:DMP/driver/eMPL/inv_mpu.c **** #endif
3069:DMP/driver/eMPL/inv_mpu.c **** 
3070:DMP/driver/eMPL/inv_mpu.c **** #if defined AK8975_SECONDARY
3071:DMP/driver/eMPL/inv_mpu.c ****     /* AK8975 doesn't have the overrun error bit. */
3072:DMP/driver/eMPL/inv_mpu.c ****     if (!(tmp[0] & AKM_DATA_READY))
3073:DMP/driver/eMPL/inv_mpu.c ****         return -2;
3074:DMP/driver/eMPL/inv_mpu.c ****     if ((tmp[7] & AKM_OVERFLOW) || (tmp[7] & AKM_DATA_ERROR))
3075:DMP/driver/eMPL/inv_mpu.c ****         return -3;
3076:DMP/driver/eMPL/inv_mpu.c **** #elif defined AK8963_SECONDARY
3077:DMP/driver/eMPL/inv_mpu.c ****     /* AK8963 doesn't have the data read error bit. */
3078:DMP/driver/eMPL/inv_mpu.c ****     if (!(tmp[0] & AKM_DATA_READY) || (tmp[0] & AKM_DATA_OVERRUN))
 10415              		.loc 1 3078 5 is_stmt 1 view .LVU3044
 10416              		.loc 1 3078 14 is_stmt 0 view .LVU3045
 10417 0028 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 10418              		.loc 1 3078 8 view .LVU3046
 10419 002c 03F00303 		and	r3, r3, #3
 10420 0030 012B     		cmp	r3, #1
 10421 0032 37D1     		bne	.L803
3079:DMP/driver/eMPL/inv_mpu.c ****         return -2;
3080:DMP/driver/eMPL/inv_mpu.c ****     if (tmp[7] & AKM_OVERFLOW)
 10422              		.loc 1 3080 5 is_stmt 1 view .LVU3047
 10423              		.loc 1 3080 9 is_stmt 0 view .LVU3048
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 282


 10424 0034 9DF90B30 		ldrsb	r3, [sp, #11]
 10425              		.loc 1 3080 8 view .LVU3049
 10426 0038 002B     		cmp	r3, #0
 10427 003a 36DB     		blt	.L804
3081:DMP/driver/eMPL/inv_mpu.c ****         return -3;
3082:DMP/driver/eMPL/inv_mpu.c **** #endif
3083:DMP/driver/eMPL/inv_mpu.c ****     data[0] = (tmp[2] << 8) | tmp[1];
 10428              		.loc 1 3083 5 is_stmt 1 view .LVU3050
 10429              		.loc 1 3083 19 is_stmt 0 view .LVU3051
 10430 003c 9DF80630 		ldrb	r3, [sp, #6]	@ zero_extendqisi2
 10431              		.loc 1 3083 34 view .LVU3052
 10432 0040 9DF80510 		ldrb	r1, [sp, #5]	@ zero_extendqisi2
 10433              		.loc 1 3083 29 view .LVU3053
 10434 0044 41EA0321 		orr	r1, r1, r3, lsl #8
 10435 0048 09B2     		sxth	r1, r1
 10436              		.loc 1 3083 13 view .LVU3054
 10437 004a 2180     		strh	r1, [r4]	@ movhi
3084:DMP/driver/eMPL/inv_mpu.c ****     data[1] = (tmp[4] << 8) | tmp[3];
 10438              		.loc 1 3084 5 is_stmt 1 view .LVU3055
 10439              		.loc 1 3084 19 is_stmt 0 view .LVU3056
 10440 004c 9DF80830 		ldrb	r3, [sp, #8]	@ zero_extendqisi2
 10441              		.loc 1 3084 34 view .LVU3057
 10442 0050 9DF80720 		ldrb	r2, [sp, #7]	@ zero_extendqisi2
 10443              		.loc 1 3084 29 view .LVU3058
 10444 0054 42EA0322 		orr	r2, r2, r3, lsl #8
 10445 0058 12B2     		sxth	r2, r2
 10446              		.loc 1 3084 13 view .LVU3059
 10447 005a 6280     		strh	r2, [r4, #2]	@ movhi
3085:DMP/driver/eMPL/inv_mpu.c ****     data[2] = (tmp[6] << 8) | tmp[5];
 10448              		.loc 1 3085 5 is_stmt 1 view .LVU3060
 10449              		.loc 1 3085 19 is_stmt 0 view .LVU3061
 10450 005c 9DF80A00 		ldrb	r0, [sp, #10]	@ zero_extendqisi2
 10451              		.loc 1 3085 34 view .LVU3062
 10452 0060 9DF80930 		ldrb	r3, [sp, #9]	@ zero_extendqisi2
 10453              		.loc 1 3085 29 view .LVU3063
 10454 0064 43EA0023 		orr	r3, r3, r0, lsl #8
 10455 0068 1BB2     		sxth	r3, r3
 10456              		.loc 1 3085 13 view .LVU3064
 10457 006a A380     		strh	r3, [r4, #4]	@ movhi
3086:DMP/driver/eMPL/inv_mpu.c **** 
3087:DMP/driver/eMPL/inv_mpu.c ****     data[0] = ((long)data[0] * st.chip_cfg.mag_sens_adj[0]) >> 8;
 10458              		.loc 1 3087 5 is_stmt 1 view .LVU3065
 10459              		.loc 1 3087 56 is_stmt 0 view .LVU3066
 10460 006c 1048     		ldr	r0, .L809
 10461 006e B0F92CC0 		ldrsh	ip, [r0, #44]
 10462              		.loc 1 3087 30 view .LVU3067
 10463 0072 0CFB01F1 		mul	r1, ip, r1
 10464              		.loc 1 3087 61 view .LVU3068
 10465 0076 0912     		asrs	r1, r1, #8
 10466              		.loc 1 3087 13 view .LVU3069
 10467 0078 2180     		strh	r1, [r4]	@ movhi
3088:DMP/driver/eMPL/inv_mpu.c ****     data[1] = ((long)data[1] * st.chip_cfg.mag_sens_adj[1]) >> 8;
 10468              		.loc 1 3088 5 is_stmt 1 view .LVU3070
 10469              		.loc 1 3088 56 is_stmt 0 view .LVU3071
 10470 007a B0F92E10 		ldrsh	r1, [r0, #46]
 10471              		.loc 1 3088 30 view .LVU3072
 10472 007e 01FB02F2 		mul	r2, r1, r2
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 283


 10473              		.loc 1 3088 61 view .LVU3073
 10474 0082 1212     		asrs	r2, r2, #8
 10475              		.loc 1 3088 13 view .LVU3074
 10476 0084 6280     		strh	r2, [r4, #2]	@ movhi
3089:DMP/driver/eMPL/inv_mpu.c ****     data[2] = ((long)data[2] * st.chip_cfg.mag_sens_adj[2]) >> 8;
 10477              		.loc 1 3089 5 is_stmt 1 view .LVU3075
 10478              		.loc 1 3089 56 is_stmt 0 view .LVU3076
 10479 0086 B0F93020 		ldrsh	r2, [r0, #48]
 10480              		.loc 1 3089 30 view .LVU3077
 10481 008a 02FB03F3 		mul	r3, r2, r3
 10482              		.loc 1 3089 61 view .LVU3078
 10483 008e 1B12     		asrs	r3, r3, #8
 10484              		.loc 1 3089 13 view .LVU3079
 10485 0090 A380     		strh	r3, [r4, #4]	@ movhi
3090:DMP/driver/eMPL/inv_mpu.c **** 
3091:DMP/driver/eMPL/inv_mpu.c ****     if (timestamp)
 10486              		.loc 1 3091 5 is_stmt 1 view .LVU3080
3092:DMP/driver/eMPL/inv_mpu.c ****         get_ms(timestamp);
3093:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 10487              		.loc 1 3093 12 is_stmt 0 view .LVU3081
 10488 0092 0020     		movs	r0, #0
 10489              	.L799:
3094:DMP/driver/eMPL/inv_mpu.c **** #else
3095:DMP/driver/eMPL/inv_mpu.c ****     return -1;
3096:DMP/driver/eMPL/inv_mpu.c **** #endif
3097:DMP/driver/eMPL/inv_mpu.c **** }
 10490              		.loc 1 3097 1 view .LVU3082
 10491 0094 04B0     		add	sp, sp, #16
 10492              	.LCFI186:
 10493              		.cfi_def_cfa_offset 8
 10494              		@ sp needed
 10495 0096 10BD     		pop	{r4, pc}
 10496              	.LVL761:
 10497              	.L801:
 10498              	.LCFI187:
 10499              		.cfi_def_cfa_offset 0
 10500              		.cfi_restore 4
 10501              		.cfi_restore 14
3057:DMP/driver/eMPL/inv_mpu.c **** 
 10502              		.loc 1 3057 16 view .LVU3083
 10503 0098 4FF0FF30 		mov	r0, #-1
 10504              	.LVL762:
 10505              		.loc 1 3097 1 view .LVU3084
 10506 009c 7047     		bx	lr
 10507              	.LVL763:
 10508              	.L802:
 10509              	.LCFI188:
 10510              		.cfi_def_cfa_offset 24
 10511              		.cfi_offset 4, -8
 10512              		.cfi_offset 14, -4
3067:DMP/driver/eMPL/inv_mpu.c **** #endif
 10513              		.loc 1 3067 16 view .LVU3085
 10514 009e 4FF0FF30 		mov	r0, #-1
 10515 00a2 F7E7     		b	.L799
 10516              	.L803:
3079:DMP/driver/eMPL/inv_mpu.c ****     if (tmp[7] & AKM_OVERFLOW)
 10517              		.loc 1 3079 16 view .LVU3086
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 284


 10518 00a4 6FF00100 		mvn	r0, #1
 10519 00a8 F4E7     		b	.L799
 10520              	.L804:
3081:DMP/driver/eMPL/inv_mpu.c **** #endif
 10521              		.loc 1 3081 16 view .LVU3087
 10522 00aa 6FF00200 		mvn	r0, #2
 10523 00ae F1E7     		b	.L799
 10524              	.L810:
 10525              		.align	2
 10526              	.L809:
 10527 00b0 00000000 		.word	st
 10528              		.cfi_endproc
 10529              	.LFE217:
 10531              		.section	.text.mpu_get_compass_fsr,"ax",%progbits
 10532              		.align	1
 10533              		.global	mpu_get_compass_fsr
 10534              		.syntax unified
 10535              		.thumb
 10536              		.thumb_func
 10538              	mpu_get_compass_fsr:
 10539              	.LVL764:
 10540              	.LFB218:
3098:DMP/driver/eMPL/inv_mpu.c **** 
3099:DMP/driver/eMPL/inv_mpu.c **** /**
3100:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Get the compass full-scale range.
3101:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] fsr Current full-scale range.
3102:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
3103:DMP/driver/eMPL/inv_mpu.c ****  */
3104:DMP/driver/eMPL/inv_mpu.c **** int mpu_get_compass_fsr(unsigned short *fsr)
3105:DMP/driver/eMPL/inv_mpu.c **** {
 10541              		.loc 1 3105 1 is_stmt 1 view -0
 10542              		.cfi_startproc
 10543              		@ args = 0, pretend = 0, frame = 0
 10544              		@ frame_needed = 0, uses_anonymous_args = 0
 10545              		@ link register save eliminated.
3106:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
3107:DMP/driver/eMPL/inv_mpu.c ****     fsr[0] = st.hw->compass_fsr;
 10546              		.loc 1 3107 5 view .LVU3089
 10547              		.loc 1 3107 16 is_stmt 0 view .LVU3090
 10548 0000 024B     		ldr	r3, .L812
 10549 0002 5B68     		ldr	r3, [r3, #4]
 10550              		.loc 1 3107 19 view .LVU3091
 10551 0004 9B89     		ldrh	r3, [r3, #12]
 10552              		.loc 1 3107 12 view .LVU3092
 10553 0006 0380     		strh	r3, [r0]	@ movhi
3108:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 10554              		.loc 1 3108 5 is_stmt 1 view .LVU3093
3109:DMP/driver/eMPL/inv_mpu.c **** #else
3110:DMP/driver/eMPL/inv_mpu.c ****     return -1;
3111:DMP/driver/eMPL/inv_mpu.c **** #endif
3112:DMP/driver/eMPL/inv_mpu.c **** }
 10555              		.loc 1 3112 1 is_stmt 0 view .LVU3094
 10556 0008 0020     		movs	r0, #0
 10557              	.LVL765:
 10558              		.loc 1 3112 1 view .LVU3095
 10559 000a 7047     		bx	lr
 10560              	.L813:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 285


 10561              		.align	2
 10562              	.L812:
 10563 000c 00000000 		.word	st
 10564              		.cfi_endproc
 10565              	.LFE218:
 10567              		.section	.text.mpu_lp_motion_interrupt,"ax",%progbits
 10568              		.align	1
 10569              		.global	mpu_lp_motion_interrupt
 10570              		.syntax unified
 10571              		.thumb
 10572              		.thumb_func
 10574              	mpu_lp_motion_interrupt:
 10575              	.LVL766:
 10576              	.LFB219:
3113:DMP/driver/eMPL/inv_mpu.c **** 
3114:DMP/driver/eMPL/inv_mpu.c **** /**
3115:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Enters LP accel motion interrupt mode.
3116:DMP/driver/eMPL/inv_mpu.c ****  *  The behaviour of this feature is very different between the MPU6050 and the
3117:DMP/driver/eMPL/inv_mpu.c ****  *  MPU6500. Each chip's version of this feature is explained below.
3118:DMP/driver/eMPL/inv_mpu.c ****  *
3119:DMP/driver/eMPL/inv_mpu.c ****  *  \n The hardware motion threshold can be between 32mg and 8160mg in 32mg
3120:DMP/driver/eMPL/inv_mpu.c ****  *  increments.
3121:DMP/driver/eMPL/inv_mpu.c ****  *
3122:DMP/driver/eMPL/inv_mpu.c ****  *  \n Low-power accel mode supports the following frequencies:
3123:DMP/driver/eMPL/inv_mpu.c ****  *  \n 1.25Hz, 5Hz, 20Hz, 40Hz
3124:DMP/driver/eMPL/inv_mpu.c ****  *
3125:DMP/driver/eMPL/inv_mpu.c ****  *  \n MPU6500:
3126:DMP/driver/eMPL/inv_mpu.c ****  *  \n Unlike the MPU6050 version, the hardware does not "lock in" a reference
3127:DMP/driver/eMPL/inv_mpu.c ****  *  sample. The hardware monitors the accel data and detects any large change
3128:DMP/driver/eMPL/inv_mpu.c ****  *  over a short period of time.
3129:DMP/driver/eMPL/inv_mpu.c ****  *
3130:DMP/driver/eMPL/inv_mpu.c ****  *  \n The hardware motion threshold can be between 4mg and 1020mg in 4mg
3131:DMP/driver/eMPL/inv_mpu.c ****  *  increments.
3132:DMP/driver/eMPL/inv_mpu.c ****  *
3133:DMP/driver/eMPL/inv_mpu.c ****  *  \n MPU6500 Low-power accel mode supports the following frequencies:
3134:DMP/driver/eMPL/inv_mpu.c ****  *  \n 1.25Hz, 2.5Hz, 5Hz, 10Hz, 20Hz, 40Hz, 80Hz, 160Hz, 320Hz, 640Hz
3135:DMP/driver/eMPL/inv_mpu.c ****  *
3136:DMP/driver/eMPL/inv_mpu.c ****  *  \n\n NOTES:
3137:DMP/driver/eMPL/inv_mpu.c ****  *  \n The driver will round down @e thresh to the nearest supported value if
3138:DMP/driver/eMPL/inv_mpu.c ****  *  an unsupported threshold is selected.
3139:DMP/driver/eMPL/inv_mpu.c ****  *  \n To select a fractional wake-up frequency, round down the value passed to
3140:DMP/driver/eMPL/inv_mpu.c ****  *  @e lpa_freq.
3141:DMP/driver/eMPL/inv_mpu.c ****  *  \n The MPU6500 does not support a delay parameter. If this function is used
3142:DMP/driver/eMPL/inv_mpu.c ****  *  for the MPU6500, the value passed to @e time will be ignored.
3143:DMP/driver/eMPL/inv_mpu.c ****  *  \n To disable this mode, set @e lpa_freq to zero. The driver will restore
3144:DMP/driver/eMPL/inv_mpu.c ****  *  the previous configuration.
3145:DMP/driver/eMPL/inv_mpu.c ****  *
3146:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  thresh      Motion threshold in mg.
3147:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  time        Duration in milliseconds that the accel data must
3148:DMP/driver/eMPL/inv_mpu.c ****  *                          exceed @e thresh before motion is reported.
3149:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  lpa_freq    Minimum sampling rate, or zero to disable.
3150:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
3151:DMP/driver/eMPL/inv_mpu.c ****  */
3152:DMP/driver/eMPL/inv_mpu.c **** int mpu_lp_motion_interrupt(unsigned short thresh, unsigned char time,
3153:DMP/driver/eMPL/inv_mpu.c ****     unsigned short lpa_freq)
3154:DMP/driver/eMPL/inv_mpu.c **** {
 10577              		.loc 1 3154 1 is_stmt 1 view -0
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 286


 10578              		.cfi_startproc
 10579              		@ args = 0, pretend = 0, frame = 8
 10580              		@ frame_needed = 0, uses_anonymous_args = 0
 10581              		.loc 1 3154 1 is_stmt 0 view .LVU3097
 10582 0000 70B5     		push	{r4, r5, r6, lr}
 10583              	.LCFI189:
 10584              		.cfi_def_cfa_offset 16
 10585              		.cfi_offset 4, -16
 10586              		.cfi_offset 5, -12
 10587              		.cfi_offset 6, -8
 10588              		.cfi_offset 14, -4
 10589 0002 82B0     		sub	sp, sp, #8
 10590              	.LCFI190:
 10591              		.cfi_def_cfa_offset 24
3155:DMP/driver/eMPL/inv_mpu.c **** 
3156:DMP/driver/eMPL/inv_mpu.c **** #if defined MPU6500
3157:DMP/driver/eMPL/inv_mpu.c ****     unsigned char data[3];
 10592              		.loc 1 3157 5 is_stmt 1 view .LVU3098
3158:DMP/driver/eMPL/inv_mpu.c **** #endif
3159:DMP/driver/eMPL/inv_mpu.c ****     if (lpa_freq) {
 10593              		.loc 1 3159 5 view .LVU3099
 10594              		.loc 1 3159 8 is_stmt 0 view .LVU3100
 10595 0004 002A     		cmp	r2, #0
 10596 0006 00F0D080 		beq	.L836
 10597 000a 1546     		mov	r5, r2
 10598              	.LBB6:
3160:DMP/driver/eMPL/inv_mpu.c **** #if defined MPU6500
3161:DMP/driver/eMPL/inv_mpu.c ****     	unsigned char thresh_hw;
 10599              		.loc 1 3161 6 is_stmt 1 view .LVU3101
3162:DMP/driver/eMPL/inv_mpu.c **** 
3163:DMP/driver/eMPL/inv_mpu.c ****         /* 1LSb = 4mg. */
3164:DMP/driver/eMPL/inv_mpu.c ****         if (thresh > 1020)
 10600              		.loc 1 3164 9 view .LVU3102
 10601              		.loc 1 3164 12 is_stmt 0 view .LVU3103
 10602 000c B0F57F7F 		cmp	r0, #1020
 10603 0010 04D8     		bhi	.L837
3165:DMP/driver/eMPL/inv_mpu.c ****             thresh_hw = 255;
3166:DMP/driver/eMPL/inv_mpu.c ****         else if (thresh < 4)
 10604              		.loc 1 3166 14 is_stmt 1 view .LVU3104
 10605              		.loc 1 3166 17 is_stmt 0 view .LVU3105
 10606 0012 0328     		cmp	r0, #3
 10607 0014 56D9     		bls	.L838
3167:DMP/driver/eMPL/inv_mpu.c ****             thresh_hw = 1;
3168:DMP/driver/eMPL/inv_mpu.c ****         else
3169:DMP/driver/eMPL/inv_mpu.c ****             thresh_hw = thresh >> 2;
 10608              		.loc 1 3169 13 is_stmt 1 view .LVU3106
 10609              		.loc 1 3169 23 is_stmt 0 view .LVU3107
 10610 0016 C0F38704 		ubfx	r4, r0, #2, #8
 10611              	.LVL767:
 10612              		.loc 1 3169 23 view .LVU3108
 10613 001a 00E0     		b	.L816
 10614              	.LVL768:
 10615              	.L837:
3165:DMP/driver/eMPL/inv_mpu.c ****             thresh_hw = 255;
 10616              		.loc 1 3165 23 view .LVU3109
 10617 001c FF24     		movs	r4, #255
 10618              	.L816:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 287


 10619              	.LVL769:
3170:DMP/driver/eMPL/inv_mpu.c **** #endif
3171:DMP/driver/eMPL/inv_mpu.c **** 
3172:DMP/driver/eMPL/inv_mpu.c ****         if (!time)
 10620              		.loc 1 3172 9 is_stmt 1 view .LVU3110
3173:DMP/driver/eMPL/inv_mpu.c ****             /* Minimum duration must be 1ms. */
3174:DMP/driver/eMPL/inv_mpu.c ****             time = 1;
3175:DMP/driver/eMPL/inv_mpu.c **** 
3176:DMP/driver/eMPL/inv_mpu.c **** #if defined MPU6500
3177:DMP/driver/eMPL/inv_mpu.c ****         if (lpa_freq > 640)
 10621              		.loc 1 3177 9 view .LVU3111
 10622              		.loc 1 3177 12 is_stmt 0 view .LVU3112
 10623 001e B5F5207F 		cmp	r5, #640
 10624 0022 00F20481 		bhi	.L839
3178:DMP/driver/eMPL/inv_mpu.c ****             /* At this point, the chip has not been re-configured, so the
3179:DMP/driver/eMPL/inv_mpu.c ****              * function can safely exit.
3180:DMP/driver/eMPL/inv_mpu.c ****              */
3181:DMP/driver/eMPL/inv_mpu.c ****             return -1;
3182:DMP/driver/eMPL/inv_mpu.c **** #endif
3183:DMP/driver/eMPL/inv_mpu.c **** 
3184:DMP/driver/eMPL/inv_mpu.c ****         if (!st.chip_cfg.int_motion_only) {
 10625              		.loc 1 3184 9 is_stmt 1 view .LVU3113
 10626              		.loc 1 3184 25 is_stmt 0 view .LVU3114
 10627 0026 834B     		ldr	r3, .L846
 10628 0028 5B7D     		ldrb	r3, [r3, #21]	@ zero_extendqisi2
 10629              		.loc 1 3184 12 view .LVU3115
 10630 002a E3B9     		cbnz	r3, .L818
3185:DMP/driver/eMPL/inv_mpu.c ****             /* Store current settings for later. */
3186:DMP/driver/eMPL/inv_mpu.c ****             if (st.chip_cfg.dmp_on) {
 10631              		.loc 1 3186 13 is_stmt 1 view .LVU3116
 10632              		.loc 1 3186 28 is_stmt 0 view .LVU3117
 10633 002c 814B     		ldr	r3, .L846
 10634 002e 93F82430 		ldrb	r3, [r3, #36]	@ zero_extendqisi2
 10635              		.loc 1 3186 16 view .LVU3118
 10636 0032 002B     		cmp	r3, #0
 10637 0034 48D1     		bne	.L841
3187:DMP/driver/eMPL/inv_mpu.c ****                 mpu_set_dmp_state(0);
3188:DMP/driver/eMPL/inv_mpu.c ****                 st.chip_cfg.cache.dmp_on = 1;
3189:DMP/driver/eMPL/inv_mpu.c ****             } else
3190:DMP/driver/eMPL/inv_mpu.c ****                 st.chip_cfg.cache.dmp_on = 0;
 10638              		.loc 1 3190 17 is_stmt 1 view .LVU3119
 10639              		.loc 1 3190 42 is_stmt 0 view .LVU3120
 10640 0036 7F4B     		ldr	r3, .L846
 10641 0038 0022     		movs	r2, #0
 10642              	.LVL770:
 10643              		.loc 1 3190 42 view .LVU3121
 10644 003a 83F82020 		strb	r2, [r3, #32]
 10645              	.LVL771:
 10646              	.L820:
3191:DMP/driver/eMPL/inv_mpu.c ****             mpu_get_gyro_fsr(&st.chip_cfg.cache.gyro_fsr);
 10647              		.loc 1 3191 13 is_stmt 1 view .LVU3122
 10648 003e 7E4E     		ldr	r6, .L846+4
 10649 0040 3046     		mov	r0, r6
 10650 0042 FFF7FEFF 		bl	mpu_get_gyro_fsr
 10651              	.LVL772:
3192:DMP/driver/eMPL/inv_mpu.c ****             mpu_get_accel_fsr(&st.chip_cfg.cache.accel_fsr);
 10652              		.loc 1 3192 13 view .LVU3123
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 288


 10653 0046 B01C     		adds	r0, r6, #2
 10654 0048 FFF7FEFF 		bl	mpu_get_accel_fsr
 10655              	.LVL773:
3193:DMP/driver/eMPL/inv_mpu.c ****             mpu_get_lpf(&st.chip_cfg.cache.lpf);
 10656              		.loc 1 3193 13 view .LVU3124
 10657 004c 301D     		adds	r0, r6, #4
 10658 004e FFF7FEFF 		bl	mpu_get_lpf
 10659              	.LVL774:
3194:DMP/driver/eMPL/inv_mpu.c ****             mpu_get_sample_rate(&st.chip_cfg.cache.sample_rate);
 10660              		.loc 1 3194 13 view .LVU3125
 10661 0052 B01D     		adds	r0, r6, #6
 10662 0054 FFF7FEFF 		bl	mpu_get_sample_rate
 10663              	.LVL775:
3195:DMP/driver/eMPL/inv_mpu.c ****             st.chip_cfg.cache.sensors_on = st.chip_cfg.sensors;
 10664              		.loc 1 3195 13 view .LVU3126
 10665              		.loc 1 3195 55 is_stmt 0 view .LVU3127
 10666 0058 16F80C3C 		ldrb	r3, [r6, #-12]	@ zero_extendqisi2
 10667              		.loc 1 3195 42 view .LVU3128
 10668 005c 3372     		strb	r3, [r6, #8]
3196:DMP/driver/eMPL/inv_mpu.c ****             mpu_get_fifo_config(&st.chip_cfg.cache.fifo_sensors);
 10669              		.loc 1 3196 13 is_stmt 1 view .LVU3129
 10670 005e 06F10900 		add	r0, r6, #9
 10671 0062 FFF7FEFF 		bl	mpu_get_fifo_config
 10672              	.LVL776:
 10673              	.L818:
3197:DMP/driver/eMPL/inv_mpu.c ****         }
3198:DMP/driver/eMPL/inv_mpu.c **** 
3199:DMP/driver/eMPL/inv_mpu.c **** #if defined MPU6500
3200:DMP/driver/eMPL/inv_mpu.c ****         /* Disable hardware interrupts. */
3201:DMP/driver/eMPL/inv_mpu.c ****         set_int_enable(0);
 10674              		.loc 1 3201 9 view .LVU3130
 10675 0066 0020     		movs	r0, #0
 10676 0068 FFF7FEFF 		bl	set_int_enable
 10677              	.LVL777:
3202:DMP/driver/eMPL/inv_mpu.c **** 
3203:DMP/driver/eMPL/inv_mpu.c ****         /* Enter full-power accel-only mode, no FIFO/DMP. */
3204:DMP/driver/eMPL/inv_mpu.c ****         data[0] = 0;
 10678              		.loc 1 3204 9 view .LVU3131
 10679              		.loc 1 3204 17 is_stmt 0 view .LVU3132
 10680 006c 0023     		movs	r3, #0
 10681 006e 8DF80430 		strb	r3, [sp, #4]
3205:DMP/driver/eMPL/inv_mpu.c ****         data[1] = 0;
 10682              		.loc 1 3205 9 is_stmt 1 view .LVU3133
 10683              		.loc 1 3205 17 is_stmt 0 view .LVU3134
 10684 0072 8DF80530 		strb	r3, [sp, #5]
3206:DMP/driver/eMPL/inv_mpu.c ****         data[2] = BIT_STBY_XYZG;
 10685              		.loc 1 3206 9 is_stmt 1 view .LVU3135
 10686              		.loc 1 3206 17 is_stmt 0 view .LVU3136
 10687 0076 0723     		movs	r3, #7
 10688 0078 8DF80630 		strb	r3, [sp, #6]
3207:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->user_ctrl, 3, data))
 10689              		.loc 1 3207 9 is_stmt 1 view .LVU3137
 10690              		.loc 1 3207 25 is_stmt 0 view .LVU3138
 10691 007c 6D4B     		ldr	r3, .L846
 10692 007e 5868     		ldr	r0, [r3, #4]
 10693              		.loc 1 3207 38 view .LVU3139
 10694 0080 1968     		ldr	r1, [r3]
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 289


 10695              		.loc 1 3207 13 view .LVU3140
 10696 0082 01AB     		add	r3, sp, #4
 10697 0084 0322     		movs	r2, #3
 10698 0086 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 10699 0088 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 10700 008a FFF7FEFF 		bl	MPU_Write_Len
 10701              	.LVL778:
 10702              		.loc 1 3207 12 view .LVU3141
 10703 008e 0028     		cmp	r0, #0
 10704 0090 40F0A380 		bne	.L833
3208:DMP/driver/eMPL/inv_mpu.c ****             goto lp_int_restore;
3209:DMP/driver/eMPL/inv_mpu.c **** 
3210:DMP/driver/eMPL/inv_mpu.c ****         /* Set motion threshold. */
3211:DMP/driver/eMPL/inv_mpu.c ****         data[0] = thresh_hw;
 10705              		.loc 1 3211 9 is_stmt 1 view .LVU3142
 10706              		.loc 1 3211 17 is_stmt 0 view .LVU3143
 10707 0094 8DF80440 		strb	r4, [sp, #4]
3212:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->motion_thr, 1, data))
 10708              		.loc 1 3212 9 is_stmt 1 view .LVU3144
 10709              		.loc 1 3212 25 is_stmt 0 view .LVU3145
 10710 0098 664B     		ldr	r3, .L846
 10711 009a 5868     		ldr	r0, [r3, #4]
 10712              		.loc 1 3212 38 view .LVU3146
 10713 009c 1968     		ldr	r1, [r3]
 10714              		.loc 1 3212 13 view .LVU3147
 10715 009e 01AB     		add	r3, sp, #4
 10716 00a0 0122     		movs	r2, #1
 10717 00a2 897A     		ldrb	r1, [r1, #10]	@ zero_extendqisi2
 10718 00a4 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 10719 00a6 FFF7FEFF 		bl	MPU_Write_Len
 10720              	.LVL779:
 10721              		.loc 1 3212 12 view .LVU3148
 10722 00aa 0028     		cmp	r0, #0
 10723 00ac 40F09580 		bne	.L833
3213:DMP/driver/eMPL/inv_mpu.c ****             goto lp_int_restore;
3214:DMP/driver/eMPL/inv_mpu.c **** 
3215:DMP/driver/eMPL/inv_mpu.c ****         /* Set wake frequency. */
3216:DMP/driver/eMPL/inv_mpu.c ****         if (lpa_freq == 1)
 10724              		.loc 1 3216 9 is_stmt 1 view .LVU3149
 10725              		.loc 1 3216 12 is_stmt 0 view .LVU3150
 10726 00b0 012D     		cmp	r5, #1
 10727 00b2 11D0     		beq	.L842
3217:DMP/driver/eMPL/inv_mpu.c ****             data[0] = INV_LPA_1_25HZ;
3218:DMP/driver/eMPL/inv_mpu.c ****         else if (lpa_freq == 2)
 10728              		.loc 1 3218 14 is_stmt 1 view .LVU3151
 10729              		.loc 1 3218 17 is_stmt 0 view .LVU3152
 10730 00b4 022D     		cmp	r5, #2
 10731 00b6 4BD0     		beq	.L843
3219:DMP/driver/eMPL/inv_mpu.c ****             data[0] = INV_LPA_2_5HZ;
3220:DMP/driver/eMPL/inv_mpu.c ****         else if (lpa_freq <= 5)
 10732              		.loc 1 3220 14 is_stmt 1 view .LVU3153
 10733              		.loc 1 3220 17 is_stmt 0 view .LVU3154
 10734 00b8 052D     		cmp	r5, #5
 10735 00ba 4DD8     		bhi	.L825
3221:DMP/driver/eMPL/inv_mpu.c ****             data[0] = INV_LPA_5HZ;
 10736              		.loc 1 3221 13 is_stmt 1 view .LVU3155
 10737              		.loc 1 3221 21 is_stmt 0 view .LVU3156
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 290


 10738 00bc 0423     		movs	r3, #4
 10739 00be 8DF80430 		strb	r3, [sp, #4]
 10740 00c2 0CE0     		b	.L823
 10741              	.LVL780:
 10742              	.L838:
3167:DMP/driver/eMPL/inv_mpu.c ****         else
 10743              		.loc 1 3167 23 view .LVU3157
 10744 00c4 0124     		movs	r4, #1
 10745 00c6 AAE7     		b	.L816
 10746              	.LVL781:
 10747              	.L841:
3187:DMP/driver/eMPL/inv_mpu.c ****                 st.chip_cfg.cache.dmp_on = 1;
 10748              		.loc 1 3187 17 is_stmt 1 view .LVU3158
 10749 00c8 0020     		movs	r0, #0
 10750              	.LVL782:
3187:DMP/driver/eMPL/inv_mpu.c ****                 st.chip_cfg.cache.dmp_on = 1;
 10751              		.loc 1 3187 17 is_stmt 0 view .LVU3159
 10752 00ca FFF7FEFF 		bl	mpu_set_dmp_state
 10753              	.LVL783:
3188:DMP/driver/eMPL/inv_mpu.c ****             } else
 10754              		.loc 1 3188 17 is_stmt 1 view .LVU3160
3188:DMP/driver/eMPL/inv_mpu.c ****             } else
 10755              		.loc 1 3188 42 is_stmt 0 view .LVU3161
 10756 00ce 594B     		ldr	r3, .L846
 10757 00d0 0122     		movs	r2, #1
 10758 00d2 83F82020 		strb	r2, [r3, #32]
 10759 00d6 B2E7     		b	.L820
 10760              	.L842:
3217:DMP/driver/eMPL/inv_mpu.c ****         else if (lpa_freq == 2)
 10761              		.loc 1 3217 13 is_stmt 1 view .LVU3162
3217:DMP/driver/eMPL/inv_mpu.c ****         else if (lpa_freq == 2)
 10762              		.loc 1 3217 21 is_stmt 0 view .LVU3163
 10763 00d8 0223     		movs	r3, #2
 10764 00da 8DF80430 		strb	r3, [sp, #4]
 10765              	.L823:
3222:DMP/driver/eMPL/inv_mpu.c ****         else if (lpa_freq <= 10)
3223:DMP/driver/eMPL/inv_mpu.c ****             data[0] = INV_LPA_10HZ;
3224:DMP/driver/eMPL/inv_mpu.c ****         else if (lpa_freq <= 20)
3225:DMP/driver/eMPL/inv_mpu.c ****             data[0] = INV_LPA_20HZ;
3226:DMP/driver/eMPL/inv_mpu.c ****         else if (lpa_freq <= 40)
3227:DMP/driver/eMPL/inv_mpu.c ****             data[0] = INV_LPA_40HZ;
3228:DMP/driver/eMPL/inv_mpu.c ****         else if (lpa_freq <= 80)
3229:DMP/driver/eMPL/inv_mpu.c ****             data[0] = INV_LPA_80HZ;
3230:DMP/driver/eMPL/inv_mpu.c ****         else if (lpa_freq <= 160)
3231:DMP/driver/eMPL/inv_mpu.c ****             data[0] = INV_LPA_160HZ;
3232:DMP/driver/eMPL/inv_mpu.c ****         else if (lpa_freq <= 320)
3233:DMP/driver/eMPL/inv_mpu.c ****             data[0] = INV_LPA_320HZ;
3234:DMP/driver/eMPL/inv_mpu.c ****         else
3235:DMP/driver/eMPL/inv_mpu.c ****             data[0] = INV_LPA_640HZ;
3236:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->lp_accel_odr, 1, data))
 10766              		.loc 1 3236 9 is_stmt 1 view .LVU3164
 10767              		.loc 1 3236 25 is_stmt 0 view .LVU3165
 10768 00de 554B     		ldr	r3, .L846
 10769 00e0 5868     		ldr	r0, [r3, #4]
 10770              		.loc 1 3236 38 view .LVU3166
 10771 00e2 1968     		ldr	r1, [r3]
 10772              		.loc 1 3236 13 view .LVU3167
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 291


 10773 00e4 01AB     		add	r3, sp, #4
 10774 00e6 0122     		movs	r2, #1
 10775 00e8 497A     		ldrb	r1, [r1, #9]	@ zero_extendqisi2
 10776 00ea 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 10777 00ec FFF7FEFF 		bl	MPU_Write_Len
 10778              	.LVL784:
 10779              		.loc 1 3236 12 view .LVU3168
 10780 00f0 0028     		cmp	r0, #0
 10781 00f2 72D1     		bne	.L833
3237:DMP/driver/eMPL/inv_mpu.c ****             goto lp_int_restore;
3238:DMP/driver/eMPL/inv_mpu.c **** 
3239:DMP/driver/eMPL/inv_mpu.c ****         /* Enable motion interrupt (MPU6500 version). */
3240:DMP/driver/eMPL/inv_mpu.c ****         data[0] = BITS_WOM_EN;
 10782              		.loc 1 3240 9 is_stmt 1 view .LVU3169
 10783              		.loc 1 3240 17 is_stmt 0 view .LVU3170
 10784 00f4 C023     		movs	r3, #192
 10785 00f6 8DF80430 		strb	r3, [sp, #4]
3241:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->accel_intel, 1, data))
 10786              		.loc 1 3241 9 is_stmt 1 view .LVU3171
 10787              		.loc 1 3241 25 is_stmt 0 view .LVU3172
 10788 00fa 4E4B     		ldr	r3, .L846
 10789 00fc 5868     		ldr	r0, [r3, #4]
 10790              		.loc 1 3241 38 view .LVU3173
 10791 00fe 1968     		ldr	r1, [r3]
 10792              		.loc 1 3241 13 view .LVU3174
 10793 0100 01AB     		add	r3, sp, #4
 10794 0102 0122     		movs	r2, #1
 10795 0104 097D     		ldrb	r1, [r1, #20]	@ zero_extendqisi2
 10796 0106 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 10797 0108 FFF7FEFF 		bl	MPU_Write_Len
 10798              	.LVL785:
 10799              		.loc 1 3241 12 view .LVU3175
 10800 010c 0028     		cmp	r0, #0
 10801 010e 64D1     		bne	.L833
3242:DMP/driver/eMPL/inv_mpu.c ****             goto lp_int_restore;
3243:DMP/driver/eMPL/inv_mpu.c **** 
3244:DMP/driver/eMPL/inv_mpu.c ****         /* Enable cycle mode. */
3245:DMP/driver/eMPL/inv_mpu.c ****         data[0] = BIT_LPA_CYCLE;
 10802              		.loc 1 3245 9 is_stmt 1 view .LVU3176
 10803              		.loc 1 3245 17 is_stmt 0 view .LVU3177
 10804 0110 2023     		movs	r3, #32
 10805 0112 8DF80430 		strb	r3, [sp, #4]
3246:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 1, data))
 10806              		.loc 1 3246 9 is_stmt 1 view .LVU3178
 10807              		.loc 1 3246 25 is_stmt 0 view .LVU3179
 10808 0116 474B     		ldr	r3, .L846
 10809 0118 5868     		ldr	r0, [r3, #4]
 10810              		.loc 1 3246 38 view .LVU3180
 10811 011a 1968     		ldr	r1, [r3]
 10812              		.loc 1 3246 13 view .LVU3181
 10813 011c 01AB     		add	r3, sp, #4
 10814 011e 0122     		movs	r2, #1
 10815 0120 497D     		ldrb	r1, [r1, #21]	@ zero_extendqisi2
 10816 0122 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 10817 0124 FFF7FEFF 		bl	MPU_Write_Len
 10818              	.LVL786:
 10819              		.loc 1 3246 12 view .LVU3182
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 292


 10820 0128 0028     		cmp	r0, #0
 10821 012a 56D1     		bne	.L833
3247:DMP/driver/eMPL/inv_mpu.c ****             goto lp_int_restore;
3248:DMP/driver/eMPL/inv_mpu.c **** 
3249:DMP/driver/eMPL/inv_mpu.c ****         /* Enable interrupt. */
3250:DMP/driver/eMPL/inv_mpu.c ****         data[0] = BIT_MOT_INT_EN;
 10822              		.loc 1 3250 9 is_stmt 1 view .LVU3183
 10823              		.loc 1 3250 17 is_stmt 0 view .LVU3184
 10824 012c 4023     		movs	r3, #64
 10825 012e 8DF80430 		strb	r3, [sp, #4]
3251:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->int_enable, 1, data))
 10826              		.loc 1 3251 9 is_stmt 1 view .LVU3185
 10827              		.loc 1 3251 25 is_stmt 0 view .LVU3186
 10828 0132 404B     		ldr	r3, .L846
 10829 0134 5868     		ldr	r0, [r3, #4]
 10830              		.loc 1 3251 38 view .LVU3187
 10831 0136 1968     		ldr	r1, [r3]
 10832              		.loc 1 3251 13 view .LVU3188
 10833 0138 01AB     		add	r3, sp, #4
 10834 013a 0122     		movs	r2, #1
 10835 013c 497C     		ldrb	r1, [r1, #17]	@ zero_extendqisi2
 10836 013e 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 10837 0140 FFF7FEFF 		bl	MPU_Write_Len
 10838              	.LVL787:
 10839              		.loc 1 3251 12 view .LVU3189
 10840 0144 0028     		cmp	r0, #0
 10841 0146 48D1     		bne	.L833
3252:DMP/driver/eMPL/inv_mpu.c ****             goto lp_int_restore;
3253:DMP/driver/eMPL/inv_mpu.c **** 
3254:DMP/driver/eMPL/inv_mpu.c ****         st.chip_cfg.int_motion_only = 1;
 10842              		.loc 1 3254 9 is_stmt 1 view .LVU3190
 10843              		.loc 1 3254 37 is_stmt 0 view .LVU3191
 10844 0148 3A4B     		ldr	r3, .L846
 10845 014a 0122     		movs	r2, #1
 10846 014c 5A75     		strb	r2, [r3, #21]
3255:DMP/driver/eMPL/inv_mpu.c ****         return 0;
 10847              		.loc 1 3255 9 is_stmt 1 view .LVU3192
 10848              		.loc 1 3255 16 is_stmt 0 view .LVU3193
 10849 014e 6CE0     		b	.L814
 10850              	.L843:
3219:DMP/driver/eMPL/inv_mpu.c ****         else if (lpa_freq <= 5)
 10851              		.loc 1 3219 13 is_stmt 1 view .LVU3194
3219:DMP/driver/eMPL/inv_mpu.c ****         else if (lpa_freq <= 5)
 10852              		.loc 1 3219 21 is_stmt 0 view .LVU3195
 10853 0150 0323     		movs	r3, #3
 10854 0152 8DF80430 		strb	r3, [sp, #4]
 10855 0156 C2E7     		b	.L823
 10856              	.L825:
3222:DMP/driver/eMPL/inv_mpu.c ****             data[0] = INV_LPA_10HZ;
 10857              		.loc 1 3222 14 is_stmt 1 view .LVU3196
3222:DMP/driver/eMPL/inv_mpu.c ****             data[0] = INV_LPA_10HZ;
 10858              		.loc 1 3222 17 is_stmt 0 view .LVU3197
 10859 0158 0A2D     		cmp	r5, #10
 10860 015a 03D8     		bhi	.L826
3223:DMP/driver/eMPL/inv_mpu.c ****         else if (lpa_freq <= 20)
 10861              		.loc 1 3223 13 is_stmt 1 view .LVU3198
3223:DMP/driver/eMPL/inv_mpu.c ****         else if (lpa_freq <= 20)
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 293


 10862              		.loc 1 3223 21 is_stmt 0 view .LVU3199
 10863 015c 0523     		movs	r3, #5
 10864 015e 8DF80430 		strb	r3, [sp, #4]
 10865 0162 BCE7     		b	.L823
 10866              	.L826:
3224:DMP/driver/eMPL/inv_mpu.c ****             data[0] = INV_LPA_20HZ;
 10867              		.loc 1 3224 14 is_stmt 1 view .LVU3200
3224:DMP/driver/eMPL/inv_mpu.c ****             data[0] = INV_LPA_20HZ;
 10868              		.loc 1 3224 17 is_stmt 0 view .LVU3201
 10869 0164 142D     		cmp	r5, #20
 10870 0166 03D8     		bhi	.L827
3225:DMP/driver/eMPL/inv_mpu.c ****         else if (lpa_freq <= 40)
 10871              		.loc 1 3225 13 is_stmt 1 view .LVU3202
3225:DMP/driver/eMPL/inv_mpu.c ****         else if (lpa_freq <= 40)
 10872              		.loc 1 3225 21 is_stmt 0 view .LVU3203
 10873 0168 0623     		movs	r3, #6
 10874 016a 8DF80430 		strb	r3, [sp, #4]
 10875 016e B6E7     		b	.L823
 10876              	.L827:
3226:DMP/driver/eMPL/inv_mpu.c ****             data[0] = INV_LPA_40HZ;
 10877              		.loc 1 3226 14 is_stmt 1 view .LVU3204
3226:DMP/driver/eMPL/inv_mpu.c ****             data[0] = INV_LPA_40HZ;
 10878              		.loc 1 3226 17 is_stmt 0 view .LVU3205
 10879 0170 282D     		cmp	r5, #40
 10880 0172 03D8     		bhi	.L828
3227:DMP/driver/eMPL/inv_mpu.c ****         else if (lpa_freq <= 80)
 10881              		.loc 1 3227 13 is_stmt 1 view .LVU3206
3227:DMP/driver/eMPL/inv_mpu.c ****         else if (lpa_freq <= 80)
 10882              		.loc 1 3227 21 is_stmt 0 view .LVU3207
 10883 0174 0723     		movs	r3, #7
 10884 0176 8DF80430 		strb	r3, [sp, #4]
 10885 017a B0E7     		b	.L823
 10886              	.L828:
3228:DMP/driver/eMPL/inv_mpu.c ****             data[0] = INV_LPA_80HZ;
 10887              		.loc 1 3228 14 is_stmt 1 view .LVU3208
3228:DMP/driver/eMPL/inv_mpu.c ****             data[0] = INV_LPA_80HZ;
 10888              		.loc 1 3228 17 is_stmt 0 view .LVU3209
 10889 017c 502D     		cmp	r5, #80
 10890 017e 03D8     		bhi	.L829
3229:DMP/driver/eMPL/inv_mpu.c ****         else if (lpa_freq <= 160)
 10891              		.loc 1 3229 13 is_stmt 1 view .LVU3210
3229:DMP/driver/eMPL/inv_mpu.c ****         else if (lpa_freq <= 160)
 10892              		.loc 1 3229 21 is_stmt 0 view .LVU3211
 10893 0180 0823     		movs	r3, #8
 10894 0182 8DF80430 		strb	r3, [sp, #4]
 10895 0186 AAE7     		b	.L823
 10896              	.L829:
3230:DMP/driver/eMPL/inv_mpu.c ****             data[0] = INV_LPA_160HZ;
 10897              		.loc 1 3230 14 is_stmt 1 view .LVU3212
3230:DMP/driver/eMPL/inv_mpu.c ****             data[0] = INV_LPA_160HZ;
 10898              		.loc 1 3230 17 is_stmt 0 view .LVU3213
 10899 0188 A02D     		cmp	r5, #160
 10900 018a 03D8     		bhi	.L830
3231:DMP/driver/eMPL/inv_mpu.c ****         else if (lpa_freq <= 320)
 10901              		.loc 1 3231 13 is_stmt 1 view .LVU3214
3231:DMP/driver/eMPL/inv_mpu.c ****         else if (lpa_freq <= 320)
 10902              		.loc 1 3231 21 is_stmt 0 view .LVU3215
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 294


 10903 018c 0923     		movs	r3, #9
 10904 018e 8DF80430 		strb	r3, [sp, #4]
 10905 0192 A4E7     		b	.L823
 10906              	.L830:
3232:DMP/driver/eMPL/inv_mpu.c ****             data[0] = INV_LPA_320HZ;
 10907              		.loc 1 3232 14 is_stmt 1 view .LVU3216
3232:DMP/driver/eMPL/inv_mpu.c ****             data[0] = INV_LPA_320HZ;
 10908              		.loc 1 3232 17 is_stmt 0 view .LVU3217
 10909 0194 B5F5A07F 		cmp	r5, #320
 10910 0198 03D8     		bhi	.L831
3233:DMP/driver/eMPL/inv_mpu.c ****         else
 10911              		.loc 1 3233 13 is_stmt 1 view .LVU3218
3233:DMP/driver/eMPL/inv_mpu.c ****         else
 10912              		.loc 1 3233 21 is_stmt 0 view .LVU3219
 10913 019a 0A23     		movs	r3, #10
 10914 019c 8DF80430 		strb	r3, [sp, #4]
 10915 01a0 9DE7     		b	.L823
 10916              	.L831:
3235:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->lp_accel_odr, 1, data))
 10917              		.loc 1 3235 13 is_stmt 1 view .LVU3220
3235:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->lp_accel_odr, 1, data))
 10918              		.loc 1 3235 21 is_stmt 0 view .LVU3221
 10919 01a2 0B23     		movs	r3, #11
 10920 01a4 8DF80430 		strb	r3, [sp, #4]
 10921 01a8 99E7     		b	.L823
 10922              	.LVL788:
 10923              	.L836:
3235:DMP/driver/eMPL/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->lp_accel_odr, 1, data))
 10924              		.loc 1 3235 21 view .LVU3222
 10925              	.LBE6:
 10926              	.LBB7:
3256:DMP/driver/eMPL/inv_mpu.c **** #endif
3257:DMP/driver/eMPL/inv_mpu.c ****     } else {
3258:DMP/driver/eMPL/inv_mpu.c ****         /* Don't "restore" the previous state if no state has been saved. */
3259:DMP/driver/eMPL/inv_mpu.c ****         unsigned int ii;
3260:DMP/driver/eMPL/inv_mpu.c ****         char *cache_ptr = (char*)&st.chip_cfg.cache;
3261:DMP/driver/eMPL/inv_mpu.c ****         for (ii = 0; ii < sizeof(st.chip_cfg.cache); ii++) {
 10927              		.loc 1 3261 17 view .LVU3223
 10928 01aa 0023     		movs	r3, #0
 10929              	.LVL789:
 10930              	.L815:
 10931              		.loc 1 3261 25 is_stmt 1 discriminator 1 view .LVU3224
 10932 01ac 0B2B     		cmp	r3, #11
 10933 01ae 04D8     		bhi	.L844
3262:DMP/driver/eMPL/inv_mpu.c ****             if (cache_ptr[ii] != 0)
 10934              		.loc 1 3262 13 view .LVU3225
 10935              		.loc 1 3262 26 is_stmt 0 view .LVU3226
 10936 01b0 214A     		ldr	r2, .L846+4
 10937 01b2 D25C     		ldrb	r2, [r2, r3]	@ zero_extendqisi2
 10938              		.loc 1 3262 16 view .LVU3227
 10939 01b4 8AB9     		cbnz	r2, .L833
3261:DMP/driver/eMPL/inv_mpu.c ****             if (cache_ptr[ii] != 0)
 10940              		.loc 1 3261 56 is_stmt 1 discriminator 2 view .LVU3228
 10941 01b6 0133     		adds	r3, r3, #1
 10942              	.LVL790:
3261:DMP/driver/eMPL/inv_mpu.c ****             if (cache_ptr[ii] != 0)
 10943              		.loc 1 3261 56 is_stmt 0 discriminator 2 view .LVU3229
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 295


 10944 01b8 F8E7     		b	.L815
 10945              	.L844:
3263:DMP/driver/eMPL/inv_mpu.c ****                 goto lp_int_restore;
3264:DMP/driver/eMPL/inv_mpu.c ****         }
3265:DMP/driver/eMPL/inv_mpu.c ****         /* If we reach this point, motion interrupt mode hasn't been used yet. */
3266:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 10946              		.loc 1 3266 16 view .LVU3230
 10947 01ba 4FF0FF30 		mov	r0, #-1
 10948              	.LVL791:
 10949              		.loc 1 3266 16 view .LVU3231
 10950 01be 34E0     		b	.L814
 10951              	.LVL792:
 10952              	.L835:
 10953              		.loc 1 3266 16 view .LVU3232
 10954              	.LBE7:
3267:DMP/driver/eMPL/inv_mpu.c ****     }
3268:DMP/driver/eMPL/inv_mpu.c **** lp_int_restore:
3269:DMP/driver/eMPL/inv_mpu.c ****     /* Set to invalid values to ensure no I2C writes are skipped. */
3270:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.gyro_fsr = 0xFF;
3271:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.accel_fsr = 0xFF;
3272:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.lpf = 0xFF;
3273:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.sample_rate = 0xFFFF;
3274:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.sensors = 0xFF;
3275:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.fifo_enable = 0xFF;
3276:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.clk_src = INV_CLK_PLL;
3277:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_sensors(st.chip_cfg.cache.sensors_on);
3278:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_gyro_fsr(st.chip_cfg.cache.gyro_fsr);
3279:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_accel_fsr(st.chip_cfg.cache.accel_fsr);
3280:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_lpf(st.chip_cfg.cache.lpf);
3281:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_sample_rate(st.chip_cfg.cache.sample_rate);
3282:DMP/driver/eMPL/inv_mpu.c ****     mpu_configure_fifo(st.chip_cfg.cache.fifo_sensors);
3283:DMP/driver/eMPL/inv_mpu.c **** 
3284:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.cache.dmp_on)
3285:DMP/driver/eMPL/inv_mpu.c ****         mpu_set_dmp_state(1);
3286:DMP/driver/eMPL/inv_mpu.c **** 
3287:DMP/driver/eMPL/inv_mpu.c **** #ifdef MPU6500
3288:DMP/driver/eMPL/inv_mpu.c ****     /* Disable motion interrupt (MPU6500 version). */
3289:DMP/driver/eMPL/inv_mpu.c ****     data[0] = 0;
 10955              		.loc 1 3289 5 is_stmt 1 view .LVU3233
 10956              		.loc 1 3289 13 is_stmt 0 view .LVU3234
 10957 01c0 0023     		movs	r3, #0
 10958 01c2 8DF80430 		strb	r3, [sp, #4]
3290:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->accel_intel, 1, data))
 10959              		.loc 1 3290 5 is_stmt 1 view .LVU3235
 10960              		.loc 1 3290 21 is_stmt 0 view .LVU3236
 10961 01c6 1B4B     		ldr	r3, .L846
 10962 01c8 5868     		ldr	r0, [r3, #4]
 10963              		.loc 1 3290 34 view .LVU3237
 10964 01ca 1968     		ldr	r1, [r3]
 10965              		.loc 1 3290 9 view .LVU3238
 10966 01cc 01AB     		add	r3, sp, #4
 10967 01ce 0122     		movs	r2, #1
 10968 01d0 097D     		ldrb	r1, [r1, #20]	@ zero_extendqisi2
 10969 01d2 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 10970 01d4 FFF7FEFF 		bl	MPU_Write_Len
 10971              	.LVL793:
 10972              		.loc 1 3290 8 view .LVU3239
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 296


 10973 01d8 28B3     		cbz	r0, .L845
 10974              	.L833:
3270:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.accel_fsr = 0xFF;
 10975              		.loc 1 3270 5 is_stmt 1 view .LVU3240
3270:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.accel_fsr = 0xFF;
 10976              		.loc 1 3270 26 is_stmt 0 view .LVU3241
 10977 01da 164C     		ldr	r4, .L846
 10978 01dc FF23     		movs	r3, #255
 10979 01de 2372     		strb	r3, [r4, #8]
3271:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.lpf = 0xFF;
 10980              		.loc 1 3271 5 is_stmt 1 view .LVU3242
3271:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.lpf = 0xFF;
 10981              		.loc 1 3271 27 is_stmt 0 view .LVU3243
 10982 01e0 6372     		strb	r3, [r4, #9]
3272:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.sample_rate = 0xFFFF;
 10983              		.loc 1 3272 5 is_stmt 1 view .LVU3244
3272:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.sample_rate = 0xFFFF;
 10984              		.loc 1 3272 21 is_stmt 0 view .LVU3245
 10985 01e2 E372     		strb	r3, [r4, #11]
3273:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.sensors = 0xFF;
 10986              		.loc 1 3273 5 is_stmt 1 view .LVU3246
3273:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.sensors = 0xFF;
 10987              		.loc 1 3273 29 is_stmt 0 view .LVU3247
 10988 01e4 4FF6FF72 		movw	r2, #65535
 10989 01e8 E281     		strh	r2, [r4, #14]	@ movhi
3274:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.fifo_enable = 0xFF;
 10990              		.loc 1 3274 5 is_stmt 1 view .LVU3248
3274:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.fifo_enable = 0xFF;
 10991              		.loc 1 3274 25 is_stmt 0 view .LVU3249
 10992 01ea A372     		strb	r3, [r4, #10]
3275:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.clk_src = INV_CLK_PLL;
 10993              		.loc 1 3275 5 is_stmt 1 view .LVU3250
3275:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.clk_src = INV_CLK_PLL;
 10994              		.loc 1 3275 29 is_stmt 0 view .LVU3251
 10995 01ec 2374     		strb	r3, [r4, #16]
3276:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_sensors(st.chip_cfg.cache.sensors_on);
 10996              		.loc 1 3276 5 is_stmt 1 view .LVU3252
3276:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_sensors(st.chip_cfg.cache.sensors_on);
 10997              		.loc 1 3276 25 is_stmt 0 view .LVU3253
 10998 01ee 0123     		movs	r3, #1
 10999 01f0 2373     		strb	r3, [r4, #12]
3277:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_gyro_fsr(st.chip_cfg.cache.gyro_fsr);
 11000              		.loc 1 3277 5 is_stmt 1 view .LVU3254
 11001 01f2 A07F     		ldrb	r0, [r4, #30]	@ zero_extendqisi2
 11002 01f4 FFF7FEFF 		bl	mpu_set_sensors
 11003              	.LVL794:
3278:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_accel_fsr(st.chip_cfg.cache.accel_fsr);
 11004              		.loc 1 3278 5 view .LVU3255
 11005 01f8 E08A     		ldrh	r0, [r4, #22]
 11006 01fa FFF7FEFF 		bl	mpu_set_gyro_fsr
 11007              	.LVL795:
3279:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_lpf(st.chip_cfg.cache.lpf);
 11008              		.loc 1 3279 5 view .LVU3256
 11009 01fe 207E     		ldrb	r0, [r4, #24]	@ zero_extendqisi2
 11010 0200 FFF7FEFF 		bl	mpu_set_accel_fsr
 11011              	.LVL796:
3280:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_sample_rate(st.chip_cfg.cache.sample_rate);
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 297


 11012              		.loc 1 3280 5 view .LVU3257
 11013 0204 608B     		ldrh	r0, [r4, #26]
 11014 0206 FFF7FEFF 		bl	mpu_set_lpf
 11015              	.LVL797:
3281:DMP/driver/eMPL/inv_mpu.c ****     mpu_configure_fifo(st.chip_cfg.cache.fifo_sensors);
 11016              		.loc 1 3281 5 view .LVU3258
 11017 020a A08B     		ldrh	r0, [r4, #28]
 11018 020c FFF7FEFF 		bl	mpu_set_sample_rate
 11019              	.LVL798:
3282:DMP/driver/eMPL/inv_mpu.c **** 
 11020              		.loc 1 3282 5 view .LVU3259
 11021 0210 E07F     		ldrb	r0, [r4, #31]	@ zero_extendqisi2
 11022 0212 FFF7FEFF 		bl	mpu_configure_fifo
 11023              	.LVL799:
3284:DMP/driver/eMPL/inv_mpu.c ****         mpu_set_dmp_state(1);
 11024              		.loc 1 3284 5 view .LVU3260
3284:DMP/driver/eMPL/inv_mpu.c ****         mpu_set_dmp_state(1);
 11025              		.loc 1 3284 26 is_stmt 0 view .LVU3261
 11026 0216 94F82030 		ldrb	r3, [r4, #32]	@ zero_extendqisi2
3284:DMP/driver/eMPL/inv_mpu.c ****         mpu_set_dmp_state(1);
 11027              		.loc 1 3284 8 view .LVU3262
 11028 021a 002B     		cmp	r3, #0
 11029 021c D0D0     		beq	.L835
3285:DMP/driver/eMPL/inv_mpu.c **** 
 11030              		.loc 1 3285 9 is_stmt 1 view .LVU3263
 11031 021e 0120     		movs	r0, #1
 11032 0220 FFF7FEFF 		bl	mpu_set_dmp_state
 11033              	.LVL800:
 11034 0224 CCE7     		b	.L835
 11035              	.L845:
3291:DMP/driver/eMPL/inv_mpu.c ****         goto lp_int_restore;
3292:DMP/driver/eMPL/inv_mpu.c **** #endif
3293:DMP/driver/eMPL/inv_mpu.c **** 
3294:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.int_motion_only = 0;
 11036              		.loc 1 3294 5 view .LVU3264
 11037              		.loc 1 3294 33 is_stmt 0 view .LVU3265
 11038 0226 034B     		ldr	r3, .L846
 11039 0228 5875     		strb	r0, [r3, #21]
3295:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 11040              		.loc 1 3295 5 is_stmt 1 view .LVU3266
 11041              	.L814:
3296:DMP/driver/eMPL/inv_mpu.c **** }
 11042              		.loc 1 3296 1 is_stmt 0 view .LVU3267
 11043 022a 02B0     		add	sp, sp, #8
 11044              	.LCFI191:
 11045              		.cfi_remember_state
 11046              		.cfi_def_cfa_offset 16
 11047              		@ sp needed
 11048 022c 70BD     		pop	{r4, r5, r6, pc}
 11049              	.LVL801:
 11050              	.L839:
 11051              	.LCFI192:
 11052              		.cfi_restore_state
 11053              	.LBB8:
3181:DMP/driver/eMPL/inv_mpu.c **** #endif
 11054              		.loc 1 3181 20 view .LVU3268
 11055 022e 4FF0FF30 		mov	r0, #-1
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 298


 11056              	.LVL802:
3181:DMP/driver/eMPL/inv_mpu.c **** #endif
 11057              		.loc 1 3181 20 view .LVU3269
 11058 0232 FAE7     		b	.L814
 11059              	.L847:
 11060              		.align	2
 11061              	.L846:
 11062 0234 00000000 		.word	st
 11063 0238 16000000 		.word	st+22
 11064              	.LBE8:
 11065              		.cfi_endproc
 11066              	.LFE219:
 11068              		.section	.text.run_self_test,"ax",%progbits
 11069              		.align	1
 11070              		.global	run_self_test
 11071              		.syntax unified
 11072              		.thumb
 11073              		.thumb_func
 11075              	run_self_test:
 11076              	.LFB220:
3297:DMP/driver/eMPL/inv_mpu.c **** 
3298:DMP/driver/eMPL/inv_mpu.c **** //////////////////////////////////////////////////////////////////////////////////
3299:DMP/driver/eMPL/inv_mpu.c **** //添加的代码部分
3300:DMP/driver/eMPL/inv_mpu.c **** //////////////////////////////////////////////////////////////////////////////////	  
3301:DMP/driver/eMPL/inv_mpu.c **** //ALIENTEK STM32F746开发板
3302:DMP/driver/eMPL/inv_mpu.c **** //MPU9250 DMP 驱动代码	   
3303:DMP/driver/eMPL/inv_mpu.c **** //正点原子@ALIENTEK
3304:DMP/driver/eMPL/inv_mpu.c **** //技术论坛:www.openedv.com
3305:DMP/driver/eMPL/inv_mpu.c **** //创建日期:2015/12/30
3306:DMP/driver/eMPL/inv_mpu.c **** //版本：V1.0 
3307:DMP/driver/eMPL/inv_mpu.c **** //Copyright(C) 广州市星翼电子科技有限公司 2014-2024
3308:DMP/driver/eMPL/inv_mpu.c **** //All rights reserved									  
3309:DMP/driver/eMPL/inv_mpu.c **** ////////////////////////////////////////////////////////////////////////////////// 
3310:DMP/driver/eMPL/inv_mpu.c **** 
3311:DMP/driver/eMPL/inv_mpu.c **** //q30，q16格式,long转float时的除数.
3312:DMP/driver/eMPL/inv_mpu.c **** #define q30  1073741824.0f
3313:DMP/driver/eMPL/inv_mpu.c **** #define q16  65536.0f
3314:DMP/driver/eMPL/inv_mpu.c **** 
3315:DMP/driver/eMPL/inv_mpu.c **** //陀螺仪方向设置
3316:DMP/driver/eMPL/inv_mpu.c **** static signed char gyro_orientation[9] = { 1, 0, 0,
3317:DMP/driver/eMPL/inv_mpu.c ****                                            0, 1, 0,
3318:DMP/driver/eMPL/inv_mpu.c ****                                            0, 0, 1};
3319:DMP/driver/eMPL/inv_mpu.c **** //磁力计方向设置
3320:DMP/driver/eMPL/inv_mpu.c **** static signed char comp_orientation[9] = { 0, 1, 0,
3321:DMP/driver/eMPL/inv_mpu.c ****                                            1, 0, 0,
3322:DMP/driver/eMPL/inv_mpu.c ****                                            0, 0,-1};
3323:DMP/driver/eMPL/inv_mpu.c **** //MPU9250自测试
3324:DMP/driver/eMPL/inv_mpu.c **** //返回值:0,正常
3325:DMP/driver/eMPL/inv_mpu.c **** //    其他,失败
3326:DMP/driver/eMPL/inv_mpu.c **** u8 run_self_test(void)
3327:DMP/driver/eMPL/inv_mpu.c **** {
 11077              		.loc 1 3327 1 is_stmt 1 view -0
 11078              		.cfi_startproc
 11079              		@ args = 0, pretend = 0, frame = 32
 11080              		@ frame_needed = 0, uses_anonymous_args = 0
 11081 0000 00B5     		push	{lr}
 11082              	.LCFI193:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 299


 11083              		.cfi_def_cfa_offset 4
 11084              		.cfi_offset 14, -4
 11085 0002 89B0     		sub	sp, sp, #36
 11086              	.LCFI194:
 11087              		.cfi_def_cfa_offset 40
3328:DMP/driver/eMPL/inv_mpu.c **** 	int result;
 11088              		.loc 1 3328 2 view .LVU3271
3329:DMP/driver/eMPL/inv_mpu.c **** 	//char test_packet[4] = {0};
3330:DMP/driver/eMPL/inv_mpu.c **** 	long gyro[3], accel[3]; 
 11089              		.loc 1 3330 2 view .LVU3272
3331:DMP/driver/eMPL/inv_mpu.c **** 	result = mpu_run_6500_self_test(gyro, accel,0);
 11090              		.loc 1 3331 2 view .LVU3273
 11091              		.loc 1 3331 11 is_stmt 0 view .LVU3274
 11092 0004 0022     		movs	r2, #0
 11093 0006 02A9     		add	r1, sp, #8
 11094 0008 05A8     		add	r0, sp, #20
 11095 000a FFF7FEFF 		bl	mpu_run_6500_self_test
 11096              	.LVL803:
3332:DMP/driver/eMPL/inv_mpu.c **** 	if (result == 0x7) 
 11097              		.loc 1 3332 2 is_stmt 1 view .LVU3275
 11098              		.loc 1 3332 5 is_stmt 0 view .LVU3276
 11099 000e 0728     		cmp	r0, #7
 11100 0010 03D0     		beq	.L852
3333:DMP/driver/eMPL/inv_mpu.c **** 	{
3334:DMP/driver/eMPL/inv_mpu.c **** 		/* Test passed. We can trust the gyro data here, so let's push it down
3335:DMP/driver/eMPL/inv_mpu.c **** 		* to the DMP.
3336:DMP/driver/eMPL/inv_mpu.c **** 		*/
3337:DMP/driver/eMPL/inv_mpu.c ****         unsigned short accel_sens;
3338:DMP/driver/eMPL/inv_mpu.c **** 		float gyro_sens;
3339:DMP/driver/eMPL/inv_mpu.c **** 
3340:DMP/driver/eMPL/inv_mpu.c **** 		mpu_get_gyro_sens(&gyro_sens);
3341:DMP/driver/eMPL/inv_mpu.c **** 		gyro[0] = (long)(gyro[0] * gyro_sens);
3342:DMP/driver/eMPL/inv_mpu.c **** 		gyro[1] = (long)(gyro[1] * gyro_sens);
3343:DMP/driver/eMPL/inv_mpu.c **** 		gyro[2] = (long)(gyro[2] * gyro_sens);
3344:DMP/driver/eMPL/inv_mpu.c ****         //inv_set_gyro_bias(gyro, 3);
3345:DMP/driver/eMPL/inv_mpu.c **** 		dmp_set_gyro_bias(gyro);
3346:DMP/driver/eMPL/inv_mpu.c **** 		mpu_get_accel_sens(&accel_sens);
3347:DMP/driver/eMPL/inv_mpu.c **** 		accel[0] *= accel_sens;
3348:DMP/driver/eMPL/inv_mpu.c **** 		accel[1] *= accel_sens;
3349:DMP/driver/eMPL/inv_mpu.c **** 		accel[2] *= accel_sens;
3350:DMP/driver/eMPL/inv_mpu.c ****        // inv_set_accel_bias(accel, 3);
3351:DMP/driver/eMPL/inv_mpu.c **** 		dmp_set_accel_bias(accel);
3352:DMP/driver/eMPL/inv_mpu.c **** 		return 0;
3353:DMP/driver/eMPL/inv_mpu.c **** 	}else return 1;
 11101              		.loc 1 3353 15 view .LVU3277
 11102 0012 0120     		movs	r0, #1
 11103              	.LVL804:
 11104              	.L849:
3354:DMP/driver/eMPL/inv_mpu.c **** }
 11105              		.loc 1 3354 1 discriminator 1 view .LVU3278
 11106 0014 09B0     		add	sp, sp, #36
 11107              	.LCFI195:
 11108              		.cfi_remember_state
 11109              		.cfi_def_cfa_offset 4
 11110              		@ sp needed
 11111 0016 5DF804FB 		ldr	pc, [sp], #4
 11112              	.LVL805:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 300


 11113              	.L852:
 11114              	.LCFI196:
 11115              		.cfi_restore_state
 11116              	.LBB9:
3337:DMP/driver/eMPL/inv_mpu.c **** 		float gyro_sens;
 11117              		.loc 1 3337 9 is_stmt 1 view .LVU3279
3338:DMP/driver/eMPL/inv_mpu.c **** 
 11118              		.loc 1 3338 3 view .LVU3280
3340:DMP/driver/eMPL/inv_mpu.c **** 		gyro[0] = (long)(gyro[0] * gyro_sens);
 11119              		.loc 1 3340 3 view .LVU3281
 11120 001a 01A8     		add	r0, sp, #4
 11121              	.LVL806:
3340:DMP/driver/eMPL/inv_mpu.c **** 		gyro[0] = (long)(gyro[0] * gyro_sens);
 11122              		.loc 1 3340 3 is_stmt 0 view .LVU3282
 11123 001c FFF7FEFF 		bl	mpu_get_gyro_sens
 11124              	.LVL807:
3341:DMP/driver/eMPL/inv_mpu.c **** 		gyro[1] = (long)(gyro[1] * gyro_sens);
 11125              		.loc 1 3341 3 is_stmt 1 view .LVU3283
3341:DMP/driver/eMPL/inv_mpu.c **** 		gyro[1] = (long)(gyro[1] * gyro_sens);
 11126              		.loc 1 3341 28 is_stmt 0 view .LVU3284
 11127 0020 9DED017A 		vldr.32	s14, [sp, #4]
 11128 0024 DDED057A 		vldr.32	s15, [sp, #20]	@ int
 11129 0028 F8EEE77A 		vcvt.f32.s32	s15, s15
 11130 002c 67EE877A 		vmul.f32	s15, s15, s14
3341:DMP/driver/eMPL/inv_mpu.c **** 		gyro[1] = (long)(gyro[1] * gyro_sens);
 11131              		.loc 1 3341 13 view .LVU3285
 11132 0030 FDEEE77A 		vcvt.s32.f32	s15, s15
3341:DMP/driver/eMPL/inv_mpu.c **** 		gyro[1] = (long)(gyro[1] * gyro_sens);
 11133              		.loc 1 3341 11 view .LVU3286
 11134 0034 CDED057A 		vstr.32	s15, [sp, #20]	@ int
3342:DMP/driver/eMPL/inv_mpu.c **** 		gyro[2] = (long)(gyro[2] * gyro_sens);
 11135              		.loc 1 3342 3 is_stmt 1 view .LVU3287
3342:DMP/driver/eMPL/inv_mpu.c **** 		gyro[2] = (long)(gyro[2] * gyro_sens);
 11136              		.loc 1 3342 28 is_stmt 0 view .LVU3288
 11137 0038 DDED067A 		vldr.32	s15, [sp, #24]	@ int
 11138 003c F8EEE77A 		vcvt.f32.s32	s15, s15
 11139 0040 67EE877A 		vmul.f32	s15, s15, s14
3342:DMP/driver/eMPL/inv_mpu.c **** 		gyro[2] = (long)(gyro[2] * gyro_sens);
 11140              		.loc 1 3342 13 view .LVU3289
 11141 0044 FDEEE77A 		vcvt.s32.f32	s15, s15
3342:DMP/driver/eMPL/inv_mpu.c **** 		gyro[2] = (long)(gyro[2] * gyro_sens);
 11142              		.loc 1 3342 11 view .LVU3290
 11143 0048 CDED067A 		vstr.32	s15, [sp, #24]	@ int
3343:DMP/driver/eMPL/inv_mpu.c ****         //inv_set_gyro_bias(gyro, 3);
 11144              		.loc 1 3343 3 is_stmt 1 view .LVU3291
3343:DMP/driver/eMPL/inv_mpu.c ****         //inv_set_gyro_bias(gyro, 3);
 11145              		.loc 1 3343 28 is_stmt 0 view .LVU3292
 11146 004c DDED077A 		vldr.32	s15, [sp, #28]	@ int
 11147 0050 F8EEE77A 		vcvt.f32.s32	s15, s15
 11148 0054 67EE877A 		vmul.f32	s15, s15, s14
3343:DMP/driver/eMPL/inv_mpu.c ****         //inv_set_gyro_bias(gyro, 3);
 11149              		.loc 1 3343 13 view .LVU3293
 11150 0058 FDEEE77A 		vcvt.s32.f32	s15, s15
3343:DMP/driver/eMPL/inv_mpu.c ****         //inv_set_gyro_bias(gyro, 3);
 11151              		.loc 1 3343 11 view .LVU3294
 11152 005c CDED077A 		vstr.32	s15, [sp, #28]	@ int
3345:DMP/driver/eMPL/inv_mpu.c **** 		mpu_get_accel_sens(&accel_sens);
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 301


 11153              		.loc 1 3345 3 is_stmt 1 view .LVU3295
 11154 0060 05A8     		add	r0, sp, #20
 11155 0062 FFF7FEFF 		bl	dmp_set_gyro_bias
 11156              	.LVL808:
3346:DMP/driver/eMPL/inv_mpu.c **** 		accel[0] *= accel_sens;
 11157              		.loc 1 3346 3 view .LVU3296
 11158 0066 0DF10200 		add	r0, sp, #2
 11159 006a FFF7FEFF 		bl	mpu_get_accel_sens
 11160              	.LVL809:
3347:DMP/driver/eMPL/inv_mpu.c **** 		accel[1] *= accel_sens;
 11161              		.loc 1 3347 3 view .LVU3297
3347:DMP/driver/eMPL/inv_mpu.c **** 		accel[1] *= accel_sens;
 11162              		.loc 1 3347 12 is_stmt 0 view .LVU3298
 11163 006e BDF80230 		ldrh	r3, [sp, #2]
 11164 0072 029A     		ldr	r2, [sp, #8]
 11165 0074 03FB02F2 		mul	r2, r3, r2
 11166 0078 0292     		str	r2, [sp, #8]
3348:DMP/driver/eMPL/inv_mpu.c **** 		accel[2] *= accel_sens;
 11167              		.loc 1 3348 3 is_stmt 1 view .LVU3299
3348:DMP/driver/eMPL/inv_mpu.c **** 		accel[2] *= accel_sens;
 11168              		.loc 1 3348 8 is_stmt 0 view .LVU3300
 11169 007a 039A     		ldr	r2, [sp, #12]
3348:DMP/driver/eMPL/inv_mpu.c **** 		accel[2] *= accel_sens;
 11170              		.loc 1 3348 12 view .LVU3301
 11171 007c 03FB02F2 		mul	r2, r3, r2
 11172 0080 0392     		str	r2, [sp, #12]
3349:DMP/driver/eMPL/inv_mpu.c ****        // inv_set_accel_bias(accel, 3);
 11173              		.loc 1 3349 3 is_stmt 1 view .LVU3302
3349:DMP/driver/eMPL/inv_mpu.c ****        // inv_set_accel_bias(accel, 3);
 11174              		.loc 1 3349 8 is_stmt 0 view .LVU3303
 11175 0082 049A     		ldr	r2, [sp, #16]
3349:DMP/driver/eMPL/inv_mpu.c ****        // inv_set_accel_bias(accel, 3);
 11176              		.loc 1 3349 12 view .LVU3304
 11177 0084 02FB03F3 		mul	r3, r2, r3
 11178 0088 0493     		str	r3, [sp, #16]
3351:DMP/driver/eMPL/inv_mpu.c **** 		return 0;
 11179              		.loc 1 3351 3 is_stmt 1 view .LVU3305
 11180 008a 02A8     		add	r0, sp, #8
 11181 008c FFF7FEFF 		bl	dmp_set_accel_bias
 11182              	.LVL810:
3352:DMP/driver/eMPL/inv_mpu.c **** 	}else return 1;
 11183              		.loc 1 3352 3 view .LVU3306
3352:DMP/driver/eMPL/inv_mpu.c **** 	}else return 1;
 11184              		.loc 1 3352 10 is_stmt 0 view .LVU3307
 11185 0090 0020     		movs	r0, #0
 11186 0092 BFE7     		b	.L849
 11187              	.LBE9:
 11188              		.cfi_endproc
 11189              	.LFE220:
 11191              		.section	.text.inv_row_2_scale,"ax",%progbits
 11192              		.align	1
 11193              		.global	inv_row_2_scale
 11194              		.syntax unified
 11195              		.thumb
 11196              		.thumb_func
 11198              	inv_row_2_scale:
 11199              	.LVL811:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 302


 11200              	.LFB221:
3355:DMP/driver/eMPL/inv_mpu.c **** 
3356:DMP/driver/eMPL/inv_mpu.c **** //方向转换
3357:DMP/driver/eMPL/inv_mpu.c **** unsigned short inv_row_2_scale(const signed char *row)
3358:DMP/driver/eMPL/inv_mpu.c **** {
 11201              		.loc 1 3358 1 is_stmt 1 view -0
 11202              		.cfi_startproc
 11203              		@ args = 0, pretend = 0, frame = 0
 11204              		@ frame_needed = 0, uses_anonymous_args = 0
 11205              		@ link register save eliminated.
3359:DMP/driver/eMPL/inv_mpu.c ****     unsigned short b;
 11206              		.loc 1 3359 5 view .LVU3309
3360:DMP/driver/eMPL/inv_mpu.c **** 
3361:DMP/driver/eMPL/inv_mpu.c ****     if (row[0] > 0)
 11207              		.loc 1 3361 5 view .LVU3310
 11208              		.loc 1 3361 12 is_stmt 0 view .LVU3311
 11209 0000 90F90030 		ldrsb	r3, [r0]
 11210              		.loc 1 3361 8 view .LVU3312
 11211 0004 002B     		cmp	r3, #0
 11212 0006 01DD     		ble	.L861
3362:DMP/driver/eMPL/inv_mpu.c ****         b = 0;
 11213              		.loc 1 3362 11 view .LVU3313
 11214 0008 0020     		movs	r0, #0
 11215              	.LVL812:
 11216              		.loc 1 3362 11 view .LVU3314
 11217 000a 7047     		bx	lr
 11218              	.LVL813:
 11219              	.L861:
3363:DMP/driver/eMPL/inv_mpu.c ****     else if (row[0] < 0)
 11220              		.loc 1 3363 10 is_stmt 1 view .LVU3315
 11221              		.loc 1 3363 13 is_stmt 0 view .LVU3316
 11222 000c 0FDB     		blt	.L856
3364:DMP/driver/eMPL/inv_mpu.c ****         b = 4;
3365:DMP/driver/eMPL/inv_mpu.c ****     else if (row[1] > 0)
 11223              		.loc 1 3365 10 is_stmt 1 view .LVU3317
 11224              		.loc 1 3365 17 is_stmt 0 view .LVU3318
 11225 000e 90F90130 		ldrsb	r3, [r0, #1]
 11226              		.loc 1 3365 13 view .LVU3319
 11227 0012 002B     		cmp	r3, #0
 11228 0014 01DD     		ble	.L862
3366:DMP/driver/eMPL/inv_mpu.c ****         b = 1;
 11229              		.loc 1 3366 11 view .LVU3320
 11230 0016 0120     		movs	r0, #1
 11231              	.LVL814:
 11232              		.loc 1 3366 11 view .LVU3321
 11233 0018 7047     		bx	lr
 11234              	.LVL815:
 11235              	.L862:
3367:DMP/driver/eMPL/inv_mpu.c ****     else if (row[1] < 0)
 11236              		.loc 1 3367 10 is_stmt 1 view .LVU3322
 11237              		.loc 1 3367 13 is_stmt 0 view .LVU3323
 11238 001a 0ADB     		blt	.L858
3368:DMP/driver/eMPL/inv_mpu.c ****         b = 5;
3369:DMP/driver/eMPL/inv_mpu.c ****     else if (row[2] > 0)
 11239              		.loc 1 3369 10 is_stmt 1 view .LVU3324
 11240              		.loc 1 3369 17 is_stmt 0 view .LVU3325
 11241 001c 90F90230 		ldrsb	r3, [r0, #2]
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 303


 11242              		.loc 1 3369 13 view .LVU3326
 11243 0020 002B     		cmp	r3, #0
 11244 0022 08DC     		bgt	.L859
3370:DMP/driver/eMPL/inv_mpu.c ****         b = 2;
3371:DMP/driver/eMPL/inv_mpu.c ****     else if (row[2] < 0)
 11245              		.loc 1 3371 10 is_stmt 1 view .LVU3327
 11246              		.loc 1 3371 13 is_stmt 0 view .LVU3328
 11247 0024 01DB     		blt	.L863
3372:DMP/driver/eMPL/inv_mpu.c ****         b = 6;
3373:DMP/driver/eMPL/inv_mpu.c ****     else
3374:DMP/driver/eMPL/inv_mpu.c ****         b = 7;      // error
 11248              		.loc 1 3374 11 view .LVU3329
 11249 0026 0720     		movs	r0, #7
 11250              	.LVL816:
3375:DMP/driver/eMPL/inv_mpu.c ****     return b;
 11251              		.loc 1 3375 5 is_stmt 1 view .LVU3330
3376:DMP/driver/eMPL/inv_mpu.c **** }
 11252              		.loc 1 3376 1 is_stmt 0 view .LVU3331
 11253 0028 7047     		bx	lr
 11254              	.LVL817:
 11255              	.L863:
3372:DMP/driver/eMPL/inv_mpu.c ****         b = 6;
 11256              		.loc 1 3372 11 view .LVU3332
 11257 002a 0620     		movs	r0, #6
 11258              	.LVL818:
3372:DMP/driver/eMPL/inv_mpu.c ****         b = 6;
 11259              		.loc 1 3372 11 view .LVU3333
 11260 002c 7047     		bx	lr
 11261              	.LVL819:
 11262              	.L856:
3364:DMP/driver/eMPL/inv_mpu.c ****     else if (row[1] > 0)
 11263              		.loc 1 3364 11 view .LVU3334
 11264 002e 0420     		movs	r0, #4
 11265              	.LVL820:
3364:DMP/driver/eMPL/inv_mpu.c ****     else if (row[1] > 0)
 11266              		.loc 1 3364 11 view .LVU3335
 11267 0030 7047     		bx	lr
 11268              	.LVL821:
 11269              	.L858:
3368:DMP/driver/eMPL/inv_mpu.c ****     else if (row[2] > 0)
 11270              		.loc 1 3368 11 view .LVU3336
 11271 0032 0520     		movs	r0, #5
 11272              	.LVL822:
3368:DMP/driver/eMPL/inv_mpu.c ****     else if (row[2] > 0)
 11273              		.loc 1 3368 11 view .LVU3337
 11274 0034 7047     		bx	lr
 11275              	.LVL823:
 11276              	.L859:
3370:DMP/driver/eMPL/inv_mpu.c ****     else if (row[2] < 0)
 11277              		.loc 1 3370 11 view .LVU3338
 11278 0036 0220     		movs	r0, #2
 11279              	.LVL824:
3370:DMP/driver/eMPL/inv_mpu.c ****     else if (row[2] < 0)
 11280              		.loc 1 3370 11 view .LVU3339
 11281 0038 7047     		bx	lr
 11282              		.cfi_endproc
 11283              	.LFE221:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 304


 11285              		.section	.text.mget_ms,"ax",%progbits
 11286              		.align	1
 11287              		.global	mget_ms
 11288              		.syntax unified
 11289              		.thumb
 11290              		.thumb_func
 11292              	mget_ms:
 11293              	.LVL825:
 11294              	.LFB222:
3377:DMP/driver/eMPL/inv_mpu.c **** //空函数,未用到.
3378:DMP/driver/eMPL/inv_mpu.c **** void mget_ms(unsigned long *time)
3379:DMP/driver/eMPL/inv_mpu.c **** {
 11295              		.loc 1 3379 1 is_stmt 1 view -0
 11296              		.cfi_startproc
 11297              		@ args = 0, pretend = 0, frame = 0
 11298              		@ frame_needed = 0, uses_anonymous_args = 0
 11299              		@ link register save eliminated.
3380:DMP/driver/eMPL/inv_mpu.c ****     //*time=(unsigned long)HAL_GetTick();
3381:DMP/driver/eMPL/inv_mpu.c **** }
 11300              		.loc 1 3381 1 view .LVU3341
 11301 0000 7047     		bx	lr
 11302              		.cfi_endproc
 11303              	.LFE222:
 11305              		.section	.text.mpu_dmp_init,"ax",%progbits
 11306              		.align	1
 11307              		.global	mpu_dmp_init
 11308              		.syntax unified
 11309              		.thumb
 11310              		.thumb_func
 11312              	mpu_dmp_init:
 11313              	.LFB223:
3382:DMP/driver/eMPL/inv_mpu.c **** //mpu6050,dmp初始化
3383:DMP/driver/eMPL/inv_mpu.c **** //返回值:0,正常
3384:DMP/driver/eMPL/inv_mpu.c **** //    其他,失败
3385:DMP/driver/eMPL/inv_mpu.c **** u8 mpu_dmp_init(void)
3386:DMP/driver/eMPL/inv_mpu.c **** {
 11314              		.loc 1 3386 1 view -0
 11315              		.cfi_startproc
 11316              		@ args = 0, pretend = 0, frame = 16
 11317              		@ frame_needed = 0, uses_anonymous_args = 0
 11318 0000 10B5     		push	{r4, lr}
 11319              	.LCFI197:
 11320              		.cfi_def_cfa_offset 8
 11321              		.cfi_offset 4, -8
 11322              		.cfi_offset 14, -4
 11323 0002 84B0     		sub	sp, sp, #16
 11324              	.LCFI198:
 11325              		.cfi_def_cfa_offset 24
3387:DMP/driver/eMPL/inv_mpu.c **** 	u8 res=0;
 11326              		.loc 1 3387 2 view .LVU3343
 11327              	.LVL826:
3388:DMP/driver/eMPL/inv_mpu.c ****     struct int_param_s int_param;
 11328              		.loc 1 3388 5 view .LVU3344
3389:DMP/driver/eMPL/inv_mpu.c ****     unsigned char accel_fsr;
 11329              		.loc 1 3389 5 view .LVU3345
3390:DMP/driver/eMPL/inv_mpu.c ****     unsigned short gyro_rate, gyro_fsr;
 11330              		.loc 1 3390 5 view .LVU3346
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 305


3391:DMP/driver/eMPL/inv_mpu.c ****     unsigned short compass_fsr;
 11331              		.loc 1 3391 5 view .LVU3347
3392:DMP/driver/eMPL/inv_mpu.c ****     
3393:DMP/driver/eMPL/inv_mpu.c **** 	if(mpu_init(&int_param)==0)	//初始化MPU9250
 11332              		.loc 1 3393 2 view .LVU3348
 11333              		.loc 1 3393 5 is_stmt 0 view .LVU3349
 11334 0004 03A8     		add	r0, sp, #12
 11335 0006 FFF7FEFF 		bl	mpu_init
 11336              	.LVL827:
 11337              		.loc 1 3393 4 view .LVU3350
 11338 000a 10B1     		cbz	r0, .L881
3394:DMP/driver/eMPL/inv_mpu.c **** 	{	 
3395:DMP/driver/eMPL/inv_mpu.c ****         res=inv_init_mpl();     //初始化MPL
3396:DMP/driver/eMPL/inv_mpu.c ****         if(res)return 1;
3397:DMP/driver/eMPL/inv_mpu.c ****         inv_enable_quaternion();
3398:DMP/driver/eMPL/inv_mpu.c ****         inv_enable_9x_sensor_fusion();
3399:DMP/driver/eMPL/inv_mpu.c ****         inv_enable_fast_nomot();
3400:DMP/driver/eMPL/inv_mpu.c ****         inv_enable_gyro_tc();
3401:DMP/driver/eMPL/inv_mpu.c ****         inv_enable_vector_compass_cal();
3402:DMP/driver/eMPL/inv_mpu.c ****         inv_enable_magnetic_disturbance();
3403:DMP/driver/eMPL/inv_mpu.c ****         inv_enable_eMPL_outputs();
3404:DMP/driver/eMPL/inv_mpu.c ****         res=inv_start_mpl();    //开启MPL
3405:DMP/driver/eMPL/inv_mpu.c ****         if(res)return 1;
3406:DMP/driver/eMPL/inv_mpu.c **** 		res=mpu_set_sensors(INV_XYZ_GYRO|INV_XYZ_ACCEL|INV_XYZ_COMPASS);//设置所需要的传感器
3407:DMP/driver/eMPL/inv_mpu.c **** 		if(res)return 2; 
3408:DMP/driver/eMPL/inv_mpu.c **** 		res=mpu_configure_fifo(INV_XYZ_GYRO | INV_XYZ_ACCEL);   //设置FIFO
3409:DMP/driver/eMPL/inv_mpu.c **** 		if(res)return 3; 
3410:DMP/driver/eMPL/inv_mpu.c **** 		res=mpu_set_sample_rate(DEFAULT_MPU_HZ);	            //设置采样率
3411:DMP/driver/eMPL/inv_mpu.c **** 		if(res)return 4; 
3412:DMP/driver/eMPL/inv_mpu.c ****         res=mpu_set_compass_sample_rate(1000/COMPASS_READ_MS);  //设置磁力计采样率
3413:DMP/driver/eMPL/inv_mpu.c ****         if(res)return 5;
3414:DMP/driver/eMPL/inv_mpu.c ****         mpu_get_sample_rate(&gyro_rate);
3415:DMP/driver/eMPL/inv_mpu.c ****         mpu_get_gyro_fsr(&gyro_fsr);
3416:DMP/driver/eMPL/inv_mpu.c ****         mpu_get_accel_fsr(&accel_fsr);
3417:DMP/driver/eMPL/inv_mpu.c ****         mpu_get_compass_fsr(&compass_fsr);
3418:DMP/driver/eMPL/inv_mpu.c ****         inv_set_gyro_sample_rate(1000000L/gyro_rate);
3419:DMP/driver/eMPL/inv_mpu.c ****         inv_set_accel_sample_rate(1000000L/gyro_rate);
3420:DMP/driver/eMPL/inv_mpu.c ****         inv_set_compass_sample_rate(COMPASS_READ_MS*1000L);
3421:DMP/driver/eMPL/inv_mpu.c ****         inv_set_gyro_orientation_and_scale(
3422:DMP/driver/eMPL/inv_mpu.c ****             inv_orientation_matrix_to_scalar(gyro_orientation),(long)gyro_fsr<<15);
3423:DMP/driver/eMPL/inv_mpu.c ****         inv_set_accel_orientation_and_scale(
3424:DMP/driver/eMPL/inv_mpu.c ****             inv_orientation_matrix_to_scalar(gyro_orientation),(long)accel_fsr<<15);
3425:DMP/driver/eMPL/inv_mpu.c ****         inv_set_compass_orientation_and_scale(
3426:DMP/driver/eMPL/inv_mpu.c ****             inv_orientation_matrix_to_scalar(comp_orientation),(long)compass_fsr<<15);
3427:DMP/driver/eMPL/inv_mpu.c ****             
3428:DMP/driver/eMPL/inv_mpu.c ****             
3429:DMP/driver/eMPL/inv_mpu.c **** 		res=dmp_load_motion_driver_firmware();		             //加载dmp固件
3430:DMP/driver/eMPL/inv_mpu.c **** 		if(res)return 6; 
3431:DMP/driver/eMPL/inv_mpu.c **** 		res=dmp_set_orientation(inv_orientation_matrix_to_scalar(gyro_orientation));//设置陀螺仪方向
3432:DMP/driver/eMPL/inv_mpu.c **** 		if(res)return 7; 
3433:DMP/driver/eMPL/inv_mpu.c **** 		res=dmp_enable_feature(DMP_FEATURE_6X_LP_QUAT|DMP_FEATURE_TAP|	            //设置dmp功能
3434:DMP/driver/eMPL/inv_mpu.c **** 		    DMP_FEATURE_ANDROID_ORIENT|DMP_FEATURE_SEND_RAW_ACCEL|DMP_FEATURE_SEND_CAL_GYRO|
3435:DMP/driver/eMPL/inv_mpu.c **** 		    DMP_FEATURE_GYRO_CAL);
3436:DMP/driver/eMPL/inv_mpu.c **** 		if(res)return 8; 
3437:DMP/driver/eMPL/inv_mpu.c **** 		res=dmp_set_fifo_rate(DEFAULT_MPU_HZ);	//设置DMP输出速率(最大不超过200Hz)
3438:DMP/driver/eMPL/inv_mpu.c **** 		if(res)return 9;   
3439:DMP/driver/eMPL/inv_mpu.c **** 		res=run_self_test();		//自检
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 306


3440:DMP/driver/eMPL/inv_mpu.c **** 		if(res)return 10;    
3441:DMP/driver/eMPL/inv_mpu.c **** 		res=mpu_set_dmp_state(1);	//使能DMP
3442:DMP/driver/eMPL/inv_mpu.c **** 		if(res)return 11;     
3443:DMP/driver/eMPL/inv_mpu.c **** 	}
3444:DMP/driver/eMPL/inv_mpu.c **** 	return 0;
 11339              		.loc 1 3444 9 view .LVU3351
 11340 000c 0020     		movs	r0, #0
 11341              	.LVL828:
 11342              	.L866:
3445:DMP/driver/eMPL/inv_mpu.c **** }
 11343              		.loc 1 3445 1 view .LVU3352
 11344 000e 04B0     		add	sp, sp, #16
 11345              	.LCFI199:
 11346              		.cfi_remember_state
 11347              		.cfi_def_cfa_offset 8
 11348              		@ sp needed
 11349 0010 10BD     		pop	{r4, pc}
 11350              	.LVL829:
 11351              	.L881:
 11352              	.LCFI200:
 11353              		.cfi_restore_state
3395:DMP/driver/eMPL/inv_mpu.c ****         if(res)return 1;
 11354              		.loc 1 3395 9 is_stmt 1 view .LVU3353
3395:DMP/driver/eMPL/inv_mpu.c ****         if(res)return 1;
 11355              		.loc 1 3395 13 is_stmt 0 view .LVU3354
 11356 0012 FFF7FEFF 		bl	inv_init_mpl
 11357              	.LVL830:
3396:DMP/driver/eMPL/inv_mpu.c ****         inv_enable_quaternion();
 11358              		.loc 1 3396 9 is_stmt 1 view .LVU3355
3396:DMP/driver/eMPL/inv_mpu.c ****         inv_enable_quaternion();
 11359              		.loc 1 3396 11 is_stmt 0 view .LVU3356
 11360 0016 10F0FF0F 		tst	r0, #255
 11361 001a 01D0     		beq	.L882
3396:DMP/driver/eMPL/inv_mpu.c ****         inv_enable_quaternion();
 11362              		.loc 1 3396 23 view .LVU3357
 11363 001c 0120     		movs	r0, #1
 11364              	.LVL831:
3396:DMP/driver/eMPL/inv_mpu.c ****         inv_enable_quaternion();
 11365              		.loc 1 3396 23 view .LVU3358
 11366 001e F6E7     		b	.L866
 11367              	.LVL832:
 11368              	.L882:
3397:DMP/driver/eMPL/inv_mpu.c ****         inv_enable_9x_sensor_fusion();
 11369              		.loc 1 3397 9 is_stmt 1 view .LVU3359
 11370 0020 FFF7FEFF 		bl	inv_enable_quaternion
 11371              	.LVL833:
3398:DMP/driver/eMPL/inv_mpu.c ****         inv_enable_fast_nomot();
 11372              		.loc 1 3398 9 view .LVU3360
 11373 0024 FFF7FEFF 		bl	inv_enable_9x_sensor_fusion
 11374              	.LVL834:
3399:DMP/driver/eMPL/inv_mpu.c ****         inv_enable_gyro_tc();
 11375              		.loc 1 3399 9 view .LVU3361
 11376 0028 FFF7FEFF 		bl	inv_enable_fast_nomot
 11377              	.LVL835:
3400:DMP/driver/eMPL/inv_mpu.c ****         inv_enable_vector_compass_cal();
 11378              		.loc 1 3400 9 view .LVU3362
 11379 002c FFF7FEFF 		bl	inv_enable_gyro_tc
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 307


 11380              	.LVL836:
3401:DMP/driver/eMPL/inv_mpu.c ****         inv_enable_magnetic_disturbance();
 11381              		.loc 1 3401 9 view .LVU3363
 11382 0030 FFF7FEFF 		bl	inv_enable_vector_compass_cal
 11383              	.LVL837:
3402:DMP/driver/eMPL/inv_mpu.c ****         inv_enable_eMPL_outputs();
 11384              		.loc 1 3402 9 view .LVU3364
 11385 0034 FFF7FEFF 		bl	inv_enable_magnetic_disturbance
 11386              	.LVL838:
3403:DMP/driver/eMPL/inv_mpu.c ****         res=inv_start_mpl();    //开启MPL
 11387              		.loc 1 3403 9 view .LVU3365
 11388 0038 FFF7FEFF 		bl	inv_enable_eMPL_outputs
 11389              	.LVL839:
3404:DMP/driver/eMPL/inv_mpu.c ****         if(res)return 1;
 11390              		.loc 1 3404 9 view .LVU3366
3404:DMP/driver/eMPL/inv_mpu.c ****         if(res)return 1;
 11391              		.loc 1 3404 13 is_stmt 0 view .LVU3367
 11392 003c FFF7FEFF 		bl	inv_start_mpl
 11393              	.LVL840:
3405:DMP/driver/eMPL/inv_mpu.c **** 		res=mpu_set_sensors(INV_XYZ_GYRO|INV_XYZ_ACCEL|INV_XYZ_COMPASS);//设置所需要的传感器
 11394              		.loc 1 3405 9 is_stmt 1 view .LVU3368
3405:DMP/driver/eMPL/inv_mpu.c **** 		res=mpu_set_sensors(INV_XYZ_GYRO|INV_XYZ_ACCEL|INV_XYZ_COMPASS);//设置所需要的传感器
 11395              		.loc 1 3405 11 is_stmt 0 view .LVU3369
 11396 0040 10F0FF0F 		tst	r0, #255
 11397 0044 01D0     		beq	.L883
3405:DMP/driver/eMPL/inv_mpu.c **** 		res=mpu_set_sensors(INV_XYZ_GYRO|INV_XYZ_ACCEL|INV_XYZ_COMPASS);//设置所需要的传感器
 11398              		.loc 1 3405 23 view .LVU3370
 11399 0046 0120     		movs	r0, #1
 11400              	.LVL841:
3405:DMP/driver/eMPL/inv_mpu.c **** 		res=mpu_set_sensors(INV_XYZ_GYRO|INV_XYZ_ACCEL|INV_XYZ_COMPASS);//设置所需要的传感器
 11401              		.loc 1 3405 23 view .LVU3371
 11402 0048 E1E7     		b	.L866
 11403              	.LVL842:
 11404              	.L883:
3406:DMP/driver/eMPL/inv_mpu.c **** 		if(res)return 2; 
 11405              		.loc 1 3406 3 is_stmt 1 view .LVU3372
3406:DMP/driver/eMPL/inv_mpu.c **** 		if(res)return 2; 
 11406              		.loc 1 3406 7 is_stmt 0 view .LVU3373
 11407 004a 7920     		movs	r0, #121
 11408              	.LVL843:
3406:DMP/driver/eMPL/inv_mpu.c **** 		if(res)return 2; 
 11409              		.loc 1 3406 7 view .LVU3374
 11410 004c FFF7FEFF 		bl	mpu_set_sensors
 11411              	.LVL844:
3407:DMP/driver/eMPL/inv_mpu.c **** 		res=mpu_configure_fifo(INV_XYZ_GYRO | INV_XYZ_ACCEL);   //设置FIFO
 11412              		.loc 1 3407 3 is_stmt 1 view .LVU3375
3407:DMP/driver/eMPL/inv_mpu.c **** 		res=mpu_configure_fifo(INV_XYZ_GYRO | INV_XYZ_ACCEL);   //设置FIFO
 11413              		.loc 1 3407 5 is_stmt 0 view .LVU3376
 11414 0050 10F0FF0F 		tst	r0, #255
 11415 0054 6ED1     		bne	.L870
3408:DMP/driver/eMPL/inv_mpu.c **** 		if(res)return 3; 
 11416              		.loc 1 3408 3 is_stmt 1 view .LVU3377
3408:DMP/driver/eMPL/inv_mpu.c **** 		if(res)return 3; 
 11417              		.loc 1 3408 7 is_stmt 0 view .LVU3378
 11418 0056 7820     		movs	r0, #120
 11419              	.LVL845:
3408:DMP/driver/eMPL/inv_mpu.c **** 		if(res)return 3; 
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 308


 11420              		.loc 1 3408 7 view .LVU3379
 11421 0058 FFF7FEFF 		bl	mpu_configure_fifo
 11422              	.LVL846:
3409:DMP/driver/eMPL/inv_mpu.c **** 		res=mpu_set_sample_rate(DEFAULT_MPU_HZ);	            //设置采样率
 11423              		.loc 1 3409 3 is_stmt 1 view .LVU3380
3409:DMP/driver/eMPL/inv_mpu.c **** 		res=mpu_set_sample_rate(DEFAULT_MPU_HZ);	            //设置采样率
 11424              		.loc 1 3409 5 is_stmt 0 view .LVU3381
 11425 005c 10F0FF0F 		tst	r0, #255
 11426 0060 6AD1     		bne	.L871
3410:DMP/driver/eMPL/inv_mpu.c **** 		if(res)return 4; 
 11427              		.loc 1 3410 3 is_stmt 1 view .LVU3382
3410:DMP/driver/eMPL/inv_mpu.c **** 		if(res)return 4; 
 11428              		.loc 1 3410 7 is_stmt 0 view .LVU3383
 11429 0062 6420     		movs	r0, #100
 11430              	.LVL847:
3410:DMP/driver/eMPL/inv_mpu.c **** 		if(res)return 4; 
 11431              		.loc 1 3410 7 view .LVU3384
 11432 0064 FFF7FEFF 		bl	mpu_set_sample_rate
 11433              	.LVL848:
3411:DMP/driver/eMPL/inv_mpu.c ****         res=mpu_set_compass_sample_rate(1000/COMPASS_READ_MS);  //设置磁力计采样率
 11434              		.loc 1 3411 3 is_stmt 1 view .LVU3385
3411:DMP/driver/eMPL/inv_mpu.c ****         res=mpu_set_compass_sample_rate(1000/COMPASS_READ_MS);  //设置磁力计采样率
 11435              		.loc 1 3411 5 is_stmt 0 view .LVU3386
 11436 0068 10F0FF0F 		tst	r0, #255
 11437 006c 66D1     		bne	.L872
3412:DMP/driver/eMPL/inv_mpu.c ****         if(res)return 5;
 11438              		.loc 1 3412 9 is_stmt 1 view .LVU3387
3412:DMP/driver/eMPL/inv_mpu.c ****         if(res)return 5;
 11439              		.loc 1 3412 13 is_stmt 0 view .LVU3388
 11440 006e 0A20     		movs	r0, #10
 11441              	.LVL849:
3412:DMP/driver/eMPL/inv_mpu.c ****         if(res)return 5;
 11442              		.loc 1 3412 13 view .LVU3389
 11443 0070 FFF7FEFF 		bl	mpu_set_compass_sample_rate
 11444              	.LVL850:
3413:DMP/driver/eMPL/inv_mpu.c ****         mpu_get_sample_rate(&gyro_rate);
 11445              		.loc 1 3413 9 is_stmt 1 view .LVU3390
3413:DMP/driver/eMPL/inv_mpu.c ****         mpu_get_sample_rate(&gyro_rate);
 11446              		.loc 1 3413 11 is_stmt 0 view .LVU3391
 11447 0074 10F0FF0F 		tst	r0, #255
 11448 0078 62D1     		bne	.L873
3414:DMP/driver/eMPL/inv_mpu.c ****         mpu_get_gyro_fsr(&gyro_fsr);
 11449              		.loc 1 3414 9 is_stmt 1 view .LVU3392
 11450 007a 02A8     		add	r0, sp, #8
 11451              	.LVL851:
3414:DMP/driver/eMPL/inv_mpu.c ****         mpu_get_gyro_fsr(&gyro_fsr);
 11452              		.loc 1 3414 9 is_stmt 0 view .LVU3393
 11453 007c FFF7FEFF 		bl	mpu_get_sample_rate
 11454              	.LVL852:
3415:DMP/driver/eMPL/inv_mpu.c ****         mpu_get_accel_fsr(&accel_fsr);
 11455              		.loc 1 3415 9 is_stmt 1 view .LVU3394
 11456 0080 0DF10600 		add	r0, sp, #6
 11457 0084 FFF7FEFF 		bl	mpu_get_gyro_fsr
 11458              	.LVL853:
3416:DMP/driver/eMPL/inv_mpu.c ****         mpu_get_compass_fsr(&compass_fsr);
 11459              		.loc 1 3416 9 view .LVU3395
 11460 0088 0DF10B00 		add	r0, sp, #11
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 309


 11461 008c FFF7FEFF 		bl	mpu_get_accel_fsr
 11462              	.LVL854:
3417:DMP/driver/eMPL/inv_mpu.c ****         inv_set_gyro_sample_rate(1000000L/gyro_rate);
 11463              		.loc 1 3417 9 view .LVU3396
 11464 0090 01A8     		add	r0, sp, #4
 11465 0092 FFF7FEFF 		bl	mpu_get_compass_fsr
 11466              	.LVL855:
3418:DMP/driver/eMPL/inv_mpu.c ****         inv_set_accel_sample_rate(1000000L/gyro_rate);
 11467              		.loc 1 3418 9 view .LVU3397
 11468 0096 BDF80800 		ldrh	r0, [sp, #8]
 11469 009a 2F4C     		ldr	r4, .L884
 11470 009c 94FBF0F0 		sdiv	r0, r4, r0
 11471 00a0 FFF7FEFF 		bl	inv_set_gyro_sample_rate
 11472              	.LVL856:
3419:DMP/driver/eMPL/inv_mpu.c ****         inv_set_compass_sample_rate(COMPASS_READ_MS*1000L);
 11473              		.loc 1 3419 9 view .LVU3398
 11474 00a4 BDF80800 		ldrh	r0, [sp, #8]
 11475 00a8 94FBF0F0 		sdiv	r0, r4, r0
 11476 00ac FFF7FEFF 		bl	inv_set_accel_sample_rate
 11477              	.LVL857:
3420:DMP/driver/eMPL/inv_mpu.c ****         inv_set_gyro_orientation_and_scale(
 11478              		.loc 1 3420 9 view .LVU3399
 11479 00b0 2A48     		ldr	r0, .L884+4
 11480 00b2 FFF7FEFF 		bl	inv_set_compass_sample_rate
 11481              	.LVL858:
3421:DMP/driver/eMPL/inv_mpu.c ****             inv_orientation_matrix_to_scalar(gyro_orientation),(long)gyro_fsr<<15);
 11482              		.loc 1 3421 9 view .LVU3400
3422:DMP/driver/eMPL/inv_mpu.c ****         inv_set_accel_orientation_and_scale(
 11483              		.loc 1 3422 13 is_stmt 0 view .LVU3401
 11484 00b6 2A4C     		ldr	r4, .L884+8
 11485 00b8 2046     		mov	r0, r4
 11486 00ba FFF7FEFF 		bl	inv_orientation_matrix_to_scalar
 11487              	.LVL859:
3422:DMP/driver/eMPL/inv_mpu.c ****         inv_set_accel_orientation_and_scale(
 11488              		.loc 1 3422 64 view .LVU3402
 11489 00be BDF80610 		ldrh	r1, [sp, #6]
3421:DMP/driver/eMPL/inv_mpu.c ****             inv_orientation_matrix_to_scalar(gyro_orientation),(long)gyro_fsr<<15);
 11490              		.loc 1 3421 9 view .LVU3403
 11491 00c2 C903     		lsls	r1, r1, #15
 11492 00c4 FFF7FEFF 		bl	inv_set_gyro_orientation_and_scale
 11493              	.LVL860:
3423:DMP/driver/eMPL/inv_mpu.c ****             inv_orientation_matrix_to_scalar(gyro_orientation),(long)accel_fsr<<15);
 11494              		.loc 1 3423 9 is_stmt 1 view .LVU3404
3424:DMP/driver/eMPL/inv_mpu.c ****         inv_set_compass_orientation_and_scale(
 11495              		.loc 1 3424 13 is_stmt 0 view .LVU3405
 11496 00c8 2046     		mov	r0, r4
 11497 00ca FFF7FEFF 		bl	inv_orientation_matrix_to_scalar
 11498              	.LVL861:
3424:DMP/driver/eMPL/inv_mpu.c ****         inv_set_compass_orientation_and_scale(
 11499              		.loc 1 3424 64 view .LVU3406
 11500 00ce 9DF80B10 		ldrb	r1, [sp, #11]	@ zero_extendqisi2
3423:DMP/driver/eMPL/inv_mpu.c ****             inv_orientation_matrix_to_scalar(gyro_orientation),(long)accel_fsr<<15);
 11501              		.loc 1 3423 9 view .LVU3407
 11502 00d2 C903     		lsls	r1, r1, #15
 11503 00d4 FFF7FEFF 		bl	inv_set_accel_orientation_and_scale
 11504              	.LVL862:
3425:DMP/driver/eMPL/inv_mpu.c ****             inv_orientation_matrix_to_scalar(comp_orientation),(long)compass_fsr<<15);
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 310


 11505              		.loc 1 3425 9 is_stmt 1 view .LVU3408
3426:DMP/driver/eMPL/inv_mpu.c ****             
 11506              		.loc 1 3426 13 is_stmt 0 view .LVU3409
 11507 00d8 2248     		ldr	r0, .L884+12
 11508 00da FFF7FEFF 		bl	inv_orientation_matrix_to_scalar
 11509              	.LVL863:
3426:DMP/driver/eMPL/inv_mpu.c ****             
 11510              		.loc 1 3426 64 view .LVU3410
 11511 00de BDF80410 		ldrh	r1, [sp, #4]
3425:DMP/driver/eMPL/inv_mpu.c ****             inv_orientation_matrix_to_scalar(comp_orientation),(long)compass_fsr<<15);
 11512              		.loc 1 3425 9 view .LVU3411
 11513 00e2 C903     		lsls	r1, r1, #15
 11514 00e4 FFF7FEFF 		bl	inv_set_compass_orientation_and_scale
 11515              	.LVL864:
3429:DMP/driver/eMPL/inv_mpu.c **** 		if(res)return 6; 
 11516              		.loc 1 3429 3 is_stmt 1 view .LVU3412
3429:DMP/driver/eMPL/inv_mpu.c **** 		if(res)return 6; 
 11517              		.loc 1 3429 7 is_stmt 0 view .LVU3413
 11518 00e8 FFF7FEFF 		bl	dmp_load_motion_driver_firmware
 11519              	.LVL865:
3430:DMP/driver/eMPL/inv_mpu.c **** 		res=dmp_set_orientation(inv_orientation_matrix_to_scalar(gyro_orientation));//设置陀螺仪方向
 11520              		.loc 1 3430 3 is_stmt 1 view .LVU3414
3430:DMP/driver/eMPL/inv_mpu.c **** 		res=dmp_set_orientation(inv_orientation_matrix_to_scalar(gyro_orientation));//设置陀螺仪方向
 11521              		.loc 1 3430 5 is_stmt 0 view .LVU3415
 11522 00ec 10F0FF0F 		tst	r0, #255
 11523 00f0 28D1     		bne	.L874
3431:DMP/driver/eMPL/inv_mpu.c **** 		if(res)return 7; 
 11524              		.loc 1 3431 3 is_stmt 1 view .LVU3416
3431:DMP/driver/eMPL/inv_mpu.c **** 		if(res)return 7; 
 11525              		.loc 1 3431 7 is_stmt 0 view .LVU3417
 11526 00f2 2046     		mov	r0, r4
 11527              	.LVL866:
3431:DMP/driver/eMPL/inv_mpu.c **** 		if(res)return 7; 
 11528              		.loc 1 3431 7 view .LVU3418
 11529 00f4 FFF7FEFF 		bl	inv_orientation_matrix_to_scalar
 11530              	.LVL867:
 11531 00f8 FFF7FEFF 		bl	dmp_set_orientation
 11532              	.LVL868:
3432:DMP/driver/eMPL/inv_mpu.c **** 		res=dmp_enable_feature(DMP_FEATURE_6X_LP_QUAT|DMP_FEATURE_TAP|	            //设置dmp功能
 11533              		.loc 1 3432 3 is_stmt 1 view .LVU3419
3432:DMP/driver/eMPL/inv_mpu.c **** 		res=dmp_enable_feature(DMP_FEATURE_6X_LP_QUAT|DMP_FEATURE_TAP|	            //设置dmp功能
 11534              		.loc 1 3432 5 is_stmt 0 view .LVU3420
 11535 00fc 10F0FF0F 		tst	r0, #255
 11536 0100 22D1     		bne	.L875
3433:DMP/driver/eMPL/inv_mpu.c **** 		    DMP_FEATURE_ANDROID_ORIENT|DMP_FEATURE_SEND_RAW_ACCEL|DMP_FEATURE_SEND_CAL_GYRO|
 11537              		.loc 1 3433 3 is_stmt 1 view .LVU3421
3433:DMP/driver/eMPL/inv_mpu.c **** 		    DMP_FEATURE_ANDROID_ORIENT|DMP_FEATURE_SEND_RAW_ACCEL|DMP_FEATURE_SEND_CAL_GYRO|
 11538              		.loc 1 3433 7 is_stmt 0 view .LVU3422
 11539 0102 40F27310 		movw	r0, #371
 11540              	.LVL869:
3433:DMP/driver/eMPL/inv_mpu.c **** 		    DMP_FEATURE_ANDROID_ORIENT|DMP_FEATURE_SEND_RAW_ACCEL|DMP_FEATURE_SEND_CAL_GYRO|
 11541              		.loc 1 3433 7 view .LVU3423
 11542 0106 FFF7FEFF 		bl	dmp_enable_feature
 11543              	.LVL870:
3436:DMP/driver/eMPL/inv_mpu.c **** 		res=dmp_set_fifo_rate(DEFAULT_MPU_HZ);	//设置DMP输出速率(最大不超过200Hz)
 11544              		.loc 1 3436 3 is_stmt 1 view .LVU3424
3436:DMP/driver/eMPL/inv_mpu.c **** 		res=dmp_set_fifo_rate(DEFAULT_MPU_HZ);	//设置DMP输出速率(最大不超过200Hz)
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 311


 11545              		.loc 1 3436 5 is_stmt 0 view .LVU3425
 11546 010a 10F0FF0F 		tst	r0, #255
 11547 010e 1DD1     		bne	.L876
3437:DMP/driver/eMPL/inv_mpu.c **** 		if(res)return 9;   
 11548              		.loc 1 3437 3 is_stmt 1 view .LVU3426
3437:DMP/driver/eMPL/inv_mpu.c **** 		if(res)return 9;   
 11549              		.loc 1 3437 7 is_stmt 0 view .LVU3427
 11550 0110 6420     		movs	r0, #100
 11551              	.LVL871:
3437:DMP/driver/eMPL/inv_mpu.c **** 		if(res)return 9;   
 11552              		.loc 1 3437 7 view .LVU3428
 11553 0112 FFF7FEFF 		bl	dmp_set_fifo_rate
 11554              	.LVL872:
3438:DMP/driver/eMPL/inv_mpu.c **** 		res=run_self_test();		//自检
 11555              		.loc 1 3438 3 is_stmt 1 view .LVU3429
3438:DMP/driver/eMPL/inv_mpu.c **** 		res=run_self_test();		//自检
 11556              		.loc 1 3438 5 is_stmt 0 view .LVU3430
 11557 0116 10F0FF0F 		tst	r0, #255
 11558 011a 19D1     		bne	.L877
3439:DMP/driver/eMPL/inv_mpu.c **** 		if(res)return 10;    
 11559              		.loc 1 3439 3 is_stmt 1 view .LVU3431
3439:DMP/driver/eMPL/inv_mpu.c **** 		if(res)return 10;    
 11560              		.loc 1 3439 7 is_stmt 0 view .LVU3432
 11561 011c FFF7FEFF 		bl	run_self_test
 11562              	.LVL873:
3440:DMP/driver/eMPL/inv_mpu.c **** 		res=mpu_set_dmp_state(1);	//使能DMP
 11563              		.loc 1 3440 3 is_stmt 1 view .LVU3433
3440:DMP/driver/eMPL/inv_mpu.c **** 		res=mpu_set_dmp_state(1);	//使能DMP
 11564              		.loc 1 3440 5 is_stmt 0 view .LVU3434
 11565 0120 C0B9     		cbnz	r0, .L878
3441:DMP/driver/eMPL/inv_mpu.c **** 		if(res)return 11;     
 11566              		.loc 1 3441 3 is_stmt 1 view .LVU3435
3441:DMP/driver/eMPL/inv_mpu.c **** 		if(res)return 11;     
 11567              		.loc 1 3441 7 is_stmt 0 view .LVU3436
 11568 0122 0120     		movs	r0, #1
 11569              	.LVL874:
3441:DMP/driver/eMPL/inv_mpu.c **** 		if(res)return 11;     
 11570              		.loc 1 3441 7 view .LVU3437
 11571 0124 FFF7FEFF 		bl	mpu_set_dmp_state
 11572              	.LVL875:
3442:DMP/driver/eMPL/inv_mpu.c **** 	}
 11573              		.loc 1 3442 3 is_stmt 1 view .LVU3438
3442:DMP/driver/eMPL/inv_mpu.c **** 	}
 11574              		.loc 1 3442 5 is_stmt 0 view .LVU3439
 11575 0128 10F0FF00 		ands	r0, r0, #255
 11576              	.LVL876:
3442:DMP/driver/eMPL/inv_mpu.c **** 	}
 11577              		.loc 1 3442 5 view .LVU3440
 11578 012c 3FF46FAF 		beq	.L866
3442:DMP/driver/eMPL/inv_mpu.c **** 	}
 11579              		.loc 1 3442 17 view .LVU3441
 11580 0130 0B20     		movs	r0, #11
 11581 0132 6CE7     		b	.L866
 11582              	.LVL877:
 11583              	.L870:
3407:DMP/driver/eMPL/inv_mpu.c **** 		res=mpu_configure_fifo(INV_XYZ_GYRO | INV_XYZ_ACCEL);   //设置FIFO
 11584              		.loc 1 3407 17 view .LVU3442
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 312


 11585 0134 0220     		movs	r0, #2
 11586              	.LVL878:
3407:DMP/driver/eMPL/inv_mpu.c **** 		res=mpu_configure_fifo(INV_XYZ_GYRO | INV_XYZ_ACCEL);   //设置FIFO
 11587              		.loc 1 3407 17 view .LVU3443
 11588 0136 6AE7     		b	.L866
 11589              	.LVL879:
 11590              	.L871:
3409:DMP/driver/eMPL/inv_mpu.c **** 		res=mpu_set_sample_rate(DEFAULT_MPU_HZ);	            //设置采样率
 11591              		.loc 1 3409 17 view .LVU3444
 11592 0138 0320     		movs	r0, #3
 11593              	.LVL880:
3409:DMP/driver/eMPL/inv_mpu.c **** 		res=mpu_set_sample_rate(DEFAULT_MPU_HZ);	            //设置采样率
 11594              		.loc 1 3409 17 view .LVU3445
 11595 013a 68E7     		b	.L866
 11596              	.LVL881:
 11597              	.L872:
3411:DMP/driver/eMPL/inv_mpu.c ****         res=mpu_set_compass_sample_rate(1000/COMPASS_READ_MS);  //设置磁力计采样率
 11598              		.loc 1 3411 17 view .LVU3446
 11599 013c 0420     		movs	r0, #4
 11600              	.LVL882:
3411:DMP/driver/eMPL/inv_mpu.c ****         res=mpu_set_compass_sample_rate(1000/COMPASS_READ_MS);  //设置磁力计采样率
 11601              		.loc 1 3411 17 view .LVU3447
 11602 013e 66E7     		b	.L866
 11603              	.LVL883:
 11604              	.L873:
3413:DMP/driver/eMPL/inv_mpu.c ****         mpu_get_sample_rate(&gyro_rate);
 11605              		.loc 1 3413 23 view .LVU3448
 11606 0140 0520     		movs	r0, #5
 11607              	.LVL884:
3413:DMP/driver/eMPL/inv_mpu.c ****         mpu_get_sample_rate(&gyro_rate);
 11608              		.loc 1 3413 23 view .LVU3449
 11609 0142 64E7     		b	.L866
 11610              	.LVL885:
 11611              	.L874:
3430:DMP/driver/eMPL/inv_mpu.c **** 		res=dmp_set_orientation(inv_orientation_matrix_to_scalar(gyro_orientation));//设置陀螺仪方向
 11612              		.loc 1 3430 17 view .LVU3450
 11613 0144 0620     		movs	r0, #6
 11614              	.LVL886:
3430:DMP/driver/eMPL/inv_mpu.c **** 		res=dmp_set_orientation(inv_orientation_matrix_to_scalar(gyro_orientation));//设置陀螺仪方向
 11615              		.loc 1 3430 17 view .LVU3451
 11616 0146 62E7     		b	.L866
 11617              	.LVL887:
 11618              	.L875:
3432:DMP/driver/eMPL/inv_mpu.c **** 		res=dmp_enable_feature(DMP_FEATURE_6X_LP_QUAT|DMP_FEATURE_TAP|	            //设置dmp功能
 11619              		.loc 1 3432 17 view .LVU3452
 11620 0148 0720     		movs	r0, #7
 11621              	.LVL888:
3432:DMP/driver/eMPL/inv_mpu.c **** 		res=dmp_enable_feature(DMP_FEATURE_6X_LP_QUAT|DMP_FEATURE_TAP|	            //设置dmp功能
 11622              		.loc 1 3432 17 view .LVU3453
 11623 014a 60E7     		b	.L866
 11624              	.LVL889:
 11625              	.L876:
3436:DMP/driver/eMPL/inv_mpu.c **** 		res=dmp_set_fifo_rate(DEFAULT_MPU_HZ);	//设置DMP输出速率(最大不超过200Hz)
 11626              		.loc 1 3436 17 view .LVU3454
 11627 014c 0820     		movs	r0, #8
 11628              	.LVL890:
3436:DMP/driver/eMPL/inv_mpu.c **** 		res=dmp_set_fifo_rate(DEFAULT_MPU_HZ);	//设置DMP输出速率(最大不超过200Hz)
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 313


 11629              		.loc 1 3436 17 view .LVU3455
 11630 014e 5EE7     		b	.L866
 11631              	.LVL891:
 11632              	.L877:
3438:DMP/driver/eMPL/inv_mpu.c **** 		res=run_self_test();		//自检
 11633              		.loc 1 3438 17 view .LVU3456
 11634 0150 0920     		movs	r0, #9
 11635              	.LVL892:
3438:DMP/driver/eMPL/inv_mpu.c **** 		res=run_self_test();		//自检
 11636              		.loc 1 3438 17 view .LVU3457
 11637 0152 5CE7     		b	.L866
 11638              	.LVL893:
 11639              	.L878:
3440:DMP/driver/eMPL/inv_mpu.c **** 		res=mpu_set_dmp_state(1);	//使能DMP
 11640              		.loc 1 3440 17 view .LVU3458
 11641 0154 0A20     		movs	r0, #10
 11642              	.LVL894:
3440:DMP/driver/eMPL/inv_mpu.c **** 		res=mpu_set_dmp_state(1);	//使能DMP
 11643              		.loc 1 3440 17 view .LVU3459
 11644 0156 5AE7     		b	.L866
 11645              	.L885:
 11646              		.align	2
 11647              	.L884:
 11648 0158 40420F00 		.word	1000000
 11649 015c A0860100 		.word	100000
 11650 0160 00000000 		.word	gyro_orientation
 11651 0164 00000000 		.word	comp_orientation
 11652              		.cfi_endproc
 11653              	.LFE223:
 11655              		.global	__aeabi_dmul
 11656              		.global	__aeabi_d2f
 11657              		.section	.text.mpu_dmp_get_data,"ax",%progbits
 11658              		.align	1
 11659              		.global	mpu_dmp_get_data
 11660              		.syntax unified
 11661              		.thumb
 11662              		.thumb_func
 11664              	mpu_dmp_get_data:
 11665              	.LVL895:
 11666              	.LFB224:
3446:DMP/driver/eMPL/inv_mpu.c **** //得到dmp处理后的数据(注意,本函数需要比较多堆栈,局部变量有点多)
3447:DMP/driver/eMPL/inv_mpu.c **** //pitch:俯仰角 精度:0.1°   范围:-90.0° <---> +90.0°
3448:DMP/driver/eMPL/inv_mpu.c **** //roll:横滚角  精度:0.1°   范围:-180.0°<---> +180.0°
3449:DMP/driver/eMPL/inv_mpu.c **** //yaw:航向角   精度:0.1°   范围:-180.0°<---> +180.0°
3450:DMP/driver/eMPL/inv_mpu.c **** //返回值:0,正常
3451:DMP/driver/eMPL/inv_mpu.c **** //    其他,失败
3452:DMP/driver/eMPL/inv_mpu.c **** u8 mpu_dmp_get_data(float *pitch,float *roll,float *yaw)
3453:DMP/driver/eMPL/inv_mpu.c **** {
 11667              		.loc 1 3453 1 is_stmt 1 view -0
 11668              		.cfi_startproc
 11669              		@ args = 0, pretend = 0, frame = 40
 11670              		@ frame_needed = 0, uses_anonymous_args = 0
 11671              		.loc 1 3453 1 is_stmt 0 view .LVU3461
 11672 0000 70B5     		push	{r4, r5, r6, lr}
 11673              	.LCFI201:
 11674              		.cfi_def_cfa_offset 16
 11675              		.cfi_offset 4, -16
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 314


 11676              		.cfi_offset 5, -12
 11677              		.cfi_offset 6, -8
 11678              		.cfi_offset 14, -4
 11679 0002 2DED088B 		vpush.64	{d8, d9, d10, d11}
 11680              	.LCFI202:
 11681              		.cfi_def_cfa_offset 48
 11682              		.cfi_offset 80, -48
 11683              		.cfi_offset 81, -44
 11684              		.cfi_offset 82, -40
 11685              		.cfi_offset 83, -36
 11686              		.cfi_offset 84, -32
 11687              		.cfi_offset 85, -28
 11688              		.cfi_offset 86, -24
 11689              		.cfi_offset 87, -20
 11690 0006 8CB0     		sub	sp, sp, #48
 11691              	.LCFI203:
 11692              		.cfi_def_cfa_offset 96
 11693 0008 0646     		mov	r6, r0
 11694 000a 0D46     		mov	r5, r1
 11695 000c 1446     		mov	r4, r2
3454:DMP/driver/eMPL/inv_mpu.c **** 	float q0=1.0f,q1=0.0f,q2=0.0f,q3=0.0f;
 11696              		.loc 1 3454 2 is_stmt 1 view .LVU3462
 11697              	.LVL896:
3455:DMP/driver/eMPL/inv_mpu.c **** 	unsigned long sensor_timestamp;
 11698              		.loc 1 3455 2 view .LVU3463
3456:DMP/driver/eMPL/inv_mpu.c **** 	short gyro[3], accel[3], sensors;
 11699              		.loc 1 3456 2 view .LVU3464
3457:DMP/driver/eMPL/inv_mpu.c **** 	unsigned char more;
 11700              		.loc 1 3457 2 view .LVU3465
3458:DMP/driver/eMPL/inv_mpu.c **** 	long quat[4]; 
 11701              		.loc 1 3458 2 view .LVU3466
3459:DMP/driver/eMPL/inv_mpu.c **** 	if(dmp_read_fifo(gyro, accel, quat, &sensor_timestamp, &sensors,&more))return 1;	 
 11702              		.loc 1 3459 2 view .LVU3467
 11703              		.loc 1 3459 5 is_stmt 0 view .LVU3468
 11704 000e 0DF11903 		add	r3, sp, #25
 11705 0012 0193     		str	r3, [sp, #4]
 11706 0014 0DF11A03 		add	r3, sp, #26
 11707 0018 0093     		str	r3, [sp]
 11708 001a 0BAB     		add	r3, sp, #44
 11709 001c 02AA     		add	r2, sp, #8
 11710              	.LVL897:
 11711              		.loc 1 3459 5 view .LVU3469
 11712 001e 07A9     		add	r1, sp, #28
 11713              	.LVL898:
 11714              		.loc 1 3459 5 view .LVU3470
 11715 0020 09A8     		add	r0, sp, #36
 11716              	.LVL899:
 11717              		.loc 1 3459 5 view .LVU3471
 11718 0022 FFF7FEFF 		bl	dmp_read_fifo
 11719              	.LVL900:
 11720              		.loc 1 3459 4 view .LVU3472
 11721 0026 0028     		cmp	r0, #0
 11722 0028 40F0A380 		bne	.L888
3460:DMP/driver/eMPL/inv_mpu.c **** 	/* Gyro and accel data are written to the FIFO by the DMP in chip frame and hardware units.
3461:DMP/driver/eMPL/inv_mpu.c **** 	 * This behavior is convenient because it keeps the gyro and accel outputs of dmp_read_fifo and mp
3462:DMP/driver/eMPL/inv_mpu.c **** 	**/
3463:DMP/driver/eMPL/inv_mpu.c **** 	/*if (sensors & INV_XYZ_GYRO )
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 315


3464:DMP/driver/eMPL/inv_mpu.c **** 	send_packet(PACKET_TYPE_GYRO, gyro);
3465:DMP/driver/eMPL/inv_mpu.c **** 	if (sensors & INV_XYZ_ACCEL)
3466:DMP/driver/eMPL/inv_mpu.c **** 	send_packet(PACKET_TYPE_ACCEL, accel); */
3467:DMP/driver/eMPL/inv_mpu.c **** 	/* Unlike gyro and accel, quaternions are written to the FIFO in the body frame, q30.
3468:DMP/driver/eMPL/inv_mpu.c **** 	 * The orientation is set by the scalar passed to dmp_set_orientation during initialization. 
3469:DMP/driver/eMPL/inv_mpu.c **** 	**/
3470:DMP/driver/eMPL/inv_mpu.c **** 	if(sensors&INV_WXYZ_QUAT) 
 11723              		.loc 1 3470 2 is_stmt 1 view .LVU3473
 11724              		.loc 1 3470 12 is_stmt 0 view .LVU3474
 11725 002c BDF91A30 		ldrsh	r3, [sp, #26]
 11726              		.loc 1 3470 4 view .LVU3475
 11727 0030 13F4807F 		tst	r3, #256
 11728 0034 00F09F80 		beq	.L889
3471:DMP/driver/eMPL/inv_mpu.c **** 	{
3472:DMP/driver/eMPL/inv_mpu.c **** 		q0 = quat[0] / q30;	//q30格式转换为浮点数
 11729              		.loc 1 3472 3 is_stmt 1 view .LVU3476
 11730              		.loc 1 3472 16 is_stmt 0 view .LVU3477
 11731 0038 DDED027A 		vldr.32	s15, [sp, #8]	@ int
 11732 003c B8EEE78A 		vcvt.f32.s32	s16, s15
 11733              		.loc 1 3472 6 view .LVU3478
 11734 0040 DFED517A 		vldr.32	s15, .L891+8
 11735 0044 28EE278A 		vmul.f32	s16, s16, s15
 11736              	.LVL901:
3473:DMP/driver/eMPL/inv_mpu.c **** 		q1 = quat[1] / q30;
 11737              		.loc 1 3473 3 is_stmt 1 view .LVU3479
 11738              		.loc 1 3473 16 is_stmt 0 view .LVU3480
 11739 0048 9DED037A 		vldr.32	s14, [sp, #12]	@ int
 11740 004c B8EEC79A 		vcvt.f32.s32	s18, s14
 11741              		.loc 1 3473 6 view .LVU3481
 11742 0050 29EE279A 		vmul.f32	s18, s18, s15
 11743              	.LVL902:
3474:DMP/driver/eMPL/inv_mpu.c **** 		q2 = quat[2] / q30;
 11744              		.loc 1 3474 3 is_stmt 1 view .LVU3482
 11745              		.loc 1 3474 16 is_stmt 0 view .LVU3483
 11746 0054 9DED047A 		vldr.32	s14, [sp, #16]	@ int
 11747 0058 F8EEC78A 		vcvt.f32.s32	s17, s14
 11748              		.loc 1 3474 6 view .LVU3484
 11749 005c 68EEA78A 		vmul.f32	s17, s17, s15
 11750              	.LVL903:
3475:DMP/driver/eMPL/inv_mpu.c **** 		q3 = quat[3] / q30; 
 11751              		.loc 1 3475 3 is_stmt 1 view .LVU3485
 11752              		.loc 1 3475 16 is_stmt 0 view .LVU3486
 11753 0060 9DED057A 		vldr.32	s14, [sp, #20]	@ int
 11754 0064 F8EEC79A 		vcvt.f32.s32	s19, s14
 11755              		.loc 1 3475 6 view .LVU3487
 11756 0068 69EEA79A 		vmul.f32	s19, s19, s15
 11757              	.LVL904:
3476:DMP/driver/eMPL/inv_mpu.c **** 		//计算得到俯仰角/横滚角/航向角
3477:DMP/driver/eMPL/inv_mpu.c **** 		*pitch = asin(-2 * q1 * q3 + 2 * q0* q2)* 57.3;	// pitch
 11758              		.loc 1 3477 3 is_stmt 1 view .LVU3488
 11759              		.loc 1 3477 20 is_stmt 0 view .LVU3489
 11760 006c B8EE00AA 		vmov.f32	s20, #-2.0e+0
 11761 0070 29EE0AAA 		vmul.f32	s20, s18, s20
 11762              		.loc 1 3477 25 view .LVU3490
 11763 0074 2AEE297A 		vmul.f32	s14, s20, s19
 11764              		.loc 1 3477 34 view .LVU3491
 11765 0078 78EE08AA 		vadd.f32	s21, s16, s16
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 316


 11766              		.loc 1 3477 38 view .LVU3492
 11767 007c 6AEEA87A 		vmul.f32	s15, s21, s17
 11768              		.loc 1 3477 12 view .LVU3493
 11769 0080 77EE277A 		vadd.f32	s15, s14, s15
 11770 0084 17EE900A 		vmov	r0, s15
 11771 0088 FFF7FEFF 		bl	__aeabi_f2d
 11772              	.LVL905:
 11773 008c 41EC100B 		vmov	d0, r0, r1
 11774 0090 FFF7FEFF 		bl	asin
 11775              	.LVL906:
 11776 0094 51EC100B 		vmov	r0, r1, d0
 11777              		.loc 1 3477 43 view .LVU3494
 11778 0098 39A3     		adr	r3, .L891
 11779 009a D3E90023 		ldrd	r2, [r3]
 11780 009e FFF7FEFF 		bl	__aeabi_dmul
 11781              	.LVL907:
 11782 00a2 FFF7FEFF 		bl	__aeabi_d2f
 11783              	.LVL908:
 11784              		.loc 1 3477 10 view .LVU3495
 11785 00a6 3060     		str	r0, [r6]	@ float
3478:DMP/driver/eMPL/inv_mpu.c **** 		*roll  = atan2(2 * q2 * q3 + 2 * q0 * q1, -2 * q1 * q1 - 2 * q2* q2 + 1)* 57.3;	// roll
 11786              		.loc 1 3478 3 is_stmt 1 view .LVU3496
 11787              		.loc 1 3478 20 is_stmt 0 view .LVU3497
 11788 00a8 78EEA87A 		vadd.f32	s15, s17, s17
 11789              		.loc 1 3478 25 view .LVU3498
 11790 00ac 27EEA9BA 		vmul.f32	s22, s15, s19
 11791              		.loc 1 3478 39 view .LVU3499
 11792 00b0 6AEE89AA 		vmul.f32	s21, s21, s18
 11793              		.loc 1 3478 30 view .LVU3500
 11794 00b4 3BEE2ABA 		vadd.f32	s22, s22, s21
 11795              		.loc 1 3478 53 view .LVU3501
 11796 00b8 2AEE09AA 		vmul.f32	s20, s20, s18
 11797              		.loc 1 3478 66 view .LVU3502
 11798 00bc 67EEA87A 		vmul.f32	s15, s15, s17
 11799              		.loc 1 3478 58 view .LVU3503
 11800 00c0 3AEE67AA 		vsub.f32	s20, s20, s15
 11801              		.loc 1 3478 12 view .LVU3504
 11802 00c4 F7EE007A 		vmov.f32	s15, #1.0e+0
 11803 00c8 7AEE277A 		vadd.f32	s15, s20, s15
 11804 00cc 17EE900A 		vmov	r0, s15
 11805 00d0 FFF7FEFF 		bl	__aeabi_f2d
 11806              	.LVL909:
 11807 00d4 41EC1A0B 		vmov	d10, r0, r1
 11808 00d8 1BEE100A 		vmov	r0, s22
 11809 00dc FFF7FEFF 		bl	__aeabi_f2d
 11810              	.LVL910:
 11811 00e0 B0EE4A1A 		vmov.f32	s2, s20
 11812 00e4 F0EE6A1A 		vmov.f32	s3, s21
 11813 00e8 41EC100B 		vmov	d0, r0, r1
 11814 00ec FFF7FEFF 		bl	atan2
 11815              	.LVL911:
 11816 00f0 51EC100B 		vmov	r0, r1, d0
 11817              		.loc 1 3478 75 view .LVU3505
 11818 00f4 22A3     		adr	r3, .L891
 11819 00f6 D3E90023 		ldrd	r2, [r3]
 11820 00fa FFF7FEFF 		bl	__aeabi_dmul
 11821              	.LVL912:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 317


 11822 00fe FFF7FEFF 		bl	__aeabi_d2f
 11823              	.LVL913:
 11824              		.loc 1 3478 10 view .LVU3506
 11825 0102 2860     		str	r0, [r5]	@ float
3479:DMP/driver/eMPL/inv_mpu.c **** 		*yaw   = atan2(2*(q1*q2 + q0*q3),q0*q0+q1*q1-q2*q2-q3*q3) * 57.3;	//yaw
 11826              		.loc 1 3479 3 is_stmt 1 view .LVU3507
 11827              		.loc 1 3479 23 is_stmt 0 view .LVU3508
 11828 0104 69EE287A 		vmul.f32	s15, s18, s17
 11829              		.loc 1 3479 31 view .LVU3509
 11830 0108 28EE297A 		vmul.f32	s14, s16, s19
 11831              		.loc 1 3479 27 view .LVU3510
 11832 010c 77EE877A 		vadd.f32	s15, s15, s14
 11833              		.loc 1 3479 19 view .LVU3511
 11834 0110 37EEA7AA 		vadd.f32	s20, s15, s15
 11835              		.loc 1 3479 38 view .LVU3512
 11836 0114 28EE088A 		vmul.f32	s16, s16, s16
 11837              	.LVL914:
 11838              		.loc 1 3479 44 view .LVU3513
 11839 0118 29EE099A 		vmul.f32	s18, s18, s18
 11840              	.LVL915:
 11841              		.loc 1 3479 41 view .LVU3514
 11842 011c 38EE098A 		vadd.f32	s16, s16, s18
 11843              		.loc 1 3479 50 view .LVU3515
 11844 0120 68EEA88A 		vmul.f32	s17, s17, s17
 11845              	.LVL916:
 11846              		.loc 1 3479 47 view .LVU3516
 11847 0124 38EE688A 		vsub.f32	s16, s16, s17
 11848              		.loc 1 3479 56 view .LVU3517
 11849 0128 69EEA99A 		vmul.f32	s19, s19, s19
 11850              	.LVL917:
 11851              		.loc 1 3479 12 view .LVU3518
 11852 012c 78EE697A 		vsub.f32	s15, s16, s19
 11853 0130 17EE900A 		vmov	r0, s15
 11854 0134 FFF7FEFF 		bl	__aeabi_f2d
 11855              	.LVL918:
 11856 0138 41EC180B 		vmov	d8, r0, r1
 11857 013c 1AEE100A 		vmov	r0, s20
 11858 0140 FFF7FEFF 		bl	__aeabi_f2d
 11859              	.LVL919:
 11860 0144 B0EE481A 		vmov.f32	s2, s16
 11861 0148 F0EE681A 		vmov.f32	s3, s17
 11862 014c 41EC100B 		vmov	d0, r0, r1
 11863 0150 FFF7FEFF 		bl	atan2
 11864              	.LVL920:
 11865 0154 51EC100B 		vmov	r0, r1, d0
 11866              		.loc 1 3479 61 view .LVU3519
 11867 0158 09A3     		adr	r3, .L891
 11868 015a D3E90023 		ldrd	r2, [r3]
 11869 015e FFF7FEFF 		bl	__aeabi_dmul
 11870              	.LVL921:
 11871 0162 FFF7FEFF 		bl	__aeabi_d2f
 11872              	.LVL922:
 11873              		.loc 1 3479 10 view .LVU3520
 11874 0166 2060     		str	r0, [r4]	@ float
3480:DMP/driver/eMPL/inv_mpu.c **** 	}else return 2;
3481:DMP/driver/eMPL/inv_mpu.c **** 	return 0;
 11875              		.loc 1 3481 2 is_stmt 1 view .LVU3521
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 318


 11876              		.loc 1 3481 9 is_stmt 0 view .LVU3522
 11877 0168 0020     		movs	r0, #0
 11878              	.LVL923:
 11879              	.L887:
3482:DMP/driver/eMPL/inv_mpu.c **** }
 11880              		.loc 1 3482 1 view .LVU3523
 11881 016a 0CB0     		add	sp, sp, #48
 11882              	.LCFI204:
 11883              		.cfi_remember_state
 11884              		.cfi_def_cfa_offset 48
 11885              		@ sp needed
 11886 016c BDEC088B 		vldm	sp!, {d8-d11}
 11887              	.LCFI205:
 11888              		.cfi_restore 86
 11889              		.cfi_restore 87
 11890              		.cfi_restore 84
 11891              		.cfi_restore 85
 11892              		.cfi_restore 82
 11893              		.cfi_restore 83
 11894              		.cfi_restore 80
 11895              		.cfi_restore 81
 11896              		.cfi_def_cfa_offset 16
 11897 0170 70BD     		pop	{r4, r5, r6, pc}
 11898              	.LVL924:
 11899              	.L888:
 11900              	.LCFI206:
 11901              		.cfi_restore_state
3459:DMP/driver/eMPL/inv_mpu.c **** 	/* Gyro and accel data are written to the FIFO by the DMP in chip frame and hardware units.
 11902              		.loc 1 3459 80 view .LVU3524
 11903 0172 0120     		movs	r0, #1
 11904 0174 F9E7     		b	.L887
 11905              	.L889:
3480:DMP/driver/eMPL/inv_mpu.c **** 	}else return 2;
 11906              		.loc 1 3480 15 view .LVU3525
 11907 0176 0220     		movs	r0, #2
 11908 0178 F7E7     		b	.L887
 11909              	.L892:
 11910 017a 00BFAFF3 		.align	3
 11910      0080
 11911              	.L891:
 11912 0180 66666666 		.word	1717986918
 11913 0184 66A64C40 		.word	1078765158
 11914 0188 00008030 		.word	813694976
 11915              		.cfi_endproc
 11916              	.LFE224:
 11918              		.section	.text.mpu_mpl_get_data,"ax",%progbits
 11919              		.align	1
 11920              		.global	mpu_mpl_get_data
 11921              		.syntax unified
 11922              		.thumb
 11923              		.thumb_func
 11925              	mpu_mpl_get_data:
 11926              	.LVL925:
 11927              	.LFB225:
3483:DMP/driver/eMPL/inv_mpu.c **** 
3484:DMP/driver/eMPL/inv_mpu.c **** //得到mpl处理后的数据(注意,本函数需要比较多堆栈,局部变量有点多)
3485:DMP/driver/eMPL/inv_mpu.c **** //pitch:俯仰角 精度:0.1°   范围:-90.0° <---> +90.0°
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 319


3486:DMP/driver/eMPL/inv_mpu.c **** //roll:横滚角  精度:0.1°   范围:-180.0°<---> +180.0°
3487:DMP/driver/eMPL/inv_mpu.c **** //yaw:航向角   精度:0.1°   范围:-180.0°<---> +180.0°
3488:DMP/driver/eMPL/inv_mpu.c **** //返回值:0,正常
3489:DMP/driver/eMPL/inv_mpu.c **** //    其他,失败
3490:DMP/driver/eMPL/inv_mpu.c **** u8 mpu_mpl_get_data(float *pitch,float *roll,float *yaw)
3491:DMP/driver/eMPL/inv_mpu.c **** {
 11928              		.loc 1 3491 1 is_stmt 1 view -0
 11929              		.cfi_startproc
 11930              		@ args = 0, pretend = 0, frame = 120
 11931              		@ frame_needed = 0, uses_anonymous_args = 0
 11932              		.loc 1 3491 1 is_stmt 0 view .LVU3527
 11933 0000 70B5     		push	{r4, r5, r6, lr}
 11934              	.LCFI207:
 11935              		.cfi_def_cfa_offset 16
 11936              		.cfi_offset 4, -16
 11937              		.cfi_offset 5, -12
 11938              		.cfi_offset 6, -8
 11939              		.cfi_offset 14, -4
 11940 0002 A0B0     		sub	sp, sp, #128
 11941              	.LCFI208:
 11942              		.cfi_def_cfa_offset 144
 11943 0004 0646     		mov	r6, r0
 11944 0006 0D46     		mov	r5, r1
 11945 0008 1446     		mov	r4, r2
3492:DMP/driver/eMPL/inv_mpu.c **** 	unsigned long sensor_timestamp,timestamp;
 11946              		.loc 1 3492 2 is_stmt 1 view .LVU3528
3493:DMP/driver/eMPL/inv_mpu.c **** 	short gyro[3], accel_short[3],compass_short[3],sensors;
 11947              		.loc 1 3493 2 view .LVU3529
3494:DMP/driver/eMPL/inv_mpu.c **** 	unsigned char more;
 11948              		.loc 1 3494 2 view .LVU3530
3495:DMP/driver/eMPL/inv_mpu.c **** 	long compass[3],accel[3],quat[4],temperature; 
 11949              		.loc 1 3495 2 view .LVU3531
3496:DMP/driver/eMPL/inv_mpu.c ****     long data[9];
 11950              		.loc 1 3496 5 view .LVU3532
3497:DMP/driver/eMPL/inv_mpu.c ****     int8_t accuracy;
 11951              		.loc 1 3497 5 view .LVU3533
3498:DMP/driver/eMPL/inv_mpu.c ****     
3499:DMP/driver/eMPL/inv_mpu.c **** 	if(dmp_read_fifo(gyro, accel_short, quat, &sensor_timestamp, &sensors,&more))return 1;	 
 11952              		.loc 1 3499 2 view .LVU3534
 11953              		.loc 1 3499 5 is_stmt 0 view .LVU3535
 11954 000a 0DF15D03 		add	r3, sp, #93
 11955 000e 0193     		str	r3, [sp, #4]
 11956 0010 0DF15E03 		add	r3, sp, #94
 11957 0014 0093     		str	r3, [sp]
 11958 0016 1FAB     		add	r3, sp, #124
 11959 0018 0DAA     		add	r2, sp, #52
 11960              	.LVL926:
 11961              		.loc 1 3499 5 view .LVU3536
 11962 001a 1AA9     		add	r1, sp, #104
 11963              	.LVL927:
 11964              		.loc 1 3499 5 view .LVU3537
 11965 001c 1CA8     		add	r0, sp, #112
 11966              	.LVL928:
 11967              		.loc 1 3499 5 view .LVU3538
 11968 001e FFF7FEFF 		bl	dmp_read_fifo
 11969              	.LVL929:
 11970              		.loc 1 3499 4 view .LVU3539
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 320


 11971 0022 0028     		cmp	r0, #0
 11972 0024 61D1     		bne	.L898
3500:DMP/driver/eMPL/inv_mpu.c **** 
3501:DMP/driver/eMPL/inv_mpu.c ****     if(sensors&INV_XYZ_GYRO)
 11973              		.loc 1 3501 5 is_stmt 1 view .LVU3540
 11974              		.loc 1 3501 15 is_stmt 0 view .LVU3541
 11975 0026 BDF95E30 		ldrsh	r3, [sp, #94]
 11976              		.loc 1 3501 7 view .LVU3542
 11977 002a 13F0700F 		tst	r3, #112
 11978 002e 31D1     		bne	.L900
 11979              	.L895:
3502:DMP/driver/eMPL/inv_mpu.c ****     {
3503:DMP/driver/eMPL/inv_mpu.c ****         inv_build_gyro(gyro,sensor_timestamp);          //把新数据发送给MPL
3504:DMP/driver/eMPL/inv_mpu.c ****         mpu_get_temperature(&temperature,&sensor_timestamp);
3505:DMP/driver/eMPL/inv_mpu.c ****         inv_build_temp(temperature,sensor_timestamp);   //把温度值发给MPL，只有陀螺仪需要温度值
3506:DMP/driver/eMPL/inv_mpu.c ****     }
3507:DMP/driver/eMPL/inv_mpu.c ****     
3508:DMP/driver/eMPL/inv_mpu.c ****     if(sensors&INV_XYZ_ACCEL)
 11980              		.loc 1 3508 5 is_stmt 1 view .LVU3543
 11981              		.loc 1 3508 15 is_stmt 0 view .LVU3544
 11982 0030 BDF95E30 		ldrsh	r3, [sp, #94]
 11983              		.loc 1 3508 7 view .LVU3545
 11984 0034 13F0080F 		tst	r3, #8
 11985 0038 39D1     		bne	.L901
 11986              	.L896:
3509:DMP/driver/eMPL/inv_mpu.c ****     {
3510:DMP/driver/eMPL/inv_mpu.c ****         accel[0] = (long)accel_short[0];
3511:DMP/driver/eMPL/inv_mpu.c ****         accel[1] = (long)accel_short[1];
3512:DMP/driver/eMPL/inv_mpu.c ****         accel[2] = (long)accel_short[2];
3513:DMP/driver/eMPL/inv_mpu.c ****         inv_build_accel(accel,0,sensor_timestamp);      //把加速度值发给MPL
3514:DMP/driver/eMPL/inv_mpu.c ****     }
3515:DMP/driver/eMPL/inv_mpu.c ****     
3516:DMP/driver/eMPL/inv_mpu.c ****     if (!mpu_get_compass_reg(compass_short, &sensor_timestamp)) 
 11987              		.loc 1 3516 5 is_stmt 1 view .LVU3546
 11988              		.loc 1 3516 10 is_stmt 0 view .LVU3547
 11989 003a 1FA9     		add	r1, sp, #124
 11990 003c 18A8     		add	r0, sp, #96
 11991 003e FFF7FEFF 		bl	mpu_get_compass_reg
 11992              	.LVL930:
 11993              		.loc 1 3516 8 view .LVU3548
 11994 0042 0028     		cmp	r0, #0
 11995 0044 42D0     		beq	.L902
 11996              	.L897:
3517:DMP/driver/eMPL/inv_mpu.c ****     {
3518:DMP/driver/eMPL/inv_mpu.c ****         compass[0]=(long)compass_short[0];
3519:DMP/driver/eMPL/inv_mpu.c ****         compass[1]=(long)compass_short[1];
3520:DMP/driver/eMPL/inv_mpu.c ****         compass[2]=(long)compass_short[2];
3521:DMP/driver/eMPL/inv_mpu.c ****         inv_build_compass(compass,0,sensor_timestamp); //把磁力计值发给MPL
3522:DMP/driver/eMPL/inv_mpu.c ****     }
3523:DMP/driver/eMPL/inv_mpu.c ****     inv_execute_on_data();
 11997              		.loc 1 3523 5 is_stmt 1 view .LVU3549
 11998 0046 FFF7FEFF 		bl	inv_execute_on_data
 11999              	.LVL931:
3524:DMP/driver/eMPL/inv_mpu.c ****     inv_get_sensor_type_euler(data,&accuracy,&timestamp);
 12000              		.loc 1 3524 5 view .LVU3550
 12001 004a 1EAA     		add	r2, sp, #120
 12002 004c 0DF10B01 		add	r1, sp, #11
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 321


 12003 0050 03A8     		add	r0, sp, #12
 12004 0052 FFF7FEFF 		bl	inv_get_sensor_type_euler
 12005              	.LVL932:
3525:DMP/driver/eMPL/inv_mpu.c ****     
3526:DMP/driver/eMPL/inv_mpu.c ****     *roll  = (data[0]/q16);
 12006              		.loc 1 3526 5 view .LVU3551
 12007              		.loc 1 3526 22 is_stmt 0 view .LVU3552
 12008 0056 DDED037A 		vldr.32	s15, [sp, #12]	@ int
 12009 005a F8EEE77A 		vcvt.f32.s32	s15, s15
 12010 005e 9FED247A 		vldr.32	s14, .L903
 12011 0062 67EE877A 		vmul.f32	s15, s15, s14
 12012              		.loc 1 3526 12 view .LVU3553
 12013 0066 C5ED007A 		vstr.32	s15, [r5]
3527:DMP/driver/eMPL/inv_mpu.c ****     *pitch = -(data[1]/q16);
 12014              		.loc 1 3527 5 is_stmt 1 view .LVU3554
 12015              		.loc 1 3527 23 is_stmt 0 view .LVU3555
 12016 006a DDED047A 		vldr.32	s15, [sp, #16]	@ int
 12017 006e F8EEE77A 		vcvt.f32.s32	s15, s15
 12018              		.loc 1 3527 14 view .LVU3556
 12019 0072 67EE677A 		vnmul.f32	s15, s14, s15
 12020              		.loc 1 3527 12 view .LVU3557
 12021 0076 C6ED007A 		vstr.32	s15, [r6]
3528:DMP/driver/eMPL/inv_mpu.c ****     *yaw   = -data[2] / q16;
 12022              		.loc 1 3528 5 is_stmt 1 view .LVU3558
 12023              		.loc 1 3528 19 is_stmt 0 view .LVU3559
 12024 007a 059B     		ldr	r3, [sp, #20]
 12025              		.loc 1 3528 14 view .LVU3560
 12026 007c 5B42     		rsbs	r3, r3, #0
 12027 007e 07EE903A 		vmov	s15, r3	@ int
 12028              		.loc 1 3528 23 view .LVU3561
 12029 0082 F8EEE77A 		vcvt.f32.s32	s15, s15
 12030 0086 67EE877A 		vmul.f32	s15, s15, s14
 12031              		.loc 1 3528 12 view .LVU3562
 12032 008a C4ED007A 		vstr.32	s15, [r4]
3529:DMP/driver/eMPL/inv_mpu.c **** 	return 0;
 12033              		.loc 1 3529 2 is_stmt 1 view .LVU3563
 12034              		.loc 1 3529 9 is_stmt 0 view .LVU3564
 12035 008e 0020     		movs	r0, #0
 12036              	.L894:
3530:DMP/driver/eMPL/inv_mpu.c **** }
 12037              		.loc 1 3530 1 view .LVU3565
 12038 0090 20B0     		add	sp, sp, #128
 12039              	.LCFI209:
 12040              		.cfi_remember_state
 12041              		.cfi_def_cfa_offset 16
 12042              		@ sp needed
 12043 0092 70BD     		pop	{r4, r5, r6, pc}
 12044              	.LVL933:
 12045              	.L900:
 12046              	.LCFI210:
 12047              		.cfi_restore_state
3503:DMP/driver/eMPL/inv_mpu.c ****         mpu_get_temperature(&temperature,&sensor_timestamp);
 12048              		.loc 1 3503 9 is_stmt 1 view .LVU3566
 12049 0094 1F99     		ldr	r1, [sp, #124]
 12050 0096 1CA8     		add	r0, sp, #112
 12051 0098 FFF7FEFF 		bl	inv_build_gyro
 12052              	.LVL934:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 322


3504:DMP/driver/eMPL/inv_mpu.c ****         inv_build_temp(temperature,sensor_timestamp);   //把温度值发给MPL，只有陀螺仪需要温度值
 12053              		.loc 1 3504 9 view .LVU3567
 12054 009c 1FA9     		add	r1, sp, #124
 12055 009e 0CA8     		add	r0, sp, #48
 12056 00a0 FFF7FEFF 		bl	mpu_get_temperature
 12057              	.LVL935:
3505:DMP/driver/eMPL/inv_mpu.c ****     }
 12058              		.loc 1 3505 9 view .LVU3568
 12059 00a4 1F99     		ldr	r1, [sp, #124]
 12060 00a6 0C98     		ldr	r0, [sp, #48]
 12061 00a8 FFF7FEFF 		bl	inv_build_temp
 12062              	.LVL936:
 12063 00ac C0E7     		b	.L895
 12064              	.L901:
3510:DMP/driver/eMPL/inv_mpu.c ****         accel[1] = (long)accel_short[1];
 12065              		.loc 1 3510 9 view .LVU3569
3510:DMP/driver/eMPL/inv_mpu.c ****         accel[1] = (long)accel_short[1];
 12066              		.loc 1 3510 37 is_stmt 0 view .LVU3570
 12067 00ae BDF96830 		ldrsh	r3, [sp, #104]
3510:DMP/driver/eMPL/inv_mpu.c ****         accel[1] = (long)accel_short[1];
 12068              		.loc 1 3510 18 view .LVU3571
 12069 00b2 1193     		str	r3, [sp, #68]
3511:DMP/driver/eMPL/inv_mpu.c ****         accel[2] = (long)accel_short[2];
 12070              		.loc 1 3511 9 is_stmt 1 view .LVU3572
3511:DMP/driver/eMPL/inv_mpu.c ****         accel[2] = (long)accel_short[2];
 12071              		.loc 1 3511 37 is_stmt 0 view .LVU3573
 12072 00b4 BDF96A30 		ldrsh	r3, [sp, #106]
3511:DMP/driver/eMPL/inv_mpu.c ****         accel[2] = (long)accel_short[2];
 12073              		.loc 1 3511 18 view .LVU3574
 12074 00b8 1293     		str	r3, [sp, #72]
3512:DMP/driver/eMPL/inv_mpu.c ****         inv_build_accel(accel,0,sensor_timestamp);      //把加速度值发给MPL
 12075              		.loc 1 3512 9 is_stmt 1 view .LVU3575
3512:DMP/driver/eMPL/inv_mpu.c ****         inv_build_accel(accel,0,sensor_timestamp);      //把加速度值发给MPL
 12076              		.loc 1 3512 37 is_stmt 0 view .LVU3576
 12077 00ba BDF96C30 		ldrsh	r3, [sp, #108]
3512:DMP/driver/eMPL/inv_mpu.c ****         inv_build_accel(accel,0,sensor_timestamp);      //把加速度值发给MPL
 12078              		.loc 1 3512 18 view .LVU3577
 12079 00be 1393     		str	r3, [sp, #76]
3513:DMP/driver/eMPL/inv_mpu.c ****     }
 12080              		.loc 1 3513 9 is_stmt 1 view .LVU3578
 12081 00c0 1F9A     		ldr	r2, [sp, #124]
 12082 00c2 0021     		movs	r1, #0
 12083 00c4 11A8     		add	r0, sp, #68
 12084 00c6 FFF7FEFF 		bl	inv_build_accel
 12085              	.LVL937:
 12086 00ca B6E7     		b	.L896
 12087              	.L902:
3518:DMP/driver/eMPL/inv_mpu.c ****         compass[1]=(long)compass_short[1];
 12088              		.loc 1 3518 9 view .LVU3579
3518:DMP/driver/eMPL/inv_mpu.c ****         compass[1]=(long)compass_short[1];
 12089              		.loc 1 3518 39 is_stmt 0 view .LVU3580
 12090 00cc BDF96030 		ldrsh	r3, [sp, #96]
3518:DMP/driver/eMPL/inv_mpu.c ****         compass[1]=(long)compass_short[1];
 12091              		.loc 1 3518 19 view .LVU3581
 12092 00d0 1493     		str	r3, [sp, #80]
3519:DMP/driver/eMPL/inv_mpu.c ****         compass[2]=(long)compass_short[2];
 12093              		.loc 1 3519 9 is_stmt 1 view .LVU3582
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 323


3519:DMP/driver/eMPL/inv_mpu.c ****         compass[2]=(long)compass_short[2];
 12094              		.loc 1 3519 39 is_stmt 0 view .LVU3583
 12095 00d2 BDF96230 		ldrsh	r3, [sp, #98]
3519:DMP/driver/eMPL/inv_mpu.c ****         compass[2]=(long)compass_short[2];
 12096              		.loc 1 3519 19 view .LVU3584
 12097 00d6 1593     		str	r3, [sp, #84]
3520:DMP/driver/eMPL/inv_mpu.c ****         inv_build_compass(compass,0,sensor_timestamp); //把磁力计值发给MPL
 12098              		.loc 1 3520 9 is_stmt 1 view .LVU3585
3520:DMP/driver/eMPL/inv_mpu.c ****         inv_build_compass(compass,0,sensor_timestamp); //把磁力计值发给MPL
 12099              		.loc 1 3520 39 is_stmt 0 view .LVU3586
 12100 00d8 BDF96430 		ldrsh	r3, [sp, #100]
3520:DMP/driver/eMPL/inv_mpu.c ****         inv_build_compass(compass,0,sensor_timestamp); //把磁力计值发给MPL
 12101              		.loc 1 3520 19 view .LVU3587
 12102 00dc 1693     		str	r3, [sp, #88]
3521:DMP/driver/eMPL/inv_mpu.c ****     }
 12103              		.loc 1 3521 9 is_stmt 1 view .LVU3588
 12104 00de 1F9A     		ldr	r2, [sp, #124]
 12105 00e0 0021     		movs	r1, #0
 12106 00e2 14A8     		add	r0, sp, #80
 12107 00e4 FFF7FEFF 		bl	inv_build_compass
 12108              	.LVL938:
 12109 00e8 ADE7     		b	.L897
 12110              	.L898:
3499:DMP/driver/eMPL/inv_mpu.c **** 
 12111              		.loc 1 3499 86 is_stmt 0 view .LVU3589
 12112 00ea 0120     		movs	r0, #1
 12113 00ec D0E7     		b	.L894
 12114              	.L904:
 12115 00ee 00BF     		.align	2
 12116              	.L903:
 12117 00f0 00008037 		.word	931135488
 12118              		.cfi_endproc
 12119              	.LFE225:
 12121              		.section	.data.comp_orientation,"aw"
 12122              		.align	2
 12125              	comp_orientation:
 12126 0000 00010001 		.ascii	"\000\001\000\001\000\000\000\000\377"
 12126      00000000 
 12126      FF
 12127              		.section	.data.gyro_orientation,"aw"
 12128              		.align	2
 12131              	gyro_orientation:
 12132 0000 01000000 		.ascii	"\001\000\000\000\001\000\000\000\001"
 12132      01000000 
 12132      01
 12133              		.section	.rodata.mpu_6500_st_tb,"a"
 12134              		.align	2
 12137              	mpu_6500_st_tb:
 12138 0000 3C0A     		.short	2620
 12139 0002 560A     		.short	2646
 12140 0004 700A     		.short	2672
 12141 0006 8B0A     		.short	2699
 12142 0008 A60A     		.short	2726
 12143 000a C10A     		.short	2753
 12144 000c DD0A     		.short	2781
 12145 000e F80A     		.short	2808
 12146 0010 150B     		.short	2837
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 324


 12147 0012 310B     		.short	2865
 12148 0014 4E0B     		.short	2894
 12149 0016 6B0B     		.short	2923
 12150 0018 880B     		.short	2952
 12151 001a A50B     		.short	2981
 12152 001c C30B     		.short	3011
 12153 001e E10B     		.short	3041
 12154 0020 000C     		.short	3072
 12155 0022 1E0C     		.short	3102
 12156 0024 3D0C     		.short	3133
 12157 0026 5D0C     		.short	3165
 12158 0028 7C0C     		.short	3196
 12159 002a 9C0C     		.short	3228
 12160 002c BD0C     		.short	3261
 12161 002e DD0C     		.short	3293
 12162 0030 FE0C     		.short	3326
 12163 0032 1F0D     		.short	3359
 12164 0034 410D     		.short	3393
 12165 0036 630D     		.short	3427
 12166 0038 850D     		.short	3461
 12167 003a A80D     		.short	3496
 12168 003c CB0D     		.short	3531
 12169 003e EE0D     		.short	3566
 12170 0040 120E     		.short	3602
 12171 0042 360E     		.short	3638
 12172 0044 5A0E     		.short	3674
 12173 0046 7F0E     		.short	3711
 12174 0048 A40E     		.short	3748
 12175 004a CA0E     		.short	3786
 12176 004c EF0E     		.short	3823
 12177 004e 160F     		.short	3862
 12178 0050 3C0F     		.short	3900
 12179 0052 630F     		.short	3939
 12180 0054 8B0F     		.short	3979
 12181 0056 B30F     		.short	4019
 12182 0058 DB0F     		.short	4059
 12183 005a 0310     		.short	4099
 12184 005c 2C10     		.short	4140
 12185 005e 5610     		.short	4182
 12186 0060 8010     		.short	4224
 12187 0062 AA10     		.short	4266
 12188 0064 D410     		.short	4308
 12189 0066 0011     		.short	4352
 12190 0068 2B11     		.short	4395
 12191 006a 5711     		.short	4439
 12192 006c 8311     		.short	4483
 12193 006e B011     		.short	4528
 12194 0070 DE11     		.short	4574
 12195 0072 0B12     		.short	4619
 12196 0074 3912     		.short	4665
 12197 0076 6812     		.short	4712
 12198 0078 9712     		.short	4759
 12199 007a C712     		.short	4807
 12200 007c F712     		.short	4855
 12201 007e 2713     		.short	4903
 12202 0080 5913     		.short	4953
 12203 0082 8A13     		.short	5002
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 325


 12204 0084 BC13     		.short	5052
 12205 0086 EF13     		.short	5103
 12206 0088 2214     		.short	5154
 12207 008a 5514     		.short	5205
 12208 008c 8914     		.short	5257
 12209 008e BE14     		.short	5310
 12210 0090 F314     		.short	5363
 12211 0092 2915     		.short	5417
 12212 0094 5F15     		.short	5471
 12213 0096 9515     		.short	5525
 12214 0098 CD15     		.short	5581
 12215 009a 0416     		.short	5636
 12216 009c 3D16     		.short	5693
 12217 009e 7616     		.short	5750
 12218 00a0 AF16     		.short	5807
 12219 00a2 E916     		.short	5865
 12220 00a4 2417     		.short	5924
 12221 00a6 5F17     		.short	5983
 12222 00a8 9B17     		.short	6043
 12223 00aa D817     		.short	6104
 12224 00ac 1518     		.short	6165
 12225 00ae 5218     		.short	6226
 12226 00b0 9118     		.short	6289
 12227 00b2 CF18     		.short	6351
 12228 00b4 0F19     		.short	6415
 12229 00b6 4F19     		.short	6479
 12230 00b8 9019     		.short	6544
 12231 00ba D119     		.short	6609
 12232 00bc 131A     		.short	6675
 12233 00be 561A     		.short	6742
 12234 00c0 9A1A     		.short	6810
 12235 00c2 DE1A     		.short	6878
 12236 00c4 221B     		.short	6946
 12237 00c6 681B     		.short	7016
 12238 00c8 AE1B     		.short	7086
 12239 00ca F51B     		.short	7157
 12240 00cc 3D1C     		.short	7229
 12241 00ce 851C     		.short	7301
 12242 00d0 CE1C     		.short	7374
 12243 00d2 181D     		.short	7448
 12244 00d4 621D     		.short	7522
 12245 00d6 AD1D     		.short	7597
 12246 00d8 F91D     		.short	7673
 12247 00da 461E     		.short	7750
 12248 00dc 941E     		.short	7828
 12249 00de E21E     		.short	7906
 12250 00e0 311F     		.short	7985
 12251 00e2 811F     		.short	8065
 12252 00e4 D11F     		.short	8145
 12253 00e6 2320     		.short	8227
 12254 00e8 7520     		.short	8309
 12255 00ea C820     		.short	8392
 12256 00ec 1C21     		.short	8476
 12257 00ee 7121     		.short	8561
 12258 00f0 C721     		.short	8647
 12259 00f2 1D22     		.short	8733
 12260 00f4 7422     		.short	8820
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 326


 12261 00f6 CD22     		.short	8909
 12262 00f8 2623     		.short	8998
 12263 00fa 8023     		.short	9088
 12264 00fc DA23     		.short	9178
 12265 00fe 3624     		.short	9270
 12266 0100 9324     		.short	9363
 12267 0102 F124     		.short	9457
 12268 0104 4F25     		.short	9551
 12269 0106 AF25     		.short	9647
 12270 0108 0F26     		.short	9743
 12271 010a 7126     		.short	9841
 12272 010c D326     		.short	9939
 12273 010e 3627     		.short	10038
 12274 0110 9B27     		.short	10139
 12275 0112 0028     		.short	10240
 12276 0114 6728     		.short	10343
 12277 0116 CE28     		.short	10446
 12278 0118 3629     		.short	10550
 12279 011a A029     		.short	10656
 12280 011c 0B2A     		.short	10763
 12281 011e 762A     		.short	10870
 12282 0120 E32A     		.short	10979
 12283 0122 512B     		.short	11089
 12284 0124 C02B     		.short	11200
 12285 0126 302C     		.short	11312
 12286 0128 A12C     		.short	11425
 12287 012a 132D     		.short	11539
 12288 012c 862D     		.short	11654
 12289 012e FB2D     		.short	11771
 12290 0130 712E     		.short	11889
 12291 0132 E82E     		.short	12008
 12292 0134 602F     		.short	12128
 12293 0136 D92F     		.short	12249
 12294 0138 5330     		.short	12371
 12295 013a CF30     		.short	12495
 12296 013c 4C31     		.short	12620
 12297 013e CA31     		.short	12746
 12298 0140 4A32     		.short	12874
 12299 0142 CA32     		.short	13002
 12300 0144 4C33     		.short	13132
 12301 0146 D033     		.short	13264
 12302 0148 5434     		.short	13396
 12303 014a DA34     		.short	13530
 12304 014c 6235     		.short	13666
 12305 014e EA35     		.short	13802
 12306 0150 7436     		.short	13940
 12307 0152 0037     		.short	14080
 12308 0154 8D37     		.short	14221
 12309 0156 1B38     		.short	14363
 12310 0158 AA38     		.short	14506
 12311 015a 3C39     		.short	14652
 12312 015c CE39     		.short	14798
 12313 015e 623A     		.short	14946
 12314 0160 F83A     		.short	15096
 12315 0162 8F3B     		.short	15247
 12316 0164 273C     		.short	15399
 12317 0166 C13C     		.short	15553
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 327


 12318 0168 5D3D     		.short	15709
 12319 016a FA3D     		.short	15866
 12320 016c 983E     		.short	16024
 12321 016e 383F     		.short	16184
 12322 0170 DA3F     		.short	16346
 12323 0172 7E40     		.short	16510
 12324 0174 2341     		.short	16675
 12325 0176 CA41     		.short	16842
 12326 0178 7242     		.short	17010
 12327 017a 1C43     		.short	17180
 12328 017c C843     		.short	17352
 12329 017e 7644     		.short	17526
 12330 0180 2545     		.short	17701
 12331 0182 D645     		.short	17878
 12332 0184 8946     		.short	18057
 12333 0186 3D47     		.short	18237
 12334 0188 F447     		.short	18420
 12335 018a AC48     		.short	18604
 12336 018c 6649     		.short	18790
 12337 018e 224A     		.short	18978
 12338 0190 DF4A     		.short	19167
 12339 0192 9F4B     		.short	19359
 12340 0194 614C     		.short	19553
 12341 0196 244D     		.short	19748
 12342 0198 EA4D     		.short	19946
 12343 019a B14E     		.short	20145
 12344 019c 7B4F     		.short	20347
 12345 019e 4650     		.short	20550
 12346 01a0 1451     		.short	20756
 12347 01a2 E351     		.short	20963
 12348 01a4 B552     		.short	21173
 12349 01a6 8953     		.short	21385
 12350 01a8 5E54     		.short	21598
 12351 01aa 3655     		.short	21814
 12352 01ac 1156     		.short	22033
 12353 01ae ED56     		.short	22253
 12354 01b0 CB57     		.short	22475
 12355 01b2 AC58     		.short	22700
 12356 01b4 8F59     		.short	22927
 12357 01b6 745A     		.short	23156
 12358 01b8 5C5B     		.short	23388
 12359 01ba 465C     		.short	23622
 12360 01bc 325D     		.short	23858
 12361 01be 215E     		.short	24097
 12362 01c0 125F     		.short	24338
 12363 01c2 0560     		.short	24581
 12364 01c4 FB60     		.short	24827
 12365 01c6 F361     		.short	25075
 12366 01c8 EE62     		.short	25326
 12367 01ca EB63     		.short	25579
 12368 01cc EB64     		.short	25835
 12369 01ce ED65     		.short	26093
 12370 01d0 F266     		.short	26354
 12371 01d2 FA67     		.short	26618
 12372 01d4 0469     		.short	26884
 12373 01d6 116A     		.short	27153
 12374 01d8 206B     		.short	27424
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 328


 12375 01da 336C     		.short	27699
 12376 01dc 486D     		.short	27976
 12377 01de 5F6E     		.short	28255
 12378 01e0 7A6F     		.short	28538
 12379 01e2 9770     		.short	28823
 12380 01e4 B871     		.short	29112
 12381 01e6 DB72     		.short	29403
 12382 01e8 0174     		.short	29697
 12383 01ea 2A75     		.short	29994
 12384 01ec 5676     		.short	30294
 12385 01ee 8577     		.short	30597
 12386 01f0 B778     		.short	30903
 12387 01f2 EC79     		.short	31212
 12388 01f4 247B     		.short	31524
 12389 01f6 5F7C     		.short	31839
 12390 01f8 9D7D     		.short	32157
 12391 01fa DF7E     		.short	32479
 12392 01fc 2480     		.short	-32732
 12393 01fe 6C81     		.short	-32404
 12394              		.section	.data.st,"aw"
 12395              		.align	2
 12398              	st:
 12399 0000 00000000 		.word	reg
 12400 0004 00000000 		.word	hw
 12401 0008 00000000 		.space	44
 12401      00000000 
 12401      00000000 
 12401      00000000 
 12401      00000000 
 12402 0034 00000000 		.word	test
 12403              		.global	test
 12404              		.section	.rodata.test,"a"
 12405              		.align	2
 12408              	test:
 12409 0000 83000000 		.word	131
 12410 0004 00400000 		.word	16384
 12411 0008 00       		.byte	0
 12412 0009 02       		.byte	2
 12413 000a 00       		.byte	0
 12414 000b 00       		.byte	0
 12415 000c C800     		.short	200
 12416 000e C8       		.byte	-56
 12417 000f 00       		.space	1
 12418 0010 0000A041 		.word	1101004800
 12419 0014 00007042 		.word	1114636288
 12420 0018 0000003F 		.word	1056964608
 12421 001c 6666663E 		.word	1046898278
 12422 0020 CDCC2C3F 		.word	1059900621
 12423 0024 0000003F 		.word	1056964608
 12424 0028 0000003F 		.word	1056964608
 12425 002c 0A00     		.short	10
 12426 002e 0000     		.space	2
 12427              		.global	hw
 12428              		.section	.rodata.hw,"a"
 12429              		.align	2
 12432              	hw:
 12433 0000 68       		.byte	104
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 329


 12434 0001 00       		.space	1
 12435 0002 0004     		.short	1024
 12436 0004 80       		.byte	-128
 12437 0005 00       		.space	1
 12438 0006 4101     		.short	321
 12439 0008 0000     		.short	0
 12440 000a 0001     		.short	256
 12441 000c 3313     		.short	4915
 12442              		.global	reg
 12443              		.section	.rodata.reg,"a"
 12444              		.align	2
 12447              	reg:
 12448 0000 75       		.byte	117
 12449 0001 19       		.byte	25
 12450 0002 1A       		.byte	26
 12451 0003 0C       		.byte	12
 12452 0004 6A       		.byte	106
 12453 0005 23       		.byte	35
 12454 0006 1B       		.byte	27
 12455 0007 1C       		.byte	28
 12456 0008 1D       		.byte	29
 12457 0009 1E       		.byte	30
 12458 000a 1F       		.byte	31
 12459 000b 20       		.byte	32
 12460 000c 72       		.byte	114
 12461 000d 74       		.byte	116
 12462 000e 43       		.byte	67
 12463 000f 3B       		.byte	59
 12464 0010 41       		.byte	65
 12465 0011 38       		.byte	56
 12466 0012 39       		.byte	57
 12467 0013 3A       		.byte	58
 12468 0014 69       		.byte	105
 12469 0015 6B       		.byte	107
 12470 0016 6C       		.byte	108
 12471 0017 37       		.byte	55
 12472 0018 6F       		.byte	111
 12473 0019 77       		.byte	119
 12474 001a 24       		.byte	36
 12475 001b 6D       		.byte	109
 12476 001c 6E       		.byte	110
 12477 001d 70       		.byte	112
 12478 001e 25       		.byte	37
 12479 001f 26       		.byte	38
 12480 0020 27       		.byte	39
 12481 0021 28       		.byte	40
 12482 0022 29       		.byte	41
 12483 0023 2A       		.byte	42
 12484 0024 34       		.byte	52
 12485 0025 63       		.byte	99
 12486 0026 64       		.byte	100
 12487 0027 67       		.byte	103
 12488 0028 49       		.byte	73
 12489 0029 00       		.space	1
 12490              		.global	mpl_key
 12491              		.section	.rodata.str1.4,"aMS",%progbits,1
 12492              		.align	2
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 330


 12493              	.LC38:
 12494 0000 654D504C 		.ascii	"eMPL 5.1\000"
 12494      20352E31 
 12494      00
 12495              		.section	.data.mpl_key,"aw"
 12496              		.align	2
 12499              	mpl_key:
 12500 0000 00000000 		.word	.LC38
 12501              		.section	.rodata
 12502              		.align	2
 12503              		.set	.LANCHOR0,. + 0
 12504              	.LC27:
 12505 0000 00000000 		.ascii	"\000\000\000\000\000\000"
 12505      0000
 12506              		.text
 12507              	.Letext0:
 12508              		.file 2 "/usr/local/include/arm/_types.h"
 12509              		.file 3 "/usr/local/include/sys/_types/_int8_t.h"
 12510              		.file 4 "/usr/local/include/sys/_types/_size_t.h"
 12511              		.file 5 "/usr/local/include/_types/_uint8_t.h"
 12512              		.file 6 "/usr/local/include/_types/_uint32_t.h"
 12513              		.file 7 "DMP/driver/include/mltypes.h"
 12514              		.file 8 "DMP/driver/eMPL/inv_mpu.h"
 12515              		.file 9 "DMP/eMPL-hal/eMPL_outputs.h"
 12516              		.file 10 "DMP/mllite/data_builder.h"
 12517              		.file 11 "/usr/local/include/math.h"
 12518              		.file 12 "DMP/driver/eMPL/inv_mpu_dmp_motion_driver.h"
 12519              		.file 13 "DMP/mllite/ml_math_func.h"
 12520              		.file 14 "DMP/mllite/mpl.h"
 12521              		.file 15 "DMP/mpl/mag_disturb.h"
 12522              		.file 16 "DMP/mpl/compass_vec_cal.h"
 12523              		.file 17 "DMP/mpl/gyro_tc.h"
 12524              		.file 18 "DMP/mpl/fast_no_motion.h"
 12525              		.file 19 "DMP/mpl/fusion_9axis.h"
 12526              		.file 20 "DMP/mpl/quaternion_supervisor.h"
 12527              		.file 21 "/usr/local/include/string.h"
 12528              		.file 22 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal.h"
 12529              		.file 23 "MPU9250/mpu9250.h"
 12530              		.file 24 "/usr/local/include/stdio.h"
 12531              		.file 25 "<built-in>"
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 331


DEFINED SYMBOLS
                            *ABS*:00000000 inv_mpu.c
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:21     .text.set_int_enable:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:26     .text.set_int_enable:00000000 set_int_enable
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:168    .text.set_int_enable:00000094 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:12398  .data.st:00000000 st
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:174    .text.get_st_biases:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:179    .text.get_st_biases:00000000 get_st_biases
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:598    .text.get_st_biases:0000022c $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:605    .text.get_st_biases:00000234 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:964    .text.get_st_biases:00000424 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:969    .rodata.get_st_6500_biases.str1.4:00000000 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:985    .text.get_st_6500_biases:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:990    .text.get_st_6500_biases:00000000 get_st_6500_biases
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:1369   .text.get_st_6500_biases:000001f0 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:1377   .text.get_st_6500_biases:000001f8 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:1961   .text.get_st_6500_biases:0000055c $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:1971   .rodata.accel_6500_self_test.str1.4:00000000 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:2017   .text.accel_6500_self_test:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:2022   .text.accel_6500_self_test:00000000 accel_6500_self_test
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:2515   .text.accel_6500_self_test:000002b0 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:12137  .rodata.mpu_6500_st_tb:00000000 mpu_6500_st_tb
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:2544   .rodata.gyro_6500_self_test.str1.4:00000000 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:2569   .text.gyro_6500_self_test:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:2574   .text.gyro_6500_self_test:00000000 gyro_6500_self_test
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:3050   .text.gyro_6500_self_test:00000288 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:3075   .rodata.mpu_reg_dump.str1.4:00000000 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:3079   .text.mpu_reg_dump:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:3085   .text.mpu_reg_dump:00000000 mpu_reg_dump
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:3177   .text.mpu_reg_dump:00000050 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:3183   .text.mpu_read_reg:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:3189   .text.mpu_read_reg:00000000 mpu_read_reg
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:3272   .text.mpu_read_reg:0000003c $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:3277   .text.mpu_get_gyro_reg:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:3283   .text.mpu_get_gyro_reg:00000000 mpu_get_gyro_reg
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:3383   .text.mpu_get_gyro_reg:00000060 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:3388   .text.mpu_get_accel_reg:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:3394   .text.mpu_get_accel_reg:00000000 mpu_get_accel_reg
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:3494   .text.mpu_get_accel_reg:00000060 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:3499   .text.mpu_get_temperature:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:3505   .text.mpu_get_temperature:00000000 mpu_get_temperature
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:3620   .text.mpu_get_temperature:00000078 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:3626   .text.mpu_read_6500_accel_bias:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:3632   .text.mpu_read_6500_accel_bias:00000000 mpu_read_6500_accel_bias
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:3744   .text.mpu_read_6500_accel_bias:00000080 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:3749   .text.mpu_read_6050_accel_bias:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:3755   .text.mpu_read_6050_accel_bias:00000000 mpu_read_6050_accel_bias
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:3867   .text.mpu_read_6050_accel_bias:00000080 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:3872   .text.mpu_read_6500_gyro_bias:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:3878   .text.mpu_read_6500_gyro_bias:00000000 mpu_read_6500_gyro_bias
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:3990   .text.mpu_read_6500_gyro_bias:00000080 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:3995   .text.mpu_set_gyro_bias_reg:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:4001   .text.mpu_set_gyro_bias_reg:00000000 mpu_set_gyro_bias_reg
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:4144   .text.mpu_set_gyro_bias_reg:0000009c $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:4150   .text.mpu_set_accel_bias_6050_reg:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:4156   .text.mpu_set_accel_bias_6050_reg:00000000 mpu_set_accel_bias_6050_reg
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:4318   .text.mpu_set_accel_bias_6050_reg:000000c0 $d
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 332


/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:4324   .text.mpu_set_accel_bias_6500_reg:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:4330   .text.mpu_set_accel_bias_6500_reg:00000000 mpu_set_accel_bias_6500_reg
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:4492   .text.mpu_set_accel_bias_6500_reg:000000c0 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:4498   .text.mpu_reset_fifo:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:4504   .text.mpu_reset_fifo:00000000 mpu_reset_fifo
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:4873   .text.mpu_reset_fifo:000001f4 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:4878   .text.mpu_get_gyro_fsr:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:4884   .text.mpu_get_gyro_fsr:00000000 mpu_get_gyro_fsr
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:4901   .text.mpu_get_gyro_fsr:0000000c $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:4905   .text.mpu_get_gyro_fsr:00000010 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:4951   .text.mpu_get_gyro_fsr:00000038 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:4956   .text.mpu_set_gyro_fsr:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:4962   .text.mpu_set_gyro_fsr:00000000 mpu_set_gyro_fsr
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:5106   .text.mpu_set_gyro_fsr:00000094 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:5111   .text.mpu_get_accel_fsr:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:5117   .text.mpu_get_accel_fsr:00000000 mpu_get_accel_fsr
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:5134   .text.mpu_get_accel_fsr:0000000c $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:5138   .text.mpu_get_accel_fsr:00000010 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:5201   .text.mpu_get_accel_fsr:00000040 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:5206   .text.mpu_set_accel_fsr:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:5212   .text.mpu_set_accel_fsr:00000000 mpu_set_accel_fsr
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:5243   .text.mpu_set_accel_fsr:00000016 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:5357   .text.mpu_set_accel_fsr:00000090 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:5362   .text.mpu_get_lpf:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:5368   .text.mpu_get_lpf:00000000 mpu_get_lpf
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:5386   .text.mpu_get_lpf:0000000e $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:5392   .text.mpu_get_lpf:00000014 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:5452   .text.mpu_get_lpf:00000040 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:5457   .text.mpu_set_lpf:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:5463   .text.mpu_set_lpf:00000000 mpu_set_lpf
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:5609   .text.mpu_set_lpf:00000090 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:5614   .text.mpu_get_sample_rate:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:5620   .text.mpu_get_sample_rate:00000000 mpu_get_sample_rate
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:5656   .text.mpu_get_sample_rate:00000018 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:5661   .text.mpu_get_compass_sample_rate:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:5667   .text.mpu_get_compass_sample_rate:00000000 mpu_get_compass_sample_rate
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:5690   .text.mpu_get_compass_sample_rate:0000000c $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:5695   .text.mpu_set_compass_sample_rate:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:5701   .text.mpu_set_compass_sample_rate:00000000 mpu_set_compass_sample_rate
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:5804   .text.mpu_set_compass_sample_rate:00000064 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:5809   .text.mpu_get_gyro_sens:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:5815   .text.mpu_get_gyro_sens:00000000 mpu_get_gyro_sens
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:5832   .text.mpu_get_gyro_sens:0000000c $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:5836   .text.mpu_get_gyro_sens:00000010 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:5894   .text.mpu_get_gyro_sens:00000038 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:5903   .text.mpu_get_accel_sens:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:5909   .text.mpu_get_accel_sens:00000000 mpu_get_accel_sens
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:5926   .text.mpu_get_accel_sens:0000000c $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:5930   .text.mpu_get_accel_sens:00000010 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:5993   .text.mpu_get_accel_sens:00000048 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:5998   .text.mpu_get_fifo_config:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:6004   .text.mpu_get_fifo_config:00000000 mpu_get_fifo_config
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:6027   .text.mpu_get_fifo_config:0000000c $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:6032   .text.mpu_configure_fifo:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:6038   .text.mpu_configure_fifo:00000000 mpu_configure_fifo
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:6155   .text.mpu_configure_fifo:00000060 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:6160   .text.mpu_get_power_state:00000000 $t
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 333


/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:6166   .text.mpu_get_power_state:00000000 mpu_get_power_state
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:6201   .text.mpu_get_power_state:00000014 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:6206   .text.mpu_get_int_status:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:6212   .text.mpu_get_int_status:00000000 mpu_get_int_status
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:6292   .text.mpu_get_int_status:00000040 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:6297   .text.mpu_read_fifo:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:6303   .text.mpu_read_fifo:00000000 mpu_read_fifo
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:6731   .text.mpu_read_fifo:000001fc $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:6736   .text.mpu_read_fifo_stream:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:6742   .text.mpu_read_fifo_stream:00000000 mpu_read_fifo_stream
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:6939   .text.mpu_read_fifo_stream:000000bc $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:6944   .text.mpu_set_bypass:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:6950   .text.mpu_set_bypass:00000000 mpu_set_bypass
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:7226   .text.mpu_set_bypass:00000164 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:7231   .rodata.setup_compass.str1.4:00000000 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:7235   .text.setup_compass:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:7240   .text.setup_compass:00000000 setup_compass
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:7659   .text.setup_compass:0000023c $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:7665   .text.compass_self_test:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:7670   .text.compass_self_test:00000000 compass_self_test
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:7961   .text.compass_self_test:00000144 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:7966   .text.mpu_set_int_level:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:7972   .text.mpu_set_int_level:00000000 mpu_set_int_level
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:7993   .text.mpu_set_int_level:0000000c $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:7998   .text.mpu_set_int_latched:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:8004   .text.mpu_set_int_latched:00000000 mpu_set_int_latched
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:8120   .text.mpu_set_int_latched:00000070 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:8125   .text.mpu_lp_accel_mode:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:8131   .text.mpu_lp_accel_mode:00000000 mpu_lp_accel_mode
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:8350   .text.mpu_lp_accel_mode:000000e4 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:8355   .text.mpu_set_sample_rate:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:8361   .text.mpu_set_sample_rate:00000000 mpu_set_sample_rate
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:8530   .text.mpu_set_sample_rate:000000a8 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:8535   .text.mpu_set_sensors:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:8541   .text.mpu_set_sensors:00000000 mpu_set_sensors
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:8834   .text.mpu_set_sensors:00000190 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:8839   .text.mpu_init:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:8845   .text.mpu_init:00000000 mpu_init
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:9087   .text.mpu_init:00000118 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:9092   .text.mpu_write_mem:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:9098   .text.mpu_write_mem:00000000 mpu_write_mem
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:9230   .text.mpu_write_mem:00000070 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:9235   .text.mpu_read_mem:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:9241   .text.mpu_read_mem:00000000 mpu_read_mem
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:9373   .text.mpu_read_mem:00000070 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:9378   .text.mpu_load_firmware:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:9384   .text.mpu_load_firmware:00000000 mpu_load_firmware
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:9559   .text.mpu_load_firmware:000000b0 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:9564   .text.mpu_set_dmp_state:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:9570   .text.mpu_set_dmp_state:00000000 mpu_set_dmp_state
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:9717   .text.mpu_set_dmp_state:00000090 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:9722   .rodata.mpu_run_6500_self_test.str1.4:00000000 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:9750   .text.mpu_run_6500_self_test:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:9756   .text.mpu_run_6500_self_test:00000000 mpu_run_6500_self_test
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:10155  .text.mpu_run_6500_self_test:00000184 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:10169  .text.mpu_run_self_test:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:10175  .text.mpu_run_self_test:00000000 mpu_run_self_test
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 334


/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:10327  .text.mpu_run_self_test:000000a8 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:10332  .text.mpu_get_dmp_state:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:10338  .text.mpu_get_dmp_state:00000000 mpu_get_dmp_state
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:10361  .text.mpu_get_dmp_state:0000000c $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:10366  .text.mpu_get_compass_reg:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:10372  .text.mpu_get_compass_reg:00000000 mpu_get_compass_reg
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:10527  .text.mpu_get_compass_reg:000000b0 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:10532  .text.mpu_get_compass_fsr:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:10538  .text.mpu_get_compass_fsr:00000000 mpu_get_compass_fsr
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:10563  .text.mpu_get_compass_fsr:0000000c $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:10568  .text.mpu_lp_motion_interrupt:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:10574  .text.mpu_lp_motion_interrupt:00000000 mpu_lp_motion_interrupt
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:11062  .text.mpu_lp_motion_interrupt:00000234 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:11069  .text.run_self_test:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:11075  .text.run_self_test:00000000 run_self_test
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:11192  .text.inv_row_2_scale:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:11198  .text.inv_row_2_scale:00000000 inv_row_2_scale
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:11286  .text.mget_ms:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:11292  .text.mget_ms:00000000 mget_ms
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:11306  .text.mpu_dmp_init:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:11312  .text.mpu_dmp_init:00000000 mpu_dmp_init
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:11648  .text.mpu_dmp_init:00000158 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:12131  .data.gyro_orientation:00000000 gyro_orientation
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:12125  .data.comp_orientation:00000000 comp_orientation
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:11658  .text.mpu_dmp_get_data:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:11664  .text.mpu_dmp_get_data:00000000 mpu_dmp_get_data
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:11912  .text.mpu_dmp_get_data:00000180 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:11919  .text.mpu_mpl_get_data:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:11925  .text.mpu_mpl_get_data:00000000 mpu_mpl_get_data
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:12117  .text.mpu_mpl_get_data:000000f0 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:12122  .data.comp_orientation:00000000 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:12128  .data.gyro_orientation:00000000 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:12134  .rodata.mpu_6500_st_tb:00000000 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:12395  .data.st:00000000 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:12447  .rodata.reg:00000000 reg
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:12432  .rodata.hw:00000000 hw
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:12408  .rodata.test:00000000 test
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:12405  .rodata.test:00000000 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:12429  .rodata.hw:00000000 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:12444  .rodata.reg:00000000 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:12499  .data.mpl_key:00000000 mpl_key
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:12492  .rodata.str1.4:00000000 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:12496  .data.mpl_key:00000000 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:12502  .rodata:00000000 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:5258   .text.mpu_set_accel_fsr:00000025 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s:5258   .text.mpu_set_accel_fsr:00000026 $t

UNDEFINED SYMBOLS
MPU_Write_Len
__aeabi_ldivmod
HAL_Delay
MPU_Read_Len
__aeabi_f2d
puts
printf
__aeabi_i2d
__aeabi_dcmpgt
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cclZ9YEQ.s 			page 335


memcmp
dmp_set_gyro_bias
dmp_set_accel_bias
inv_init_mpl
inv_enable_quaternion
inv_enable_9x_sensor_fusion
inv_enable_fast_nomot
inv_enable_gyro_tc
inv_enable_vector_compass_cal
inv_enable_magnetic_disturbance
inv_enable_eMPL_outputs
inv_start_mpl
inv_set_gyro_sample_rate
inv_set_accel_sample_rate
inv_set_compass_sample_rate
inv_orientation_matrix_to_scalar
inv_set_gyro_orientation_and_scale
inv_set_accel_orientation_and_scale
inv_set_compass_orientation_and_scale
dmp_load_motion_driver_firmware
dmp_set_orientation
dmp_enable_feature
dmp_set_fifo_rate
__aeabi_dmul
__aeabi_d2f
dmp_read_fifo
asin
atan2
inv_execute_on_data
inv_get_sensor_type_euler
inv_build_gyro
inv_build_temp
inv_build_accel
inv_build_compass
